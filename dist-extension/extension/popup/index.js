(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var ed={exports:{}},Di={},td={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=Symbol.for("react.element"),Sm=Symbol.for("react.portal"),xm=Symbol.for("react.fragment"),wm=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),km=Symbol.for("react.provider"),Am=Symbol.for("react.context"),Im=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),_m=Symbol.for("react.memo"),Cm=Symbol.for("react.lazy"),du=Symbol.iterator;function Nm(e){return e===null||typeof e!="object"?null:(e=du&&e[du]||e["@@iterator"],typeof e=="function"?e:null)}var nd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rd=Object.assign,od={};function Sr(e,t,n){this.props=e,this.context=t,this.refs=od,this.updater=n||nd}Sr.prototype.isReactComponent={};Sr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Sr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function id(){}id.prototype=Sr.prototype;function Hl(e,t,n){this.props=e,this.context=t,this.refs=od,this.updater=n||nd}var Gl=Hl.prototype=new id;Gl.constructor=Hl;rd(Gl,Sr.prototype);Gl.isPureReactComponent=!0;var fu=Array.isArray,sd=Object.prototype.hasOwnProperty,Ql={current:null},ld={key:!0,ref:!0,__self:!0,__source:!0};function ad(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)sd.call(t,r)&&!ld.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:vo,type:e,key:i,ref:s,props:o,_owner:Ql.current}}function Pm(e,t){return{$$typeof:vo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Xl(e){return typeof e=="object"&&e!==null&&e.$$typeof===vo}function jm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pu=/\/+/g;function ts(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jm(""+e.key):t.toString(36)}function Vo(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case vo:case Sm:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+ts(s,0):r,fu(o)?(n="",e!=null&&(n=e.replace(pu,"$&/")+"/"),Vo(o,t,n,"",function(d){return d})):o!=null&&(Xl(o)&&(o=Pm(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(pu,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",fu(e))for(var u=0;u<e.length;u++){i=e[u];var c=r+ts(i,u);s+=Vo(i,t,n,c,o)}else if(c=Nm(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=r+ts(i,u++),s+=Vo(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Io(e,t,n){if(e==null)return e;var r=[],o=0;return Vo(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Rm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ve={current:null},Ho={transition:null},Om={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Ho,ReactCurrentOwner:Ql};function ud(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Io,forEach:function(e,t,n){Io(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Io(e,function(){t++}),t},toArray:function(e){return Io(e,function(t){return t})||[]},only:function(e){if(!Xl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Sr;Q.Fragment=xm;Q.Profiler=Em;Q.PureComponent=Hl;Q.StrictMode=wm;Q.Suspense=Tm;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Om;Q.act=ud;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rd({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Ql.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)sd.call(t,c)&&!ld.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:vo,type:e.type,key:o,ref:i,props:r,_owner:s}};Q.createContext=function(e){return e={$$typeof:Am,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:km,_context:e},e.Consumer=e};Q.createElement=ad;Q.createFactory=function(e){var t=ad.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Im,render:e}};Q.isValidElement=Xl;Q.lazy=function(e){return{$$typeof:Cm,_payload:{_status:-1,_result:e},_init:Rm}};Q.memo=function(e,t){return{$$typeof:_m,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Ho.transition;Ho.transition={};try{e()}finally{Ho.transition=t}};Q.unstable_act=ud;Q.useCallback=function(e,t){return Ve.current.useCallback(e,t)};Q.useContext=function(e){return Ve.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return Ve.current.useDeferredValue(e)};Q.useEffect=function(e,t){return Ve.current.useEffect(e,t)};Q.useId=function(){return Ve.current.useId()};Q.useImperativeHandle=function(e,t,n){return Ve.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return Ve.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return Ve.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return Ve.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return Ve.current.useReducer(e,t,n)};Q.useRef=function(e){return Ve.current.useRef(e)};Q.useState=function(e){return Ve.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return Ve.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return Ve.current.useTransition()};Q.version="18.3.1";td.exports=Q;var k=td.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lm=k,Dm=Symbol.for("react.element"),zm=Symbol.for("react.fragment"),bm=Object.prototype.hasOwnProperty,Mm=Lm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bm={key:!0,ref:!0,__self:!0,__source:!0};function cd(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)bm.call(t,r)&&!Bm.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Dm,type:e,key:i,ref:s,props:o,_owner:Mm.current}}Di.Fragment=zm;Di.jsx=cd;Di.jsxs=cd;ed.exports=Di;var l=ed.exports,dd={exports:{}},st={},fd={exports:{}},pd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,b){var F=j.length;j.push(b);e:for(;0<F;){var W=F-1>>>1,I=j[W];if(0<o(I,b))j[W]=b,j[F]=I,F=W;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var b=j[0],F=j.pop();if(F!==b){j[0]=F;e:for(var W=0,I=j.length,Y=I>>>1;W<Y;){var $=2*(W+1)-1,le=j[$],Ce=$+1,U=j[Ce];if(0>o(le,F))Ce<I&&0>o(U,le)?(j[W]=U,j[Ce]=F,W=Ce):(j[W]=le,j[$]=F,W=$);else if(Ce<I&&0>o(U,F))j[W]=U,j[Ce]=F,W=Ce;else break e}}return b}function o(j,b){var F=j.sortIndex-b.sortIndex;return F!==0?F:j.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],d=[],y=1,m=null,h=3,v=!1,A=!1,E=!1,x=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var b=n(d);b!==null;){if(b.callback===null)r(d);else if(b.startTime<=j)r(d),b.sortIndex=b.expirationTime,t(c,b);else break;b=n(d)}}function w(j){if(E=!1,g(j),!A)if(n(c)!==null)A=!0,xe(N);else{var b=n(d);b!==null&&Ae(w,b.startTime-j)}}function N(j,b){A=!1,E&&(E=!1,f(L),L=-1),v=!0;var F=h;try{for(g(b),m=n(c);m!==null&&(!(m.expirationTime>b)||j&&!X());){var W=m.callback;if(typeof W=="function"){m.callback=null,h=m.priorityLevel;var I=W(m.expirationTime<=b);b=e.unstable_now(),typeof I=="function"?m.callback=I:m===n(c)&&r(c),g(b)}else r(c);m=n(c)}if(m!==null)var Y=!0;else{var $=n(d);$!==null&&Ae(w,$.startTime-b),Y=!1}return Y}finally{m=null,h=F,v=!1}}var _=!1,P=null,L=-1,K=5,B=-1;function X(){return!(e.unstable_now()-B<K)}function se(){if(P!==null){var j=e.unstable_now();B=j;var b=!0;try{b=P(!0,j)}finally{b?H():(_=!1,P=null)}}else _=!1}var H;if(typeof p=="function")H=function(){p(se)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,Re=ye.port2;ye.port1.onmessage=se,H=function(){Re.postMessage(null)}}else H=function(){x(se,0)};function xe(j){P=j,_||(_=!0,H())}function Ae(j,b){L=x(function(){j(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){A||v||(A=!0,xe(N))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var b=3;break;default:b=h}var F=h;h=b;try{return j()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,b){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var F=h;h=j;try{return b()}finally{h=F}},e.unstable_scheduleCallback=function(j,b,F){var W=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?W+F:W):F=W,j){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=F+I,j={id:y++,callback:b,priorityLevel:j,startTime:F,expirationTime:I,sortIndex:-1},F>W?(j.sortIndex=F,t(d,j),n(c)===null&&j===n(d)&&(E?(f(L),L=-1):E=!0,Ae(w,F-W))):(j.sortIndex=I,t(c,j),A||v||(A=!0,xe(N))),j},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(j){var b=h;return function(){var F=h;h=b;try{return j.apply(this,arguments)}finally{h=F}}}})(pd);fd.exports=pd;var Fm=fd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Um=k,it=Fm;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var md=new Set,qr={};function zn(e,t){cr(e,t),cr(e+"Capture",t)}function cr(e,t){for(qr[e]=t,e=0;e<t.length;e++)md.add(t[e])}var Ft=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Us=Object.prototype.hasOwnProperty,$m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mu={},hu={};function Km(e){return Us.call(hu,e)?!0:Us.call(mu,e)?!1:$m.test(e)?hu[e]=!0:(mu[e]=!0,!1)}function Wm(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vm(e,t,n,r){if(t===null||typeof t>"u"||Wm(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){je[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];je[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){je[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){je[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){je[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){je[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){je[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){je[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){je[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yl=/[\-:]([a-z])/g;function Zl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yl,Zl);je[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yl,Zl);je[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yl,Zl);je[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){je[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});je.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){je[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function Jl(e,t,n,r){var o=je.hasOwnProperty(t)?je[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vm(t,n,o,r)&&(n=null),r||o===null?Km(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Vt=Um.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,To=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),Wn=Symbol.for("react.fragment"),ql=Symbol.for("react.strict_mode"),$s=Symbol.for("react.profiler"),hd=Symbol.for("react.provider"),gd=Symbol.for("react.context"),ea=Symbol.for("react.forward_ref"),Ks=Symbol.for("react.suspense"),Ws=Symbol.for("react.suspense_list"),ta=Symbol.for("react.memo"),Xt=Symbol.for("react.lazy"),yd=Symbol.for("react.offscreen"),gu=Symbol.iterator;function Ar(e){return e===null||typeof e!="object"?null:(e=gu&&e[gu]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,ns;function Lr(e){if(ns===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ns=t&&t[1]||""}return`
`+ns+e}var rs=!1;function os(e,t){if(!e||rs)return"";rs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,u=i.length-1;1<=s&&0<=u&&o[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(o[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||o[s]!==i[u]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{rs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Lr(e):""}function Hm(e){switch(e.tag){case 5:return Lr(e.type);case 16:return Lr("Lazy");case 13:return Lr("Suspense");case 19:return Lr("SuspenseList");case 0:case 2:case 15:return e=os(e.type,!1),e;case 11:return e=os(e.type.render,!1),e;case 1:return e=os(e.type,!0),e;default:return""}}function Vs(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Wn:return"Fragment";case Kn:return"Portal";case $s:return"Profiler";case ql:return"StrictMode";case Ks:return"Suspense";case Ws:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case gd:return(e.displayName||"Context")+".Consumer";case hd:return(e._context.displayName||"Context")+".Provider";case ea:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ta:return t=e.displayName||null,t!==null?t:Vs(e.type)||"Memo";case Xt:t=e._payload,e=e._init;try{return Vs(e(t))}catch{}}return null}function Gm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vs(t);case 8:return t===ql?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qm(e){var t=vd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _o(e){e._valueTracker||(e._valueTracker=Qm(e))}function Sd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function oi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hs(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function yu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=fn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xd(e,t){t=t.checked,t!=null&&Jl(e,"checked",t,!1)}function Gs(e,t){xd(e,t);var n=fn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qs(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qs(e,t.type,fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qs(e,t,n){(t!=="number"||oi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Dr=Array.isArray;function rr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+fn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Xs(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Su(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(C(92));if(Dr(n)){if(1<n.length)throw Error(C(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fn(n)}}function wd(e,t){var n=fn(t.value),r=fn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ed(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ys(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ed(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Co,kd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Co=Co||document.createElement("div"),Co.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Co.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function eo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xm=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(e){Xm.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Mr[t]=Mr[e]})});function Ad(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Mr.hasOwnProperty(e)&&Mr[e]?(""+t).trim():t+"px"}function Id(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Ad(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Ym=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zs(e,t){if(t){if(Ym[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Js(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=null;function na(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var el=null,or=null,ir=null;function wu(e){if(e=wo(e)){if(typeof el!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Fi(t),el(e.stateNode,e.type,t))}}function Td(e){or?ir?ir.push(e):ir=[e]:or=e}function _d(){if(or){var e=or,t=ir;if(ir=or=null,wu(e),t)for(e=0;e<t.length;e++)wu(t[e])}}function Cd(e,t){return e(t)}function Nd(){}var is=!1;function Pd(e,t,n){if(is)return e(t,n);is=!0;try{return Cd(e,t,n)}finally{is=!1,(or!==null||ir!==null)&&(Nd(),_d())}}function to(e,t){var n=e.stateNode;if(n===null)return null;var r=Fi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(C(231,t,typeof n));return n}var tl=!1;if(Ft)try{var Ir={};Object.defineProperty(Ir,"passive",{get:function(){tl=!0}}),window.addEventListener("test",Ir,Ir),window.removeEventListener("test",Ir,Ir)}catch{tl=!1}function Zm(e,t,n,r,o,i,s,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(y){this.onError(y)}}var Br=!1,ii=null,si=!1,nl=null,Jm={onError:function(e){Br=!0,ii=e}};function qm(e,t,n,r,o,i,s,u,c){Br=!1,ii=null,Zm.apply(Jm,arguments)}function eh(e,t,n,r,o,i,s,u,c){if(qm.apply(this,arguments),Br){if(Br){var d=ii;Br=!1,ii=null}else throw Error(C(198));si||(si=!0,nl=d)}}function bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function jd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Eu(e){if(bn(e)!==e)throw Error(C(188))}function th(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error(C(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Eu(o),e;if(i===r)return Eu(o),t;i=i.sibling}throw Error(C(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(C(189))}}if(n.alternate!==r)throw Error(C(190))}if(n.tag!==3)throw Error(C(188));return n.stateNode.current===n?e:t}function Rd(e){return e=th(e),e!==null?Od(e):null}function Od(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Od(e);if(t!==null)return t;e=e.sibling}return null}var Ld=it.unstable_scheduleCallback,ku=it.unstable_cancelCallback,nh=it.unstable_shouldYield,rh=it.unstable_requestPaint,ge=it.unstable_now,oh=it.unstable_getCurrentPriorityLevel,ra=it.unstable_ImmediatePriority,Dd=it.unstable_UserBlockingPriority,li=it.unstable_NormalPriority,ih=it.unstable_LowPriority,zd=it.unstable_IdlePriority,zi=null,Ct=null;function sh(e){if(Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(zi,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:uh,lh=Math.log,ah=Math.LN2;function uh(e){return e>>>=0,e===0?32:31-(lh(e)/ah|0)|0}var No=64,Po=4194304;function zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ai(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~o;u!==0?r=zr(u):(i&=s,i!==0&&(r=zr(i)))}else s=n&~o,s!==0?r=zr(s):i!==0&&(r=zr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),o=1<<n,r|=e[n],t&=~o;return r}function ch(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-wt(i),u=1<<s,c=o[s];c===-1?(!(u&n)||u&r)&&(o[s]=ch(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bd(){var e=No;return No<<=1,!(No&4194240)&&(No=64),e}function ss(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function So(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function fh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-wt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function oa(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var q=0;function Md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bd,ia,Fd,Ud,$d,ol=!1,jo=[],rn=null,on=null,sn=null,no=new Map,ro=new Map,Zt=[],ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Au(e,t){switch(e){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":on=null;break;case"mouseover":case"mouseout":sn=null;break;case"pointerover":case"pointerout":no.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(t.pointerId)}}function Tr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=wo(t),t!==null&&ia(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function mh(e,t,n,r,o){switch(t){case"focusin":return rn=Tr(rn,e,t,n,r,o),!0;case"dragenter":return on=Tr(on,e,t,n,r,o),!0;case"mouseover":return sn=Tr(sn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return no.set(i,Tr(no.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ro.set(i,Tr(ro.get(i)||null,e,t,n,r,o)),!0}return!1}function Kd(e){var t=wn(e.target);if(t!==null){var n=bn(t);if(n!==null){if(t=n.tag,t===13){if(t=jd(n),t!==null){e.blockedOn=t,$d(e.priority,function(){Fd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Go(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=il(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qs=r,n.target.dispatchEvent(r),qs=null}else return t=wo(n),t!==null&&ia(t),e.blockedOn=n,!1;t.shift()}return!0}function Iu(e,t,n){Go(e)&&n.delete(t)}function hh(){ol=!1,rn!==null&&Go(rn)&&(rn=null),on!==null&&Go(on)&&(on=null),sn!==null&&Go(sn)&&(sn=null),no.forEach(Iu),ro.forEach(Iu)}function _r(e,t){e.blockedOn===t&&(e.blockedOn=null,ol||(ol=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,hh)))}function oo(e){function t(o){return _r(o,e)}if(0<jo.length){_r(jo[0],e);for(var n=1;n<jo.length;n++){var r=jo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(rn!==null&&_r(rn,e),on!==null&&_r(on,e),sn!==null&&_r(sn,e),no.forEach(t),ro.forEach(t),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)Kd(n),n.blockedOn===null&&Zt.shift()}var sr=Vt.ReactCurrentBatchConfig,ui=!0;function gh(e,t,n,r){var o=q,i=sr.transition;sr.transition=null;try{q=1,sa(e,t,n,r)}finally{q=o,sr.transition=i}}function yh(e,t,n,r){var o=q,i=sr.transition;sr.transition=null;try{q=4,sa(e,t,n,r)}finally{q=o,sr.transition=i}}function sa(e,t,n,r){if(ui){var o=il(e,t,n,r);if(o===null)gs(e,t,r,ci,n),Au(e,r);else if(mh(o,e,t,n,r))r.stopPropagation();else if(Au(e,r),t&4&&-1<ph.indexOf(e)){for(;o!==null;){var i=wo(o);if(i!==null&&Bd(i),i=il(e,t,n,r),i===null&&gs(e,t,r,ci,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else gs(e,t,r,null,n)}}var ci=null;function il(e,t,n,r){if(ci=null,e=na(r),e=wn(e),e!==null)if(t=bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=jd(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ci=e,null}function Wd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oh()){case ra:return 1;case Dd:return 4;case li:case ih:return 16;case zd:return 536870912;default:return 16}default:return 16}}var en=null,la=null,Qo=null;function Vd(){if(Qo)return Qo;var e,t=la,n=t.length,r,o="value"in en?en.value:en.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Qo=o.slice(e,1<r?1-r:void 0)}function Xo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ro(){return!0}function Tu(){return!1}function lt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ro:Tu,this.isPropagationStopped=Tu,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),t}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=lt(xr),xo=de({},xr,{view:0,detail:0}),vh=lt(xo),ls,as,Cr,bi=de({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cr&&(Cr&&e.type==="mousemove"?(ls=e.screenX-Cr.screenX,as=e.screenY-Cr.screenY):as=ls=0,Cr=e),ls)},movementY:function(e){return"movementY"in e?e.movementY:as}}),_u=lt(bi),Sh=de({},bi,{dataTransfer:0}),xh=lt(Sh),wh=de({},xo,{relatedTarget:0}),us=lt(wh),Eh=de({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),kh=lt(Eh),Ah=de({},xr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ih=lt(Ah),Th=de({},xr,{data:0}),Cu=lt(Th),_h={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ch={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ph(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nh[e])?!!t[e]:!1}function ua(){return Ph}var jh=de({},xo,{key:function(e){if(e.key){var t=_h[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ch[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(e){return e.type==="keypress"?Xo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Rh=lt(jh),Oh=de({},bi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nu=lt(Oh),Lh=de({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),Dh=lt(Lh),zh=de({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),bh=lt(zh),Mh=de({},bi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bh=lt(Mh),Fh=[9,13,27,32],ca=Ft&&"CompositionEvent"in window,Fr=null;Ft&&"documentMode"in document&&(Fr=document.documentMode);var Uh=Ft&&"TextEvent"in window&&!Fr,Hd=Ft&&(!ca||Fr&&8<Fr&&11>=Fr),Pu=" ",ju=!1;function Gd(e,t){switch(e){case"keyup":return Fh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vn=!1;function $h(e,t){switch(e){case"compositionend":return Qd(t);case"keypress":return t.which!==32?null:(ju=!0,Pu);case"textInput":return e=t.data,e===Pu&&ju?null:e;default:return null}}function Kh(e,t){if(Vn)return e==="compositionend"||!ca&&Gd(e,t)?(e=Vd(),Qo=la=en=null,Vn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Hd&&t.locale!=="ko"?null:t.data;default:return null}}var Wh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wh[e.type]:t==="textarea"}function Xd(e,t,n,r){Td(r),t=di(t,"onChange"),0<t.length&&(n=new aa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ur=null,io=null;function Vh(e){lf(e,0)}function Mi(e){var t=Qn(e);if(Sd(t))return e}function Hh(e,t){if(e==="change")return t}var Yd=!1;if(Ft){var cs;if(Ft){var ds="oninput"in document;if(!ds){var Ou=document.createElement("div");Ou.setAttribute("oninput","return;"),ds=typeof Ou.oninput=="function"}cs=ds}else cs=!1;Yd=cs&&(!document.documentMode||9<document.documentMode)}function Lu(){Ur&&(Ur.detachEvent("onpropertychange",Zd),io=Ur=null)}function Zd(e){if(e.propertyName==="value"&&Mi(io)){var t=[];Xd(t,io,e,na(e)),Pd(Vh,t)}}function Gh(e,t,n){e==="focusin"?(Lu(),Ur=t,io=n,Ur.attachEvent("onpropertychange",Zd)):e==="focusout"&&Lu()}function Qh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mi(io)}function Xh(e,t){if(e==="click")return Mi(t)}function Yh(e,t){if(e==="input"||e==="change")return Mi(t)}function Zh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:Zh;function so(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Us.call(t,o)||!kt(e[o],t[o]))return!1}return!0}function Du(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zu(e,t){var n=Du(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Du(n)}}function Jd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Jd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qd(){for(var e=window,t=oi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=oi(e.document)}return t}function da(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Jh(e){var t=qd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Jd(n.ownerDocument.documentElement,n)){if(r!==null&&da(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=zu(n,i);var s=zu(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qh=Ft&&"documentMode"in document&&11>=document.documentMode,Hn=null,sl=null,$r=null,ll=!1;function bu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ll||Hn==null||Hn!==oi(r)||(r=Hn,"selectionStart"in r&&da(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$r&&so($r,r)||($r=r,r=di(sl,"onSelect"),0<r.length&&(t=new aa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Hn)))}function Oo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gn={animationend:Oo("Animation","AnimationEnd"),animationiteration:Oo("Animation","AnimationIteration"),animationstart:Oo("Animation","AnimationStart"),transitionend:Oo("Transition","TransitionEnd")},fs={},ef={};Ft&&(ef=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Bi(e){if(fs[e])return fs[e];if(!Gn[e])return e;var t=Gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ef)return fs[e]=t[n];return e}var tf=Bi("animationend"),nf=Bi("animationiteration"),rf=Bi("animationstart"),of=Bi("transitionend"),sf=new Map,Mu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(e,t){sf.set(e,t),zn(t,[e])}for(var ps=0;ps<Mu.length;ps++){var ms=Mu[ps],eg=ms.toLowerCase(),tg=ms[0].toUpperCase()+ms.slice(1);mn(eg,"on"+tg)}mn(tf,"onAnimationEnd");mn(nf,"onAnimationIteration");mn(rf,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(of,"onTransitionEnd");cr("onMouseEnter",["mouseout","mouseover"]);cr("onMouseLeave",["mouseout","mouseover"]);cr("onPointerEnter",["pointerout","pointerover"]);cr("onPointerLeave",["pointerout","pointerover"]);zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ng=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function Bu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,eh(r,t,void 0,e),e.currentTarget=null}function lf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&o.isPropagationStopped())break e;Bu(o,u,d),i=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&o.isPropagationStopped())break e;Bu(o,u,d),i=c}}}if(si)throw e=nl,si=!1,nl=null,e}function re(e,t){var n=t[fl];n===void 0&&(n=t[fl]=new Set);var r=e+"__bubble";n.has(r)||(af(t,e,2,!1),n.add(r))}function hs(e,t,n){var r=0;t&&(r|=4),af(n,e,r,t)}var Lo="_reactListening"+Math.random().toString(36).slice(2);function lo(e){if(!e[Lo]){e[Lo]=!0,md.forEach(function(n){n!=="selectionchange"&&(ng.has(n)||hs(n,!1,e),hs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Lo]||(t[Lo]=!0,hs("selectionchange",!1,t))}}function af(e,t,n,r){switch(Wd(t)){case 1:var o=gh;break;case 4:o=yh;break;default:o=sa}n=o.bind(null,t,n,e),o=void 0,!tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function gs(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;u!==null;){if(s=wn(u),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}u=u.parentNode}}r=r.return}Pd(function(){var d=i,y=na(n),m=[];e:{var h=sf.get(e);if(h!==void 0){var v=aa,A=e;switch(e){case"keypress":if(Xo(n)===0)break e;case"keydown":case"keyup":v=Rh;break;case"focusin":A="focus",v=us;break;case"focusout":A="blur",v=us;break;case"beforeblur":case"afterblur":v=us;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=xh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Dh;break;case tf:case nf:case rf:v=kh;break;case of:v=bh;break;case"scroll":v=vh;break;case"wheel":v=Bh;break;case"copy":case"cut":case"paste":v=Ih;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Nu}var E=(t&4)!==0,x=!E&&e==="scroll",f=E?h!==null?h+"Capture":null:h;E=[];for(var p=d,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,f!==null&&(w=to(p,f),w!=null&&E.push(ao(p,w,g)))),x)break;p=p.return}0<E.length&&(h=new v(h,A,null,n,y),m.push({event:h,listeners:E}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==qs&&(A=n.relatedTarget||n.fromElement)&&(wn(A)||A[Ut]))break e;if((v||h)&&(h=y.window===y?y:(h=y.ownerDocument)?h.defaultView||h.parentWindow:window,v?(A=n.relatedTarget||n.toElement,v=d,A=A?wn(A):null,A!==null&&(x=bn(A),A!==x||A.tag!==5&&A.tag!==6)&&(A=null)):(v=null,A=d),v!==A)){if(E=_u,w="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(E=Nu,w="onPointerLeave",f="onPointerEnter",p="pointer"),x=v==null?h:Qn(v),g=A==null?h:Qn(A),h=new E(w,p+"leave",v,n,y),h.target=x,h.relatedTarget=g,w=null,wn(y)===d&&(E=new E(f,p+"enter",A,n,y),E.target=g,E.relatedTarget=x,w=E),x=w,v&&A)t:{for(E=v,f=A,p=0,g=E;g;g=Fn(g))p++;for(g=0,w=f;w;w=Fn(w))g++;for(;0<p-g;)E=Fn(E),p--;for(;0<g-p;)f=Fn(f),g--;for(;p--;){if(E===f||f!==null&&E===f.alternate)break t;E=Fn(E),f=Fn(f)}E=null}else E=null;v!==null&&Fu(m,h,v,E,!1),A!==null&&x!==null&&Fu(m,x,A,E,!0)}}e:{if(h=d?Qn(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var N=Hh;else if(Ru(h))if(Yd)N=Yh;else{N=Qh;var _=Gh}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=Xh);if(N&&(N=N(e,d))){Xd(m,N,n,y);break e}_&&_(e,h,d),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Qs(h,"number",h.value)}switch(_=d?Qn(d):window,e){case"focusin":(Ru(_)||_.contentEditable==="true")&&(Hn=_,sl=d,$r=null);break;case"focusout":$r=sl=Hn=null;break;case"mousedown":ll=!0;break;case"contextmenu":case"mouseup":case"dragend":ll=!1,bu(m,n,y);break;case"selectionchange":if(qh)break;case"keydown":case"keyup":bu(m,n,y)}var P;if(ca)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Vn?Gd(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(Hd&&n.locale!=="ko"&&(Vn||L!=="onCompositionStart"?L==="onCompositionEnd"&&Vn&&(P=Vd()):(en=y,la="value"in en?en.value:en.textContent,Vn=!0)),_=di(d,L),0<_.length&&(L=new Cu(L,e,null,n,y),m.push({event:L,listeners:_}),P?L.data=P:(P=Qd(n),P!==null&&(L.data=P)))),(P=Uh?$h(e,n):Kh(e,n))&&(d=di(d,"onBeforeInput"),0<d.length&&(y=new Cu("onBeforeInput","beforeinput",null,n,y),m.push({event:y,listeners:d}),y.data=P))}lf(m,t)})}function ao(e,t,n){return{instance:e,listener:t,currentTarget:n}}function di(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=to(e,n),i!=null&&r.unshift(ao(e,i,o)),i=to(e,t),i!=null&&r.push(ao(e,i,o))),e=e.return}return r}function Fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fu(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,o?(c=to(n,i),c!=null&&s.unshift(ao(n,c,u))):o||(c=to(n,i),c!=null&&s.push(ao(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var rg=/\r\n?/g,og=/\u0000|\uFFFD/g;function Uu(e){return(typeof e=="string"?e:""+e).replace(rg,`
`).replace(og,"")}function Do(e,t,n){if(t=Uu(t),Uu(e)!==t&&n)throw Error(C(425))}function fi(){}var al=null,ul=null;function cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var dl=typeof setTimeout=="function"?setTimeout:void 0,ig=typeof clearTimeout=="function"?clearTimeout:void 0,$u=typeof Promise=="function"?Promise:void 0,sg=typeof queueMicrotask=="function"?queueMicrotask:typeof $u<"u"?function(e){return $u.resolve(null).then(e).catch(lg)}:dl;function lg(e){setTimeout(function(){throw e})}function ys(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),oo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);oo(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ku(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var wr=Math.random().toString(36).slice(2),Tt="__reactFiber$"+wr,uo="__reactProps$"+wr,Ut="__reactContainer$"+wr,fl="__reactEvents$"+wr,ag="__reactListeners$"+wr,ug="__reactHandles$"+wr;function wn(e){var t=e[Tt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[Tt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ku(e);e!==null;){if(n=e[Tt])return n;e=Ku(e)}return t}e=n,n=e.parentNode}return null}function wo(e){return e=e[Tt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Fi(e){return e[uo]||null}var pl=[],Xn=-1;function hn(e){return{current:e}}function ie(e){0>Xn||(e.current=pl[Xn],pl[Xn]=null,Xn--)}function ne(e,t){Xn++,pl[Xn]=e.current,e.current=t}var pn={},Ue=hn(pn),Ze=hn(!1),Pn=pn;function dr(e,t){var n=e.type.contextTypes;if(!n)return pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Je(e){return e=e.childContextTypes,e!=null}function pi(){ie(Ze),ie(Ue)}function Wu(e,t,n){if(Ue.current!==pn)throw Error(C(168));ne(Ue,t),ne(Ze,n)}function uf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(C(108,Gm(e)||"Unknown",o));return de({},n,r)}function mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pn,Pn=Ue.current,ne(Ue,e),ne(Ze,Ze.current),!0}function Vu(e,t,n){var r=e.stateNode;if(!r)throw Error(C(169));n?(e=uf(e,t,Pn),r.__reactInternalMemoizedMergedChildContext=e,ie(Ze),ie(Ue),ne(Ue,e)):ie(Ze),ne(Ze,n)}var Dt=null,Ui=!1,vs=!1;function cf(e){Dt===null?Dt=[e]:Dt.push(e)}function cg(e){Ui=!0,cf(e)}function gn(){if(!vs&&Dt!==null){vs=!0;var e=0,t=q;try{var n=Dt;for(q=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Dt=null,Ui=!1}catch(o){throw Dt!==null&&(Dt=Dt.slice(e+1)),Ld(ra,gn),o}finally{q=t,vs=!1}}return null}var Yn=[],Zn=0,hi=null,gi=0,ct=[],dt=0,jn=null,zt=1,bt="";function Sn(e,t){Yn[Zn++]=gi,Yn[Zn++]=hi,hi=e,gi=t}function df(e,t,n){ct[dt++]=zt,ct[dt++]=bt,ct[dt++]=jn,jn=e;var r=zt;e=bt;var o=32-wt(r)-1;r&=~(1<<o),n+=1;var i=32-wt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,zt=1<<32-wt(t)+o|n<<o|r,bt=i+e}else zt=1<<i|n<<o|r,bt=e}function fa(e){e.return!==null&&(Sn(e,1),df(e,1,0))}function pa(e){for(;e===hi;)hi=Yn[--Zn],Yn[Zn]=null,gi=Yn[--Zn],Yn[Zn]=null;for(;e===jn;)jn=ct[--dt],ct[dt]=null,bt=ct[--dt],ct[dt]=null,zt=ct[--dt],ct[dt]=null}var ot=null,rt=null,ae=!1,xt=null;function ff(e,t){var n=ft(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hu(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,rt=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=jn!==null?{id:zt,overflow:bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ft(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,rt=null,!0):!1;default:return!1}}function ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function hl(e){if(ae){var t=rt;if(t){var n=t;if(!Hu(e,t)){if(ml(e))throw Error(C(418));t=ln(n.nextSibling);var r=ot;t&&Hu(e,t)?ff(r,n):(e.flags=e.flags&-4097|2,ae=!1,ot=e)}}else{if(ml(e))throw Error(C(418));e.flags=e.flags&-4097|2,ae=!1,ot=e}}}function Gu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function zo(e){if(e!==ot)return!1;if(!ae)return Gu(e),ae=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cl(e.type,e.memoizedProps)),t&&(t=rt)){if(ml(e))throw pf(),Error(C(418));for(;t;)ff(e,t),t=ln(t.nextSibling)}if(Gu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=ot?ln(e.stateNode.nextSibling):null;return!0}function pf(){for(var e=rt;e;)e=ln(e.nextSibling)}function fr(){rt=ot=null,ae=!1}function ma(e){xt===null?xt=[e]:xt.push(e)}var dg=Vt.ReactCurrentBatchConfig;function Nr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(C(309));var r=n.stateNode}if(!r)throw Error(C(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=o.refs;s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!n._owner)throw Error(C(290,e))}return e}function bo(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qu(e){var t=e._init;return t(e._payload)}function mf(e){function t(f,p){if(e){var g=f.deletions;g===null?(f.deletions=[p],f.flags|=16):g.push(p)}}function n(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function o(f,p){return f=dn(f,p),f.index=0,f.sibling=null,f}function i(f,p,g){return f.index=g,e?(g=f.alternate,g!==null?(g=g.index,g<p?(f.flags|=2,p):g):(f.flags|=2,p)):(f.flags|=1048576,p)}function s(f){return e&&f.alternate===null&&(f.flags|=2),f}function u(f,p,g,w){return p===null||p.tag!==6?(p=Is(g,f.mode,w),p.return=f,p):(p=o(p,g),p.return=f,p)}function c(f,p,g,w){var N=g.type;return N===Wn?y(f,p,g.props.children,w,g.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xt&&Qu(N)===p.type)?(w=o(p,g.props),w.ref=Nr(f,p,g),w.return=f,w):(w=ni(g.type,g.key,g.props,null,f.mode,w),w.ref=Nr(f,p,g),w.return=f,w)}function d(f,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Ts(g,f.mode,w),p.return=f,p):(p=o(p,g.children||[]),p.return=f,p)}function y(f,p,g,w,N){return p===null||p.tag!==7?(p=Cn(g,f.mode,w,N),p.return=f,p):(p=o(p,g),p.return=f,p)}function m(f,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Is(""+p,f.mode,g),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case To:return g=ni(p.type,p.key,p.props,null,f.mode,g),g.ref=Nr(f,null,p),g.return=f,g;case Kn:return p=Ts(p,f.mode,g),p.return=f,p;case Xt:var w=p._init;return m(f,w(p._payload),g)}if(Dr(p)||Ar(p))return p=Cn(p,f.mode,g,null),p.return=f,p;bo(f,p)}return null}function h(f,p,g,w){var N=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return N!==null?null:u(f,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case To:return g.key===N?c(f,p,g,w):null;case Kn:return g.key===N?d(f,p,g,w):null;case Xt:return N=g._init,h(f,p,N(g._payload),w)}if(Dr(g)||Ar(g))return N!==null?null:y(f,p,g,w,null);bo(f,g)}return null}function v(f,p,g,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return f=f.get(g)||null,u(p,f,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case To:return f=f.get(w.key===null?g:w.key)||null,c(p,f,w,N);case Kn:return f=f.get(w.key===null?g:w.key)||null,d(p,f,w,N);case Xt:var _=w._init;return v(f,p,g,_(w._payload),N)}if(Dr(w)||Ar(w))return f=f.get(g)||null,y(p,f,w,N,null);bo(p,w)}return null}function A(f,p,g,w){for(var N=null,_=null,P=p,L=p=0,K=null;P!==null&&L<g.length;L++){P.index>L?(K=P,P=null):K=P.sibling;var B=h(f,P,g[L],w);if(B===null){P===null&&(P=K);break}e&&P&&B.alternate===null&&t(f,P),p=i(B,p,L),_===null?N=B:_.sibling=B,_=B,P=K}if(L===g.length)return n(f,P),ae&&Sn(f,L),N;if(P===null){for(;L<g.length;L++)P=m(f,g[L],w),P!==null&&(p=i(P,p,L),_===null?N=P:_.sibling=P,_=P);return ae&&Sn(f,L),N}for(P=r(f,P);L<g.length;L++)K=v(P,f,L,g[L],w),K!==null&&(e&&K.alternate!==null&&P.delete(K.key===null?L:K.key),p=i(K,p,L),_===null?N=K:_.sibling=K,_=K);return e&&P.forEach(function(X){return t(f,X)}),ae&&Sn(f,L),N}function E(f,p,g,w){var N=Ar(g);if(typeof N!="function")throw Error(C(150));if(g=N.call(g),g==null)throw Error(C(151));for(var _=N=null,P=p,L=p=0,K=null,B=g.next();P!==null&&!B.done;L++,B=g.next()){P.index>L?(K=P,P=null):K=P.sibling;var X=h(f,P,B.value,w);if(X===null){P===null&&(P=K);break}e&&P&&X.alternate===null&&t(f,P),p=i(X,p,L),_===null?N=X:_.sibling=X,_=X,P=K}if(B.done)return n(f,P),ae&&Sn(f,L),N;if(P===null){for(;!B.done;L++,B=g.next())B=m(f,B.value,w),B!==null&&(p=i(B,p,L),_===null?N=B:_.sibling=B,_=B);return ae&&Sn(f,L),N}for(P=r(f,P);!B.done;L++,B=g.next())B=v(P,f,L,B.value,w),B!==null&&(e&&B.alternate!==null&&P.delete(B.key===null?L:B.key),p=i(B,p,L),_===null?N=B:_.sibling=B,_=B);return e&&P.forEach(function(se){return t(f,se)}),ae&&Sn(f,L),N}function x(f,p,g,w){if(typeof g=="object"&&g!==null&&g.type===Wn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case To:e:{for(var N=g.key,_=p;_!==null;){if(_.key===N){if(N=g.type,N===Wn){if(_.tag===7){n(f,_.sibling),p=o(_,g.props.children),p.return=f,f=p;break e}}else if(_.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===Xt&&Qu(N)===_.type){n(f,_.sibling),p=o(_,g.props),p.ref=Nr(f,_,g),p.return=f,f=p;break e}n(f,_);break}else t(f,_);_=_.sibling}g.type===Wn?(p=Cn(g.props.children,f.mode,w,g.key),p.return=f,f=p):(w=ni(g.type,g.key,g.props,null,f.mode,w),w.ref=Nr(f,p,g),w.return=f,f=w)}return s(f);case Kn:e:{for(_=g.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){n(f,p.sibling),p=o(p,g.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else t(f,p);p=p.sibling}p=Ts(g,f.mode,w),p.return=f,f=p}return s(f);case Xt:return _=g._init,x(f,p,_(g._payload),w)}if(Dr(g))return A(f,p,g,w);if(Ar(g))return E(f,p,g,w);bo(f,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(n(f,p.sibling),p=o(p,g),p.return=f,f=p):(n(f,p),p=Is(g,f.mode,w),p.return=f,f=p),s(f)):n(f,p)}return x}var pr=mf(!0),hf=mf(!1),yi=hn(null),vi=null,Jn=null,ha=null;function ga(){ha=Jn=vi=null}function ya(e){var t=yi.current;ie(yi),e._currentValue=t}function gl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function lr(e,t){vi=e,ha=Jn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Xe=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(ha!==e)if(e={context:e,memoizedValue:t,next:null},Jn===null){if(vi===null)throw Error(C(308));Jn=e,vi.dependencies={lanes:0,firstContext:e}}else Jn=Jn.next=e;return t}var En=null;function va(e){En===null?En=[e]:En.push(e)}function gf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,va(t)):(n.next=o.next,o.next=n),t.interleaved=n,$t(e,r)}function $t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Yt=!1;function Sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,$t(e,n)}return o=r.interleaved,o===null?(t.next=t,va(r)):(t.next=o.next,o.next=t),r.interleaved=t,$t(e,n)}function Yo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oa(e,n)}}function Xu(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Si(e,t,n,r){var o=e.updateQueue;Yt=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var y=e.alternate;y!==null&&(y=y.updateQueue,u=y.lastBaseUpdate,u!==s&&(u===null?y.firstBaseUpdate=d:u.next=d,y.lastBaseUpdate=c))}if(i!==null){var m=o.baseState;s=0,y=d=c=null,u=i;do{var h=u.lane,v=u.eventTime;if((r&h)===h){y!==null&&(y=y.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=e,E=u;switch(h=t,v=n,E.tag){case 1:if(A=E.payload,typeof A=="function"){m=A.call(v,m,h);break e}m=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=E.payload,h=typeof A=="function"?A.call(v,m,h):A,h==null)break e;m=de({},m,h);break e;case 2:Yt=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[u]:h.push(u))}else v={eventTime:v,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},y===null?(d=y=v,c=m):y=y.next=v,s|=h;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;h=u,u=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(y===null&&(c=m),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=y,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);On|=s,e.lanes=s,e.memoizedState=m}}function Yu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(C(191,o));o.call(r)}}}var Eo={},Nt=hn(Eo),co=hn(Eo),fo=hn(Eo);function kn(e){if(e===Eo)throw Error(C(174));return e}function xa(e,t){switch(ne(fo,t),ne(co,e),ne(Nt,Eo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ys(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ys(t,e)}ie(Nt),ne(Nt,t)}function mr(){ie(Nt),ie(co),ie(fo)}function vf(e){kn(fo.current);var t=kn(Nt.current),n=Ys(t,e.type);t!==n&&(ne(co,e),ne(Nt,n))}function wa(e){co.current===e&&(ie(Nt),ie(co))}var ue=hn(0);function xi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ss=[];function Ea(){for(var e=0;e<Ss.length;e++)Ss[e]._workInProgressVersionPrimary=null;Ss.length=0}var Zo=Vt.ReactCurrentDispatcher,xs=Vt.ReactCurrentBatchConfig,Rn=0,ce=null,we=null,Te=null,wi=!1,Kr=!1,po=0,fg=0;function De(){throw Error(C(321))}function ka(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Aa(e,t,n,r,o,i){if(Rn=i,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zo.current=e===null||e.memoizedState===null?gg:yg,e=n(r,o),Kr){i=0;do{if(Kr=!1,po=0,25<=i)throw Error(C(301));i+=1,Te=we=null,t.updateQueue=null,Zo.current=vg,e=n(r,o)}while(Kr)}if(Zo.current=Ei,t=we!==null&&we.next!==null,Rn=0,Te=we=ce=null,wi=!1,t)throw Error(C(300));return e}function Ia(){var e=po!==0;return po=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?ce.memoizedState=Te=e:Te=Te.next=e,Te}function ht(){if(we===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Te===null?ce.memoizedState:Te.next;if(t!==null)Te=t,we=e;else{if(e===null)throw Error(C(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Te===null?ce.memoizedState=Te=e:Te=Te.next=e}return Te}function mo(e,t){return typeof t=="function"?t(e):t}function ws(e){var t=ht(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=we,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=s=null,c=null,d=i;do{var y=d.lane;if((Rn&y)===y)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:y,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,s=r):c=c.next=m,ce.lanes|=y,On|=y}d=d.next}while(d!==null&&d!==i);c===null?s=r:c.next=u,kt(r,t.memoizedState)||(Xe=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ce.lanes|=i,On|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Es(e){var t=ht(),n=t.queue;if(n===null)throw Error(C(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);kt(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Sf(){}function xf(e,t){var n=ce,r=ht(),o=t(),i=!kt(r.memoizedState,o);if(i&&(r.memoizedState=o,Xe=!0),r=r.queue,Ta(kf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Te!==null&&Te.memoizedState.tag&1){if(n.flags|=2048,ho(9,Ef.bind(null,n,r,o,t),void 0,null),_e===null)throw Error(C(349));Rn&30||wf(n,t,o)}return o}function wf(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ef(e,t,n,r){t.value=n,t.getSnapshot=r,Af(t)&&If(e)}function kf(e,t,n){return n(function(){Af(t)&&If(e)})}function Af(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function If(e){var t=$t(e,1);t!==null&&Et(t,e,1,-1)}function Zu(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:e},t.queue=e,e=e.dispatch=hg.bind(null,ce,e),[t.memoizedState,e]}function ho(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Tf(){return ht().memoizedState}function Jo(e,t,n,r){var o=It();ce.flags|=e,o.memoizedState=ho(1|t,n,void 0,r===void 0?null:r)}function $i(e,t,n,r){var o=ht();r=r===void 0?null:r;var i=void 0;if(we!==null){var s=we.memoizedState;if(i=s.destroy,r!==null&&ka(r,s.deps)){o.memoizedState=ho(t,n,i,r);return}}ce.flags|=e,o.memoizedState=ho(1|t,n,i,r)}function Ju(e,t){return Jo(8390656,8,e,t)}function Ta(e,t){return $i(2048,8,e,t)}function _f(e,t){return $i(4,2,e,t)}function Cf(e,t){return $i(4,4,e,t)}function Nf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pf(e,t,n){return n=n!=null?n.concat([e]):null,$i(4,4,Nf.bind(null,t,e),n)}function _a(){}function jf(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ka(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Rf(e,t){var n=ht();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ka(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Of(e,t,n){return Rn&21?(kt(n,t)||(n=bd(),ce.lanes|=n,On|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n)}function pg(e,t){var n=q;q=n!==0&&4>n?n:4,e(!0);var r=xs.transition;xs.transition={};try{e(!1),t()}finally{q=n,xs.transition=r}}function Lf(){return ht().memoizedState}function mg(e,t,n){var r=cn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Df(e))zf(t,n);else if(n=gf(e,t,n,r),n!==null){var o=We();Et(n,e,r,o),bf(n,t,r)}}function hg(e,t,n){var r=cn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Df(e))zf(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,n);if(o.hasEagerState=!0,o.eagerState=u,kt(u,s)){var c=t.interleaved;c===null?(o.next=o,va(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=gf(e,t,o,r),n!==null&&(o=We(),Et(n,e,r,o),bf(n,t,r))}}function Df(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function zf(e,t){Kr=wi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function bf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,oa(e,n)}}var Ei={readContext:mt,useCallback:De,useContext:De,useEffect:De,useImperativeHandle:De,useInsertionEffect:De,useLayoutEffect:De,useMemo:De,useReducer:De,useRef:De,useState:De,useDebugValue:De,useDeferredValue:De,useTransition:De,useMutableSource:De,useSyncExternalStore:De,useId:De,unstable_isNewReconciler:!1},gg={readContext:mt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:Ju,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Jo(4194308,4,Nf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Jo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Jo(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=It();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=mg.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:Zu,useDebugValue:_a,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=Zu(!1),t=e[0];return e=pg.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,o=It();if(ae){if(n===void 0)throw Error(C(407));n=n()}else{if(n=t(),_e===null)throw Error(C(349));Rn&30||wf(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Ju(kf.bind(null,r,i,e),[e]),r.flags|=2048,ho(9,Ef.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=It(),t=_e.identifierPrefix;if(ae){var n=bt,r=zt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=po++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},yg={readContext:mt,useCallback:jf,useContext:mt,useEffect:Ta,useImperativeHandle:Pf,useInsertionEffect:_f,useLayoutEffect:Cf,useMemo:Rf,useReducer:ws,useRef:Tf,useState:function(){return ws(mo)},useDebugValue:_a,useDeferredValue:function(e){var t=ht();return Of(t,we.memoizedState,e)},useTransition:function(){var e=ws(mo)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Sf,useSyncExternalStore:xf,useId:Lf,unstable_isNewReconciler:!1},vg={readContext:mt,useCallback:jf,useContext:mt,useEffect:Ta,useImperativeHandle:Pf,useInsertionEffect:_f,useLayoutEffect:Cf,useMemo:Rf,useReducer:Es,useRef:Tf,useState:function(){return Es(mo)},useDebugValue:_a,useDeferredValue:function(e){var t=ht();return we===null?t.memoizedState=e:Of(t,we.memoizedState,e)},useTransition:function(){var e=Es(mo)[0],t=ht().memoizedState;return[e,t]},useMutableSource:Sf,useSyncExternalStore:xf,useId:Lf,unstable_isNewReconciler:!1};function yt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ki={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=We(),o=cn(e),i=Mt(r,o);i.payload=t,n!=null&&(i.callback=n),t=an(e,i,o),t!==null&&(Et(t,e,o,r),Yo(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=We(),o=cn(e),i=Mt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=an(e,i,o),t!==null&&(Et(t,e,o,r),Yo(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=We(),r=cn(e),o=Mt(n,r);o.tag=2,t!=null&&(o.callback=t),t=an(e,o,r),t!==null&&(Et(t,e,r,n),Yo(t,e,r))}};function qu(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!so(n,r)||!so(o,i):!0}function Mf(e,t,n){var r=!1,o=pn,i=t.contextType;return typeof i=="object"&&i!==null?i=mt(i):(o=Je(t)?Pn:Ue.current,r=t.contextTypes,i=(r=r!=null)?dr(e,o):pn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ki,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function ec(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ki.enqueueReplaceState(t,t.state,null)}function vl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Sa(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=mt(i):(i=Je(t)?Pn:Ue.current,o.context=dr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(yl(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Ki.enqueueReplaceState(o,o.state,null),Si(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function hr(e,t){try{var n="",r=t;do n+=Hm(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ks(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sg=typeof WeakMap=="function"?WeakMap:Map;function Bf(e,t,n){n=Mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ai||(Ai=!0,Nl=r),Sl(e,t)},n}function Ff(e,t,n){n=Mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Sl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Sl(e,t),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function tc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sg;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Og.bind(null,e,t,n),t.then(e,e))}function nc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Mt(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e)}var xg=Vt.ReactCurrentOwner,Xe=!1;function $e(e,t,n,r){t.child=e===null?hf(t,null,n,r):pr(t,e.child,n,r)}function oc(e,t,n,r,o){n=n.render;var i=t.ref;return lr(t,o),r=Aa(e,t,n,r,i,o),n=Ia(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Kt(e,t,o)):(ae&&n&&fa(t),t.flags|=1,$e(e,t,r,o),t.child)}function ic(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Da(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Uf(e,t,i,r,o)):(e=ni(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:so,n(s,r)&&e.ref===t.ref)return Kt(e,t,o)}return t.flags|=1,e=dn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Uf(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(so(i,r)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Xe=!0);else return t.lanes=e.lanes,Kt(e,t,o)}return xl(e,t,n,r,o)}function $f(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(er,tt),tt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(er,tt),tt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ne(er,tt),tt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ne(er,tt),tt|=r;return $e(e,t,o,n),t.child}function Kf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xl(e,t,n,r,o){var i=Je(n)?Pn:Ue.current;return i=dr(t,i),lr(t,o),n=Aa(e,t,n,r,i,o),r=Ia(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Kt(e,t,o)):(ae&&r&&fa(t),t.flags|=1,$e(e,t,n,o),t.child)}function sc(e,t,n,r,o){if(Je(n)){var i=!0;mi(t)}else i=!1;if(lr(t,o),t.stateNode===null)qo(e,t),Mf(t,n,r),vl(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=mt(d):(d=Je(n)?Pn:Ue.current,d=dr(t,d));var y=n.getDerivedStateFromProps,m=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==d)&&ec(t,s,r,d),Yt=!1;var h=t.memoizedState;s.state=h,Si(t,r,s,o),c=t.memoizedState,u!==r||h!==c||Ze.current||Yt?(typeof y=="function"&&(yl(t,n,y,r),c=t.memoizedState),(u=Yt||qu(t,n,u,r,h,c,d))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,yf(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:yt(t.type,u),s.props=d,m=t.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=Je(n)?Pn:Ue.current,c=dr(t,c));var v=n.getDerivedStateFromProps;(y=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||h!==c)&&ec(t,s,r,c),Yt=!1,h=t.memoizedState,s.state=h,Si(t,r,s,o);var A=t.memoizedState;u!==m||h!==A||Ze.current||Yt?(typeof v=="function"&&(yl(t,n,v,r),A=t.memoizedState),(d=Yt||qu(t,n,d,r,h,A,c)||!1)?(y||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,A,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,A,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),s.props=r,s.state=A,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return wl(e,t,n,r,i,o)}function wl(e,t,n,r,o,i){Kf(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Vu(t,n,!1),Kt(e,t,i);r=t.stateNode,xg.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=pr(t,e.child,null,i),t.child=pr(t,null,u,i)):$e(e,t,u,i),t.memoizedState=r.state,o&&Vu(t,n,!0),t.child}function Wf(e){var t=e.stateNode;t.pendingContext?Wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wu(e,t.context,!1),xa(e,t.containerInfo)}function lc(e,t,n,r,o){return fr(),ma(o),t.flags|=256,$e(e,t,n,r),t.child}var El={dehydrated:null,treeContext:null,retryLane:0};function kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Vf(e,t,n){var r=t.pendingProps,o=ue.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ne(ue,o&1),e===null)return hl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Hi(s,r,0,null),e=Cn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=kl(n),t.memoizedState=El,e):Ca(t,s));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return wg(e,t,s,r,u,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,u=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=dn(o,c),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=dn(u,i):(i=Cn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?kl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=El,r}return i=e.child,e=i.sibling,r=dn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ca(e,t){return t=Hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Mo(e,t,n,r){return r!==null&&ma(r),pr(t,e.child,null,n),e=Ca(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wg(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=ks(Error(C(422))),Mo(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=Hi({mode:"visible",children:r.children},o,0,null),i=Cn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&pr(t,e.child,null,s),t.child.memoizedState=kl(s),t.memoizedState=El,i);if(!(t.mode&1))return Mo(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(C(419)),r=ks(i,r,void 0),Mo(e,t,s,r)}if(u=(s&e.childLanes)!==0,Xe||u){if(r=_e,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,$t(e,o),Et(r,e,o,-1))}return La(),r=ks(Error(C(421))),Mo(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Lg.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,rt=ln(o.nextSibling),ot=t,ae=!0,xt=null,e!==null&&(ct[dt++]=zt,ct[dt++]=bt,ct[dt++]=jn,zt=e.id,bt=e.overflow,jn=t),t=Ca(t,r.children),t.flags|=4096,t)}function ac(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),gl(e.return,t,n)}function As(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Hf(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if($e(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ac(e,n,t);else if(e.tag===19)ac(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(ue,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&xi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),As(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&xi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}As(t,!0,n,null,i);break;case"together":As(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Kt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),On|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Eg(e,t,n){switch(t.tag){case 3:Wf(t),fr();break;case 5:vf(t);break;case 1:Je(t.type)&&mi(t);break;case 4:xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ne(yi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?Vf(e,t,n):(ne(ue,ue.current&1),e=Kt(e,t,n),e!==null?e.sibling:null);ne(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Hf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ne(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,$f(e,t,n)}return Kt(e,t,n)}var Gf,Al,Qf,Xf;Gf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Al=function(){};Qf=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,kn(Nt.current);var i=null;switch(n){case"input":o=Hs(e,o),r=Hs(e,r),i=[];break;case"select":o=de({},o,{value:void 0}),r=de({},r,{value:void 0}),i=[];break;case"textarea":o=Xs(e,o),r=Xs(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fi)}Zs(n,r);var s;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(u=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&re("scroll",e),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Xf=function(e,t,n,r){n!==r&&(t.flags|=4)};function Pr(e,t){if(!ae)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kg(e,t,n){var r=t.pendingProps;switch(pa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Je(t.type)&&pi(),ze(t),null;case 3:return r=t.stateNode,mr(),ie(Ze),ie(Ue),Ea(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(zo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(Rl(xt),xt=null))),Al(e,t),ze(t),null;case 5:wa(t);var o=kn(fo.current);if(n=t.type,e!==null&&t.stateNode!=null)Qf(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(C(166));return ze(t),null}if(e=kn(Nt.current),zo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Tt]=t,r[uo]=i,e=(t.mode&1)!==0,n){case"dialog":re("cancel",r),re("close",r);break;case"iframe":case"object":case"embed":re("load",r);break;case"video":case"audio":for(o=0;o<br.length;o++)re(br[o],r);break;case"source":re("error",r);break;case"img":case"image":case"link":re("error",r),re("load",r);break;case"details":re("toggle",r);break;case"input":yu(r,i),re("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},re("invalid",r);break;case"textarea":Su(r,i),re("invalid",r)}Zs(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&Do(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Do(r.textContent,u,e),o=["children",""+u]):qr.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&re("scroll",r)}switch(n){case"input":_o(r),vu(r,i,!0);break;case"textarea":_o(r),xu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fi)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ed(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Tt]=t,e[uo]=r,Gf(e,t,!1,!1),t.stateNode=e;e:{switch(s=Js(n,r),n){case"dialog":re("cancel",e),re("close",e),o=r;break;case"iframe":case"object":case"embed":re("load",e),o=r;break;case"video":case"audio":for(o=0;o<br.length;o++)re(br[o],e);o=r;break;case"source":re("error",e),o=r;break;case"img":case"image":case"link":re("error",e),re("load",e),o=r;break;case"details":re("toggle",e),o=r;break;case"input":yu(e,r),o=Hs(e,r),re("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=de({},r,{value:void 0}),re("invalid",e);break;case"textarea":Su(e,r),o=Xs(e,r),re("invalid",e);break;default:o=r}Zs(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?Id(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kd(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&eo(e,c):typeof c=="number"&&eo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&re("scroll",e):c!=null&&Jl(e,i,c,s))}switch(n){case"input":_o(e),vu(e,r,!1);break;case"textarea":_o(e),xu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+fn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?rr(e,!!r.multiple,i,!1):r.defaultValue!=null&&rr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=fi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)Xf(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(C(166));if(n=kn(fo.current),kn(Nt.current),zo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Tt]=t,(i=r.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:Do(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Do(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Tt]=t,t.stateNode=r}return ze(t),null;case 13:if(ie(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ae&&rt!==null&&t.mode&1&&!(t.flags&128))pf(),fr(),t.flags|=98560,i=!1;else if(i=zo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[Tt]=t}else fr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),i=!1}else xt!==null&&(Rl(xt),xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?ke===0&&(ke=3):La())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return mr(),Al(e,t),e===null&&lo(t.stateNode.containerInfo),ze(t),null;case 10:return ya(t.type._context),ze(t),null;case 17:return Je(t.type)&&pi(),ze(t),null;case 19:if(ie(ue),i=t.memoizedState,i===null)return ze(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Pr(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=xi(e),s!==null){for(t.flags|=128,Pr(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(ue,ue.current&1|2),t.child}e=e.sibling}i.tail!==null&&ge()>gr&&(t.flags|=128,r=!0,Pr(i,!1),t.lanes=4194304)}else{if(!r)if(e=xi(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ae)return ze(t),null}else 2*ge()-i.renderingStartTime>gr&&n!==1073741824&&(t.flags|=128,r=!0,Pr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ge(),t.sibling=null,n=ue.current,ne(ue,r?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Oa(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?tt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Ag(e,t){switch(pa(t),t.tag){case 1:return Je(t.type)&&pi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mr(),ie(Ze),ie(Ue),Ea(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wa(t),null;case 13:if(ie(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));fr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ie(ue),null;case 4:return mr(),null;case 10:return ya(t.type._context),null;case 22:case 23:return Oa(),null;case 24:return null;default:return null}}var Bo=!1,Be=!1,Ig=typeof WeakSet=="function"?WeakSet:Set,D=null;function qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function Il(e,t,n){try{n()}catch(r){fe(e,t,r)}}var uc=!1;function Tg(e,t){if(al=ui,e=qd(),da(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,d=0,y=0,m=e,h=null;t:for(;;){for(var v;m!==n||o!==0&&m.nodeType!==3||(u=s+o),m!==i||r!==0&&m.nodeType!==3||(c=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===n&&++d===o&&(u=s),h===i&&++y===r&&(c=s),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ul={focusedElem:e,selectionRange:n},ui=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var E=A.memoizedProps,x=A.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?E:yt(t.type,E),x);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(w){fe(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return A=uc,uc=!1,A}function Wr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Il(t,n,i)}o=o.next}while(o!==r)}}function Wi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Yf(e){var t=e.alternate;t!==null&&(e.alternate=null,Yf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tt],delete t[uo],delete t[fl],delete t[ag],delete t[ug])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zf(e){return e.tag===5||e.tag===3||e.tag===4}function cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _l(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fi));else if(r!==4&&(e=e.child,e!==null))for(_l(e,t,n),e=e.sibling;e!==null;)_l(e,t,n),e=e.sibling}function Cl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cl(e,t,n),e=e.sibling;e!==null;)Cl(e,t,n),e=e.sibling}var Ne=null,St=!1;function Qt(e,t,n){for(n=n.child;n!==null;)Jf(e,t,n),n=n.sibling}function Jf(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(zi,n)}catch{}switch(n.tag){case 5:Be||qn(n,t);case 6:var r=Ne,o=St;Ne=null,Qt(e,t,n),Ne=r,St=o,Ne!==null&&(St?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(St?(e=Ne,n=n.stateNode,e.nodeType===8?ys(e.parentNode,n):e.nodeType===1&&ys(e,n),oo(e)):ys(Ne,n.stateNode));break;case 4:r=Ne,o=St,Ne=n.stateNode.containerInfo,St=!0,Qt(e,t,n),Ne=r,St=o;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Il(n,t,s),o=o.next}while(o!==r)}Qt(e,t,n);break;case 1:if(!Be&&(qn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){fe(n,t,u)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,Qt(e,t,n),Be=r):Qt(e,t,n);break;default:Qt(e,t,n)}}function dc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ig),t.forEach(function(r){var o=Dg.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Ne=u.stateNode,St=!1;break e;case 3:Ne=u.stateNode.containerInfo,St=!0;break e;case 4:Ne=u.stateNode.containerInfo,St=!0;break e}u=u.return}if(Ne===null)throw Error(C(160));Jf(i,s,o),Ne=null,St=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){fe(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)qf(t,e),t=t.sibling}function qf(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),At(e),r&4){try{Wr(3,e,e.return),Wi(3,e)}catch(E){fe(e,e.return,E)}try{Wr(5,e,e.return)}catch(E){fe(e,e.return,E)}}break;case 1:gt(t,e),At(e),r&512&&n!==null&&qn(n,n.return);break;case 5:if(gt(t,e),At(e),r&512&&n!==null&&qn(n,n.return),e.flags&32){var o=e.stateNode;try{eo(o,"")}catch(E){fe(e,e.return,E)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&xd(o,i),Js(u,s);var d=Js(u,i);for(s=0;s<c.length;s+=2){var y=c[s],m=c[s+1];y==="style"?Id(o,m):y==="dangerouslySetInnerHTML"?kd(o,m):y==="children"?eo(o,m):Jl(o,y,m,d)}switch(u){case"input":Gs(o,i);break;case"textarea":wd(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?rr(o,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?rr(o,!!i.multiple,i.defaultValue,!0):rr(o,!!i.multiple,i.multiple?[]:"",!1))}o[uo]=i}catch(E){fe(e,e.return,E)}}break;case 6:if(gt(t,e),At(e),r&4){if(e.stateNode===null)throw Error(C(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(E){fe(e,e.return,E)}}break;case 3:if(gt(t,e),At(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{oo(t.containerInfo)}catch(E){fe(e,e.return,E)}break;case 4:gt(t,e),At(e);break;case 13:gt(t,e),At(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(ja=ge())),r&4&&dc(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(Be=(d=Be)||y,gt(t,e),Be=d):gt(t,e),At(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!y&&e.mode&1)for(D=e,y=e.child;y!==null;){for(m=D=y;D!==null;){switch(h=D,v=h.child,h.tag){case 0:case 11:case 14:case 15:Wr(4,h,h.return);break;case 1:qn(h,h.return);var A=h.stateNode;if(typeof A.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(E){fe(r,n,E)}}break;case 5:qn(h,h.return);break;case 22:if(h.memoizedState!==null){pc(m);continue}}v!==null?(v.return=h,D=v):pc(m)}y=y.sibling}e:for(y=null,m=e;;){if(m.tag===5){if(y===null){y=m;try{o=m.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=Ad("display",s))}catch(E){fe(e,e.return,E)}}}else if(m.tag===6){if(y===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(E){fe(e,e.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;y===m&&(y=null),m=m.return}y===m&&(y=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:gt(t,e),At(e),r&4&&dc(e);break;case 21:break;default:gt(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Zf(n)){var r=n;break e}n=n.return}throw Error(C(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(eo(o,""),r.flags&=-33);var i=cc(e);Cl(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=cc(e);_l(e,u,s);break;default:throw Error(C(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _g(e,t,n){D=e,ep(e)}function ep(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var o=D,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Bo;if(!s){var u=o.alternate,c=u!==null&&u.memoizedState!==null||Be;u=Bo;var d=Be;if(Bo=s,(Be=c)&&!d)for(D=o;D!==null;)s=D,c=s.child,s.tag===22&&s.memoizedState!==null?mc(o):c!==null?(c.return=s,D=c):mc(o);for(;i!==null;)D=i,ep(i),i=i.sibling;D=o,Bo=u,Be=d}fc(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,D=i):fc(e)}}function fc(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Be||Wi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Be)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:yt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Yu(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Yu(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var y=d.memoizedState;if(y!==null){var m=y.dehydrated;m!==null&&oo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Be||t.flags&512&&Tl(t)}catch(h){fe(t,t.return,h)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function pc(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function mc(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wi(4,t)}catch(c){fe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){fe(t,o,c)}}var i=t.return;try{Tl(t)}catch(c){fe(t,i,c)}break;case 5:var s=t.return;try{Tl(t)}catch(c){fe(t,s,c)}}}catch(c){fe(t,t.return,c)}if(t===e){D=null;break}var u=t.sibling;if(u!==null){u.return=t.return,D=u;break}D=t.return}}var Cg=Math.ceil,ki=Vt.ReactCurrentDispatcher,Na=Vt.ReactCurrentOwner,pt=Vt.ReactCurrentBatchConfig,Z=0,_e=null,ve=null,Pe=0,tt=0,er=hn(0),ke=0,go=null,On=0,Vi=0,Pa=0,Vr=null,Qe=null,ja=0,gr=1/0,Ot=null,Ai=!1,Nl=null,un=null,Fo=!1,tn=null,Ii=0,Hr=0,Pl=null,ei=-1,ti=0;function We(){return Z&6?ge():ei!==-1?ei:ei=ge()}function cn(e){return e.mode&1?Z&2&&Pe!==0?Pe&-Pe:dg.transition!==null?(ti===0&&(ti=bd()),ti):(e=q,e!==0||(e=window.event,e=e===void 0?16:Wd(e.type)),e):1}function Et(e,t,n,r){if(50<Hr)throw Hr=0,Pl=null,Error(C(185));So(e,n,r),(!(Z&2)||e!==_e)&&(e===_e&&(!(Z&2)&&(Vi|=n),ke===4&&Jt(e,Pe)),qe(e,r),n===1&&Z===0&&!(t.mode&1)&&(gr=ge()+500,Ui&&gn()))}function qe(e,t){var n=e.callbackNode;dh(e,t);var r=ai(e,e===_e?Pe:0);if(r===0)n!==null&&ku(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ku(n),t===1)e.tag===0?cg(hc.bind(null,e)):cf(hc.bind(null,e)),sg(function(){!(Z&6)&&gn()}),n=null;else{switch(Md(r)){case 1:n=ra;break;case 4:n=Dd;break;case 16:n=li;break;case 536870912:n=zd;break;default:n=li}n=ap(n,tp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tp(e,t){if(ei=-1,ti=0,Z&6)throw Error(C(327));var n=e.callbackNode;if(ar()&&e.callbackNode!==n)return null;var r=ai(e,e===_e?Pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ti(e,r);else{t=r;var o=Z;Z|=2;var i=rp();(_e!==e||Pe!==t)&&(Ot=null,gr=ge()+500,_n(e,t));do try{jg();break}catch(u){np(e,u)}while(!0);ga(),ki.current=i,Z=o,ve!==null?t=0:(_e=null,Pe=0,t=ke)}if(t!==0){if(t===2&&(o=rl(e),o!==0&&(r=o,t=jl(e,o))),t===1)throw n=go,_n(e,0),Jt(e,r),qe(e,ge()),n;if(t===6)Jt(e,r);else{if(o=e.current.alternate,!(r&30)&&!Ng(o)&&(t=Ti(e,r),t===2&&(i=rl(e),i!==0&&(r=i,t=jl(e,i))),t===1))throw n=go,_n(e,0),Jt(e,r),qe(e,ge()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(C(345));case 2:xn(e,Qe,Ot);break;case 3:if(Jt(e,r),(r&130023424)===r&&(t=ja+500-ge(),10<t)){if(ai(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){We(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=dl(xn.bind(null,e,Qe,Ot),t);break}xn(e,Qe,Ot);break;case 4:if(Jt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-wt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cg(r/1960))-r,10<r){e.timeoutHandle=dl(xn.bind(null,e,Qe,Ot),r);break}xn(e,Qe,Ot);break;case 5:xn(e,Qe,Ot);break;default:throw Error(C(329))}}}return qe(e,ge()),e.callbackNode===n?tp.bind(null,e):null}function jl(e,t){var n=Vr;return e.current.memoizedState.isDehydrated&&(_n(e,t).flags|=256),e=Ti(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&Rl(t)),e}function Rl(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function Ng(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!kt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jt(e,t){for(t&=~Pa,t&=~Vi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function hc(e){if(Z&6)throw Error(C(327));ar();var t=ai(e,0);if(!(t&1))return qe(e,ge()),null;var n=Ti(e,t);if(e.tag!==0&&n===2){var r=rl(e);r!==0&&(t=r,n=jl(e,r))}if(n===1)throw n=go,_n(e,0),Jt(e,t),qe(e,ge()),n;if(n===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xn(e,Qe,Ot),qe(e,ge()),null}function Ra(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(gr=ge()+500,Ui&&gn())}}function Ln(e){tn!==null&&tn.tag===0&&!(Z&6)&&ar();var t=Z;Z|=1;var n=pt.transition,r=q;try{if(pt.transition=null,q=1,e)return e()}finally{q=r,pt.transition=n,Z=t,!(Z&6)&&gn()}}function Oa(){tt=er.current,ie(er)}function _n(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ig(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(pa(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&pi();break;case 3:mr(),ie(Ze),ie(Ue),Ea();break;case 5:wa(r);break;case 4:mr();break;case 13:ie(ue);break;case 19:ie(ue);break;case 10:ya(r.type._context);break;case 22:case 23:Oa()}n=n.return}if(_e=e,ve=e=dn(e.current,null),Pe=tt=t,ke=0,go=null,Pa=Vi=On=0,Qe=Vr=null,En!==null){for(t=0;t<En.length;t++)if(n=En[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}En=null}return e}function np(e,t){do{var n=ve;try{if(ga(),Zo.current=Ei,wi){for(var r=ce.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}wi=!1}if(Rn=0,Te=we=ce=null,Kr=!1,po=0,Na.current=null,n===null||n.return===null){ke=1,go=t,ve=null;break}e:{var i=e,s=n.return,u=n,c=t;if(t=Pe,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,y=u,m=y.tag;if(!(y.mode&1)&&(m===0||m===11||m===15)){var h=y.alternate;h?(y.updateQueue=h.updateQueue,y.memoizedState=h.memoizedState,y.lanes=h.lanes):(y.updateQueue=null,y.memoizedState=null)}var v=nc(s);if(v!==null){v.flags&=-257,rc(v,s,u,i,t),v.mode&1&&tc(i,d,t),t=v,c=d;var A=t.updateQueue;if(A===null){var E=new Set;E.add(c),t.updateQueue=E}else A.add(c);break e}else{if(!(t&1)){tc(i,d,t),La();break e}c=Error(C(426))}}else if(ae&&u.mode&1){var x=nc(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),rc(x,s,u,i,t),ma(hr(c,u));break e}}i=c=hr(c,u),ke!==4&&(ke=2),Vr===null?Vr=[i]:Vr.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=Bf(i,c,t);Xu(i,f);break e;case 1:u=c;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(un===null||!un.has(g)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=Ff(i,u,t);Xu(i,w);break e}}i=i.return}while(i!==null)}ip(n)}catch(N){t=N,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(!0)}function rp(){var e=ki.current;return ki.current=Ei,e===null?Ei:e}function La(){(ke===0||ke===3||ke===2)&&(ke=4),_e===null||!(On&268435455)&&!(Vi&268435455)||Jt(_e,Pe)}function Ti(e,t){var n=Z;Z|=2;var r=rp();(_e!==e||Pe!==t)&&(Ot=null,_n(e,t));do try{Pg();break}catch(o){np(e,o)}while(!0);if(ga(),Z=n,ki.current=r,ve!==null)throw Error(C(261));return _e=null,Pe=0,ke}function Pg(){for(;ve!==null;)op(ve)}function jg(){for(;ve!==null&&!nh();)op(ve)}function op(e){var t=lp(e.alternate,e,tt);e.memoizedProps=e.pendingProps,t===null?ip(e):ve=t,Na.current=null}function ip(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Ag(n,t),n!==null){n.flags&=32767,ve=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,ve=null;return}}else if(n=kg(n,t,tt),n!==null){ve=n;return}if(t=t.sibling,t!==null){ve=t;return}ve=t=e}while(t!==null);ke===0&&(ke=5)}function xn(e,t,n){var r=q,o=pt.transition;try{pt.transition=null,q=1,Rg(e,t,n,r)}finally{pt.transition=o,q=r}return null}function Rg(e,t,n,r){do ar();while(tn!==null);if(Z&6)throw Error(C(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(fh(e,i),e===_e&&(ve=_e=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fo||(Fo=!0,ap(li,function(){return ar(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=pt.transition,pt.transition=null;var s=q;q=1;var u=Z;Z|=4,Na.current=null,Tg(e,n),qf(n,e),Jh(ul),ui=!!al,ul=al=null,e.current=n,_g(n),rh(),Z=u,q=s,pt.transition=i}else e.current=n;if(Fo&&(Fo=!1,tn=e,Ii=o),i=e.pendingLanes,i===0&&(un=null),sh(n.stateNode),qe(e,ge()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ai)throw Ai=!1,e=Nl,Nl=null,e;return Ii&1&&e.tag!==0&&ar(),i=e.pendingLanes,i&1?e===Pl?Hr++:(Hr=0,Pl=e):Hr=0,gn(),null}function ar(){if(tn!==null){var e=Md(Ii),t=pt.transition,n=q;try{if(pt.transition=null,q=16>e?16:e,tn===null)var r=!1;else{if(e=tn,tn=null,Ii=0,Z&6)throw Error(C(331));var o=Z;for(Z|=4,D=e.current;D!==null;){var i=D,s=i.child;if(D.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(D=d;D!==null;){var y=D;switch(y.tag){case 0:case 11:case 15:Wr(8,y,i)}var m=y.child;if(m!==null)m.return=y,D=m;else for(;D!==null;){y=D;var h=y.sibling,v=y.return;if(Yf(y),y===d){D=null;break}if(h!==null){h.return=v,D=h;break}D=v}}}var A=i.alternate;if(A!==null){var E=A.child;if(E!==null){A.child=null;do{var x=E.sibling;E.sibling=null,E=x}while(E!==null)}}D=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,D=s;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Wr(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,D=f;break e}D=i.return}}var p=e.current;for(D=p;D!==null;){s=D;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,D=g;else e:for(s=p;D!==null;){if(u=D,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Wi(9,u)}}catch(N){fe(u,u.return,N)}if(u===s){D=null;break e}var w=u.sibling;if(w!==null){w.return=u.return,D=w;break e}D=u.return}}if(Z=o,gn(),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(zi,e)}catch{}r=!0}return r}finally{q=n,pt.transition=t}}return!1}function gc(e,t,n){t=hr(n,t),t=Bf(e,t,1),e=an(e,t,1),t=We(),e!==null&&(So(e,1,t),qe(e,t))}function fe(e,t,n){if(e.tag===3)gc(e,e,n);else for(;t!==null;){if(t.tag===3){gc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){e=hr(n,e),e=Ff(t,e,1),t=an(t,e,1),e=We(),t!==null&&(So(t,1,e),qe(t,e));break}}t=t.return}}function Og(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=We(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Pe&n)===n&&(ke===4||ke===3&&(Pe&130023424)===Pe&&500>ge()-ja?_n(e,0):Pa|=n),qe(e,t)}function sp(e,t){t===0&&(e.mode&1?(t=Po,Po<<=1,!(Po&130023424)&&(Po=4194304)):t=1);var n=We();e=$t(e,t),e!==null&&(So(e,t,n),qe(e,n))}function Lg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),sp(e,n)}function Dg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(C(314))}r!==null&&r.delete(t),sp(e,n)}var lp;lp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ze.current)Xe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Xe=!1,Eg(e,t,n);Xe=!!(e.flags&131072)}else Xe=!1,ae&&t.flags&1048576&&df(t,gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var o=dr(t,Ue.current);lr(t,n),o=Aa(null,t,r,e,o,n);var i=Ia();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Je(r)?(i=!0,mi(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Sa(t),o.updater=Ki,t.stateNode=o,o._reactInternals=t,vl(t,r,e,n),t=wl(null,t,r,!0,i,n)):(t.tag=0,ae&&i&&fa(t),$e(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=bg(r),e=yt(r,e),o){case 0:t=xl(null,t,r,e,n);break e;case 1:t=sc(null,t,r,e,n);break e;case 11:t=oc(null,t,r,e,n);break e;case 14:t=ic(null,t,r,yt(r.type,e),n);break e}throw Error(C(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),xl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),sc(e,t,r,o,n);case 3:e:{if(Wf(t),e===null)throw Error(C(387));r=t.pendingProps,i=t.memoizedState,o=i.element,yf(e,t),Si(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=hr(Error(C(423)),t),t=lc(e,t,r,n,o);break e}else if(r!==o){o=hr(Error(C(424)),t),t=lc(e,t,r,n,o);break e}else for(rt=ln(t.stateNode.containerInfo.firstChild),ot=t,ae=!0,xt=null,n=hf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fr(),r===o){t=Kt(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return vf(t),e===null&&hl(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,cl(r,o)?s=null:i!==null&&cl(r,i)&&(t.flags|=32),Kf(e,t),$e(e,t,s,n),t.child;case 6:return e===null&&hl(t),null;case 13:return Vf(e,t,n);case 4:return xa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=pr(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),oc(e,t,r,o,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ne(yi,r._currentValue),r._currentValue=s,i!==null)if(kt(i.value,s)){if(i.children===o.children&&!Ze.current){t=Kt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Mt(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var y=d.pending;y===null?c.next=c:(c.next=y.next,y.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),gl(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(C(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),gl(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}$e(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,lr(t,n),o=mt(o),r=r(o),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,o=yt(r,t.pendingProps),o=yt(r.type,o),ic(e,t,r,o,n);case 15:return Uf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:yt(r,o),qo(e,t),t.tag=1,Je(r)?(e=!0,mi(t)):e=!1,lr(t,n),Mf(t,r,o),vl(t,r,o,n),wl(null,t,r,!0,e,n);case 19:return Hf(e,t,n);case 22:return $f(e,t,n)}throw Error(C(156,t.tag))};function ap(e,t){return Ld(e,t)}function zg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ft(e,t,n,r){return new zg(e,t,n,r)}function Da(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bg(e){if(typeof e=="function")return Da(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ea)return 11;if(e===ta)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=ft(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ni(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Da(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Wn:return Cn(n.children,o,i,t);case ql:s=8,o|=8;break;case $s:return e=ft(12,n,t,o|2),e.elementType=$s,e.lanes=i,e;case Ks:return e=ft(13,n,t,o),e.elementType=Ks,e.lanes=i,e;case Ws:return e=ft(19,n,t,o),e.elementType=Ws,e.lanes=i,e;case yd:return Hi(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case hd:s=10;break e;case gd:s=9;break e;case ea:s=11;break e;case ta:s=14;break e;case Xt:s=16,r=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=ft(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Cn(e,t,n,r){return e=ft(7,e,r,t),e.lanes=n,e}function Hi(e,t,n,r){return e=ft(22,e,r,t),e.elementType=yd,e.lanes=n,e.stateNode={isHidden:!1},e}function Is(e,t,n){return e=ft(6,e,null,t),e.lanes=n,e}function Ts(e,t,n){return t=ft(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mg(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function za(e,t,n,r,o,i,s,u,c){return e=new Mg(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ft(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sa(i),e}function Bg(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function up(e){if(!e)return pn;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Je(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var n=e.type;if(Je(n))return uf(e,n,t)}return t}function cp(e,t,n,r,o,i,s,u,c){return e=za(n,r,!0,e,o,i,s,u,c),e.context=up(null),n=e.current,r=We(),o=cn(n),i=Mt(r,o),i.callback=t??null,an(n,i,o),e.current.lanes=o,So(e,o,r),qe(e,r),e}function Gi(e,t,n,r){var o=t.current,i=We(),s=cn(o);return n=up(n),t.context===null?t.context=n:t.pendingContext=n,t=Mt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=an(o,t,s),e!==null&&(Et(e,o,s,i),Yo(e,o,s)),s}function _i(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ba(e,t){yc(e,t),(e=e.alternate)&&yc(e,t)}function Fg(){return null}var dp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ma(e){this._internalRoot=e}Qi.prototype.render=Ma.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Gi(e,t,null,null)};Qi.prototype.unmount=Ma.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ln(function(){Gi(null,e,null,null)}),t[Ut]=null}};function Qi(e){this._internalRoot=e}Qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ud();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Zt.length&&t!==0&&t<Zt[n].priority;n++);Zt.splice(n,0,e),n===0&&Kd(e)}};function Ba(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vc(){}function Ug(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var d=_i(s);i.call(d)}}var s=cp(t,r,e,0,null,!1,!1,"",vc);return e._reactRootContainer=s,e[Ut]=s.current,lo(e.nodeType===8?e.parentNode:e),Ln(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var d=_i(c);u.call(d)}}var c=za(e,0,!1,null,null,!1,!1,"",vc);return e._reactRootContainer=c,e[Ut]=c.current,lo(e.nodeType===8?e.parentNode:e),Ln(function(){Gi(t,c,n,r)}),c}function Yi(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var u=o;o=function(){var c=_i(s);u.call(c)}}Gi(t,s,e,o)}else s=Ug(n,t,e,o,r);return _i(s)}Bd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zr(t.pendingLanes);n!==0&&(oa(t,n|1),qe(t,ge()),!(Z&6)&&(gr=ge()+500,gn()))}break;case 13:Ln(function(){var r=$t(e,1);if(r!==null){var o=We();Et(r,e,1,o)}}),ba(e,1)}};ia=function(e){if(e.tag===13){var t=$t(e,134217728);if(t!==null){var n=We();Et(t,e,134217728,n)}ba(e,134217728)}};Fd=function(e){if(e.tag===13){var t=cn(e),n=$t(e,t);if(n!==null){var r=We();Et(n,e,t,r)}ba(e,t)}};Ud=function(){return q};$d=function(e,t){var n=q;try{return q=e,t()}finally{q=n}};el=function(e,t,n){switch(t){case"input":if(Gs(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Fi(r);if(!o)throw Error(C(90));Sd(r),Gs(r,o)}}}break;case"textarea":wd(e,n);break;case"select":t=n.value,t!=null&&rr(e,!!n.multiple,t,!1)}};Cd=Ra;Nd=Ln;var $g={usingClientEntryPoint:!1,Events:[wo,Qn,Fi,Td,_d,Ra]},jr={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kg={bundleType:jr.bundleType,version:jr.version,rendererPackageName:jr.rendererPackageName,rendererConfig:jr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Rd(e),e===null?null:e.stateNode},findFiberByHostInstance:jr.findFiberByHostInstance||Fg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uo.isDisabled&&Uo.supportsFiber)try{zi=Uo.inject(Kg),Ct=Uo}catch{}}st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$g;st.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ba(t))throw Error(C(200));return Bg(e,t,null,n)};st.createRoot=function(e,t){if(!Ba(e))throw Error(C(299));var n=!1,r="",o=dp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=za(e,1,!1,null,null,n,!1,r,o),e[Ut]=t.current,lo(e.nodeType===8?e.parentNode:e),new Ma(t)};st.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=Rd(t),e=e===null?null:e.stateNode,e};st.flushSync=function(e){return Ln(e)};st.hydrate=function(e,t,n){if(!Xi(t))throw Error(C(200));return Yi(null,e,t,!0,n)};st.hydrateRoot=function(e,t,n){if(!Ba(e))throw Error(C(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=dp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=cp(t,null,e,1,n??null,o,!1,i,s),e[Ut]=t.current,lo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Qi(t)};st.render=function(e,t,n){if(!Xi(t))throw Error(C(200));return Yi(null,e,t,!1,n)};st.unmountComponentAtNode=function(e){if(!Xi(e))throw Error(C(40));return e._reactRootContainer?(Ln(function(){Yi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};st.unstable_batchedUpdates=Ra;st.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xi(n))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Yi(e,t,n,!1,r)};st.version="18.3.1-next-f1338f8080-20240426";function fp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fp)}catch(e){console.error(e)}}fp(),dd.exports=st;var Wg=dd.exports,pp,Sc=Wg;pp=Sc.createRoot,Sc.hydrateRoot;const Vg="modulepreload",Hg=function(e){return"/"+e},xc={},mp=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=Hg(c),c in xc)return;xc[c]=!0;const d=c.endsWith(".css"),y=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${y}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Vg,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((h,v)=>{m.addEventListener("load",h),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return o.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},a={bg:"#05070A",border:"#213043",muted:"#32435A",accent:"#39DDB6",text:"#EAF1F8",dim:"#8FA0B5",danger:"#FF5D7A",dLow:"#311520",warn:"#F7B267",wLow:"#322515",ok:"#39DDB6",purple:"#8F7BFF"},z={fontFamily:"'IBM Plex Mono','SFMono-Regular',Menlo,Monaco,monospace"},be=(e,t=4)=>parseFloat(e||0).toFixed(t),ko=e=>e?`${e.slice(0,18)}...${e.slice(-6)}`:"",Gg=/^[qpzry9x8gf2tvdw0s3jn54khce6mua7l]+$/i,hp=["kaspa","kaspatest","kaspadev","kaspasim"],yo=(e,t=hp)=>{const n=String(e||"").trim().toLowerCase(),r=n.indexOf(":");if(r<=0||r===n.length-1)return!1;const o=n.slice(0,r),i=n.slice(r+1);return!t.map(s=>s.toLowerCase()).includes(o)||i.length<61||i.length>63?!1:Gg.test(i)},Qg=(e,t=hp)=>{const n=String(e||"").trim();if(!yo(n,t))throw new Error(`Invalid Kaspa address for allowed prefixes: ${t.join(", ")}`);const r=n.toLowerCase(),o=r.indexOf(":"),i=r.slice(0,o),s=r.slice(o+1);return`${i}:${s}`},Xg=e=>{const t=String(e||"").toLowerCase();return t==="mainnet"?"kaspa":t.startsWith("testnet")?"kaspatest":t.startsWith("devnet")?"kaspadev":t.startsWith("simnet")?"kaspasim":"kaspa"},Gr=(e,t)=>{const n=Qg(e),r=n.indexOf(":"),o=n.slice(r+1);return`${Xg(t)}:${o}`},Yg={USD:1,EUR:.92,GBP:.79,JPY:150,CAD:1.36};function Zg(e,t){const n=Yg[t];return e*n}function Jg(e,t){const n=Zg(e,t),r=2;return new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:r,minimumFractionDigits:r}).format(n)}const Se={agents:"forgeos.session.agents.v2",activeAgent:"forgeos.session.activeAgent.v2",walletMeta:"forgeos.wallet.meta.v2",network:"forgeos.network",lastProvider:"forgeos.wallet.lastProvider.mainnet",autoLockMinutes:"forgeos.autolock.minutes.v1",persistUnlockSession:"forgeos.unlock.persist-session.v1",displayCurrency:"forgeos.display.currency.v1",kaspaRpcProviderPresetMap:"forgeos.kaspa.rpc-provider.v1",customKaspaRpcMap:"forgeos.kaspa.custom-rpc.v1"},qg=1,ey=24*60,wc=-1,Ol="official";function gp(e){if(e===wc)return wc;if(typeof e!="number"||!Number.isFinite(e))return 15;const t=Math.floor(e);return Math.min(ey,Math.max(qg,t))}function at(){return typeof chrome<"u"&&chrome.storage?chrome.storage.local:null}function yp(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"&&n.protocol!=="http:"?null:t.replace(/\/+$/,"")}catch{return null}}function ty(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();if(!o)continue;const i=yp(r);i&&(t[o]=i)}return t}function vp(e){return e==="igra"?"igra":e==="kasplex"?"kasplex":e==="custom"?"custom":Ol}function ny(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();o&&(t[o]=vp(r))}return t}async function ry(){const e=at();return e?new Promise(t=>{e.get(Se.agents,n=>{try{const r=n[Se.agents];if(!r)return t([]);const o=typeof r=="string"?JSON.parse(r):r;t(Array.isArray(o)?o:[])}catch{t([])}})}):[]}async function Ec(){const e=at();return e?new Promise(t=>{e.get(Se.walletMeta,n=>{try{const r=n[Se.walletMeta];if(!r)return t(null);const o=typeof r=="string"?JSON.parse(r):r;t(o!=null&&o.address?o:null)}catch{t(null)}})}):null}async function Ll(e){const t=at();if(t)return new Promise(n=>{t.set({[Se.walletMeta]:JSON.stringify(e)},n)})}async function Sp(){const e=at();return e?new Promise(t=>{e.get(Se.network,n=>t(n[Se.network]||"mainnet"))}):"mainnet"}async function oy(e){const t=at();if(t)return new Promise(n=>{t.set({[Se.network]:e},n)})}async function iy(){const e=at();return e?new Promise(t=>{e.get(Se.autoLockMinutes,n=>{t(gp(n[Se.autoLockMinutes]))})}):15}async function sy(e){const t=at();if(t)return new Promise(n=>{t.set({[Se.autoLockMinutes]:gp(e)},n)})}async function ly(){const e=at();return e?new Promise(t=>{e.get(Se.persistUnlockSession,n=>{t(n[Se.persistUnlockSession]===!0)})}):!1}async function ay(e){const t=at();if(t)return new Promise(n=>{t.set({[Se.persistUnlockSession]:e===!0},n)})}async function xp(){const e=at();return e?new Promise(t=>{e.get(Se.kaspaRpcProviderPresetMap,n=>{try{const r=n[Se.kaspaRpcProviderPresetMap],o=typeof r=="string"?JSON.parse(r):r;t(ny(o))}catch{t({})}})}):{}}async function wp(e){const t=String(e||"").trim();return t?(await xp())[t]??Ol:Ol}async function _s(e,t){const n=at();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await xp();return o[r]=vp(t),new Promise(i=>{n.set({[Se.kaspaRpcProviderPresetMap]:JSON.stringify(o)},i)})}async function Ep(){const e=at();return e?new Promise(t=>{e.get(Se.customKaspaRpcMap,n=>{try{const r=n[Se.customKaspaRpcMap],o=typeof r=="string"?JSON.parse(r):r;t(ty(o))}catch{t({})}})}):{}}async function kp(e){const t=String(e||"").trim();return t?(await Ep())[t]??null:null}async function kc(e,t){const n=at();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await Ep();if(t===null||t.trim()==="")delete o[r];else{const i=yp(t);if(!i)throw new Error("INVALID_RPC_ENDPOINT");o[r]=i}return new Promise(i=>{n.set({[Se.customKaspaRpcMap]:JSON.stringify(o)},i)})}const Cs={mainnet:["https://api.kaspa.org"],"testnet-10":["https://api-tn10.kaspa.org"],"testnet-11":["https://api-tn11.kaspa.org"]};function Bt(e,t){var o,i;const n=(i=(o=import.meta)==null?void 0:o.env)==null?void 0:i[e];if(typeof n!="string"||!n.trim())return t;const r=n.split(/[,\s]+/).map(s=>s.trim()).filter(Boolean).filter((s,u,c)=>c.indexOf(s)===u);return r.length?r:t}const Qr={mainnet:Bt("VITE_KASPA_MAINNET_API_ENDPOINTS",Cs.mainnet),"testnet-10":Bt("VITE_KASPA_TN10_API_ENDPOINTS",Cs["testnet-10"]),"testnet-11":Bt("VITE_KASPA_TN11_API_ENDPOINTS",Cs["testnet-11"])},uy={mainnet:Bt("VITE_KASPA_IGRA_MAINNET_API_ENDPOINTS",[]),"testnet-10":Bt("VITE_KASPA_IGRA_TN10_API_ENDPOINTS",[]),"testnet-11":Bt("VITE_KASPA_IGRA_TN11_API_ENDPOINTS",[])},cy={mainnet:Bt("VITE_KASPA_KASPLEX_MAINNET_API_ENDPOINTS",[]),"testnet-10":Bt("VITE_KASPA_KASPLEX_TN10_API_ENDPOINTS",[]),"testnet-11":Bt("VITE_KASPA_KASPLEX_TN11_API_ENDPOINTS",[])};Qr.mainnet[0],Qr["testnet-10"][0],Qr["testnet-11"][0];const dy=12e3,fy=2,py=600;function Ap(e){return e===408||e===429||e>=500}const my=4,hy=3e4,Xr={},Ns={};function Ci(e){return Ns[e]||(Ns[e]={lastOkAt:0,lastFailAt:0,consecutiveFails:0,lastLatencyMs:0,lastStatus:0,lastError:""}),Ns[e]}function gy(e,t,n=200){const r=Ci(e);r.lastOkAt=Date.now(),r.consecutiveFails=0,r.lastLatencyMs=t,r.lastStatus=n,r.lastError=""}function Ac(e,t,n=0){const r=Ci(e);r.lastFailAt=Date.now(),r.consecutiveFails+=1,r.lastStatus=n,r.lastError=t}function Dl(e){Xr[e]||(Xr[e]={state:"closed",failures:0,openAt:0});const t=Xr[e];return t.state==="open"&&Date.now()-t.openAt>hy&&(t.state="half-open"),t}function yy(e){const t=Xr[e];t&&(t.failures=0,t.state="closed")}function vy(e){const t=Xr[e];t&&(t.failures++,t.failures>=my&&(t.state="open",t.openAt=Date.now()))}function Ps(e){return[...e].sort((n,r)=>{const o=Dl(n),i=Dl(r);if(o.state==="open"&&i.state!=="open")return 1;if(i.state==="open"&&o.state!=="open")return-1;const s=Ci(n),u=Ci(r);return s.lastOkAt!==u.lastOkAt?u.lastOkAt-s.lastOkAt:s.consecutiveFails!==u.consecutiveFails?s.consecutiveFails-u.consecutiveFails:0})}function Sy(e,t){const n=Qr[e]??Qr.mainnet;if(t==="igra"){const r=uy[e]??[];return r.length?r:n}if(t==="kasplex"){const r=cy[e]??[];return r.length?r:n}return n}async function xy(e){let t="official";try{t=await wp(e)}catch{t="official"}const n=[...Sy(e,t)];if(t!=="custom")return Ps(n);let r=null;try{r=await kp(e)}catch{r=null}if(r){const o=n.filter(i=>i!==r);return Ps([r,...o])}return Ps(n)}async function wy(e,t,n){if(Dl(e).state==="open")throw new nn(`Circuit open for ${e}  backing off`,503);let o=null;for(let i=0;i<=fy;i++){i>0&&await new Promise(d=>setTimeout(d,py*2**(i-1)));const s=new AbortController,u=setTimeout(()=>s.abort(),dy),c=Date.now();try{const d=await fetch(`${e}${t}`,{...n,signal:s.signal});if(clearTimeout(u),!d.ok){const m=await d.text().catch(()=>"");throw Ac(e,`HTTP ${d.status}`,d.status),new nn(`HTTP ${d.status}: ${m.slice(0,120)}`,d.status)}const y=await d.json();return yy(e),gy(e,Date.now()-c,d.status),y}catch(d){if(clearTimeout(u),d instanceof nn&&!Ap(d.status))throw d;const y=d instanceof Error?d.message:String(d);Ac(e,y),o=d instanceof Error?d:new Error(String(d))}}throw vy(e),o??new nn("Unknown API error",0)}async function Mn(e,t,n){const r=await xy(e);let o=null;for(const i of r)try{return await wy(i,t,n)}catch(s){if(s instanceof nn&&!Ap(s.status))throw s;o=s instanceof Error?s:new Error(String(s))}throw o??new nn("Unknown API error",0)}class nn extends Error{constructor(t,n){super(t),this.status=n,this.name="KaspaApiError"}}const Ey={mainnet:10,"testnet-10":10,"testnet-11":32};async function ky(e,t="mainnet"){return Mn(t,`/addresses/${encodeURIComponent(e)}/utxos`)}async function Ay(e,t="mainnet"){const n=await Mn(t,`/addresses/${encodeURIComponent(e)}/balance`);return BigInt((n==null?void 0:n.balance)??0)}async function Iy(e="mainnet"){try{const t=await Mn(e,"/info/price?stringOnly=false");return(t==null?void 0:t.price)??0}catch{return 0}}async function Ty(e="mainnet"){var t;try{const n=await Mn(e,"/info/fee-estimate");return((t=n==null?void 0:n.priorityBucket)==null?void 0:t.feerate)??1}catch{return 1}}async function zl(e,t,n="mainnet"){const r=await Ty(n),o=239+142*e+51*t;return BigInt(Math.max(Math.ceil(o*r),1e3))}async function _y(e,t="mainnet"){const n=await Mn(t,"/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=(n==null?void 0:n.transactionId)??(n==null?void 0:n.txid)??"";if(!r)throw new nn("Broadcast succeeded but no txId returned",200);return r}async function Ip(e,t="mainnet"){try{return await Mn(t,`/transactions/${e}`)}catch(n){if(n instanceof nn&&n.status===404)return null;throw n}}async function Cy(e="mainnet"){try{return await Mn(e,"/info/blockdag")}catch{return null}}async function Ny(e,t="mainnet"){const n=await Ay(e,t);return Number(n)/1e8}async function Py(e="mainnet"){return Iy(e)}const Ke=Object.freeze({path:"m/44'/111'",account:0,chain:0,index:0}),Fa=Object.freeze(["m/44'/111'","m/44'/972'"]);function Ic(e,t){const n=typeof e=="number"?e:Number(e);return!Number.isFinite(n)||n<0?t:Math.floor(n)}function jy(e){const t=String(e??"").trim();return t?t.startsWith("m")?t:`m/${t}`:Ke.path}function Ye(e){return{path:jy(e==null?void 0:e.path),account:Ic(e==null?void 0:e.account,Ke.account),chain:(e==null?void 0:e.chain)===1?1:0,index:Ic(e==null?void 0:e.index,Ke.index)}}function vt(e){const t=Ye(e);return`${t.path}/${t.account}'/${t.chain}/${t.index}`}function Ua(e){return e===1?"change":"receive"}function Ry(e){const n=String(e||"").trim().match(/^(m(?:\/\d+'?)*)\/(\d+)'\s*\/([01])\s*\/(\d+)$/i);if(!n)throw new Error("Invalid derivation path. Expected format like m/44'/111'/0'/0/0");return Ye({path:n[1],account:Number(n[2]),chain:Number(n[3]),index:Number(n[4])})}const Oy=6e5,Ly=["encrypt","decrypt"];async function Tp(e,t){const n=new TextEncoder,r=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:Oy,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,Ly)}function Tc(e){return crypto.getRandomValues(new Uint8Array(e))}function js(e){if(e.length%2!==0)throw new Error("Invalid hex string length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n>>1]=parseInt(e.slice(n,n+2),16);return t}function Rs(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}async function Dy(e,t,n){const r=await crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,n);return new Uint8Array(r)}async function zy(e,t,n){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,n);return new Uint8Array(r)}const bl="forgeos.vault.v1",Ni="forgeos.vault.session-cache.v1",$a=-1,Ka=15;let et=null;function _p(e){return!Number.isFinite(e)||e<=0?Number.POSITIVE_INFINITY:Date.now()+e*6e4}function by(e){return Number.isFinite(e)?e:$a}function My(e){return e===$a?Number.POSITIVE_INFINITY:typeof e!="number"||!Number.isFinite(e)?null:e}function Pi(e){try{if(!Number.isFinite(e)||e<=0){chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"});return}chrome.runtime.sendMessage({type:"SCHEDULE_AUTOLOCK",minutes:e})}catch{}}function Wt(){return et?Date.now()>et.autoLockAt?(Zi(),Er(),null):et:null}function Zi(){if(et){try{et.mnemonic=""}catch{}et=null}}function Wa(){return chrome.storage.local}function Va(){var t;return((t=chrome.storage)==null?void 0:t.session)??null}async function Ha(){return new Promise(e=>{Wa().get(bl,t=>{try{const n=t[bl];if(!n)return e(null);e(JSON.parse(n))}catch{e(null)}})})}async function By(e){return new Promise(t=>{Wa().set({[bl]:JSON.stringify(e)},t)})}async function Ga(e){const t=Va();if(t)return new Promise(n=>{t.set({[Ni]:{version:1,mnemonic:e.mnemonic,mnemonicPassphrase:e.mnemonicPassphrase,derivation:e.derivation,address:e.address,network:e.network,autoLockAt:by(e.autoLockAt)}},n)})}async function Er(){const e=Va();if(e)return new Promise(t=>{e.remove(Ni,t)})}async function Fy(){const e=Va();return e?new Promise(t=>{e.get(Ni,n=>{const r=n==null?void 0:n[Ni];if(!r||typeof r!="object"){t(null);return}const o=My(r.autoLockAt);if(o===null){t(null);return}const i=typeof r.mnemonic=="string"?r.mnemonic:"",s=typeof r.address=="string"?r.address:"",u=typeof r.network=="string"?r.network:"";if(!i||!s||!u){t(null);return}t({mnemonic:i,mnemonicPassphrase:typeof r.mnemonicPassphrase=="string"?r.mnemonicPassphrase:void 0,derivation:Ye(r.derivation??Ke),address:s,network:u,autoLockAt:o})})}):null}async function Cp(){return await Ha()!==null}async function ji(e,t,n,r,o={}){var v;const i=Tc(32),s=Tc(12),u=await Tp(t,i),c=Ye(o.derivation??Ke),d={version:1,mnemonic:e,mnemonicPassphrase:o.mnemonicPassphrase||void 0,derivation:c,address:n,network:r,derivationPath:`${c.path}/${c.account}'`,addressIndex:c.index},y=new TextEncoder().encode(JSON.stringify(d)),m=await Dy(u,s,y),h={version:1,kdf:"pbkdf2",salt:Rs(i),iterations:6e5,hash:"SHA-256",iv:Rs(s),ciphertext:Rs(m),createdAt:((v=await Ha())==null?void 0:v.createdAt)??Date.now(),updatedAt:Date.now()};await By(h)}async function Dn(e,t=Ka,n={}){const r=await Ha();if(!r)throw new Error("NO_VAULT");const o=js(r.salt),i=js(r.iv),s=js(r.ciphertext),u=await Tp(e,o);let c;try{c=await zy(u,i,s)}catch{throw new Error("INVALID_PASSWORD")}const d=JSON.parse(new TextDecoder().decode(c));return et={mnemonic:d.mnemonic,mnemonicPassphrase:typeof d.mnemonicPassphrase=="string"?d.mnemonicPassphrase:void 0,derivation:Ye(d.derivation??{path:"m/44'/111'",account:0,chain:0,index:typeof d.addressIndex=="number"?d.addressIndex:0}),address:d.address,network:d.network,autoLockAt:_p(t)},Pi(t),n.persistSession?await Ga(et):await Er(),et}async function Np(){const e=await Fy();if(!e)return null;if(Date.now()>e.autoLockAt)return await Er(),null;if(et=e,Number.isFinite(e.autoLockAt)){const t=Math.max(0,(e.autoLockAt-Date.now())/6e4);Pi(t)}else Pi($a);return et}async function Pp(e){if(!e){await Er();return}const t=Wt();t&&await Ga(t)}function jp(){Zi(),Er();try{chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"})}catch{}}async function Rp(e,t){if(t.length<8)throw new Error("WEAK_PASSWORD");const n=await Dn(e);await ji(n.mnemonic,t,n.address,n.network,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation}),Zi(),await Dn(t)}async function Op(){Zi(),await Er(),await new Promise(e=>Wa().clear(e))}function ri(e=Ka,t={}){et&&(et.autoLockAt=_p(e),Pi(e),t.persistSession&&Ga(et))}const Uy=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_AUTO_LOCK_MINUTES:Ka,changePassword:Rp,createVault:ji,extendSession:ri,getSession:Wt,lockWallet:jp,resetWallet:Op,restoreSessionFromCache:Np,setSessionPersistence:Pp,unlockVault:Dn,vaultExists:Cp},Symbol.toStringTag,{value:"Module"})),$y="/kaspa_wasm_bg.wasm";let $o=null,Ko=null;function Ky(e){var t,n,r,o;return e!=null&&e.Mnemonic?e:(t=e==null?void 0:e.default)!=null&&t.Mnemonic?e.default:(n=e==null?void 0:e.k)!=null&&n.Mnemonic?e.k:(o=(r=e==null?void 0:e.k)==null?void 0:r.default)!=null&&o.Mnemonic?e.k.default:e}async function Wy(){globalThis.__forgeosKaspaWasmBytes||(Ko||(Ko=(async()=>{const e=await fetch($y);if(!e.ok)throw new Error(`WASM_FETCH_FAILED: ${e.status} ${e.statusText}`);const t=await e.arrayBuffer();globalThis.__forgeosKaspaWasmBytes=new Uint8Array(t)})().catch(e=>{throw Ko=null,e})),await Ko)}async function Qa(){return $o||($o=(async()=>{try{await Wy();const e=await mp(()=>import("../../kaspa_wasm.js").then(r=>r.k),[]),t=Ky(e),n=t.default||t.init;if(typeof n=="function")try{await n()}catch{}return t}catch(e){const t=e instanceof Error?e.message:String(e);throw new Error(`KASPA_WASM_INIT_FAILED: ${t}`)}})().catch(e=>{throw $o=null,e})),$o}const Vy=new Set([12,15,18,21,24]),Lp=Qa;function Xa(e){return e.trim().toLowerCase().split(/\s+/).join(" ")}function Ya(e){const t=e.trim().split(/\s+/).filter(Boolean);if(!Vy.has(t.length))throw new Error(`Seed phrase must be a valid BIP39 length (12/15/18/21/24 words; got ${t.length}).`)}async function Za(e,t){const n=await Lp(),{Mnemonic:r,XPrv:o}=n,s=new r(e).toSeed(t.mnemonicPassphrase||void 0),u=new o(s);return{kaspa:n,masterXPrv:u}}function Hy(e,t){try{return e.derivePath(t)}catch(n){if(t.startsWith("m/"))try{return e.derivePath(t.slice(2))}catch{}const r=n instanceof Error?n.message:String(n);throw new Error(`DERIVATION_PATH_INVALID: ${t} (${r})`)}}function Ja(e,t){const n=Ye(t),{XPrivateKey:r}=e.kaspa,i=Hy(e.masterXPrv,n.path).intoString("kprv"),s=new r(i,!1,BigInt(n.account));return{privKey:n.chain===1?s.changeKey(n.index):s.receiveKey(n.index),derivation:n}}function Dp(e,t){return e.toKeypair().toAddress(t).toString()}async function zp(e,t,n={}){const r=await Za(e,n),{privKey:o,derivation:i}=Ja(r,n.derivation);return{address:Dp(o,t),derivation:i}}async function Gy(e,t=24){const{Mnemonic:n}=await Lp();let r;try{r=n.random(t)}catch{r=n.random()}const o=r.phrase,{address:i,derivation:s}=await zp(o,e,{derivation:Ke});return{phrase:o,address:i,network:e,derivation:s}}async function _c(e,t,n={}){Ya(e);const r=Xa(e),o=n.mnemonicPassphrase||void 0,{address:i,derivation:s}=await zp(r,t,n);return{phrase:r,address:i,network:t,mnemonicPassphrase:o,derivation:s}}async function Qy(e,t,n={}){var A,E;Ya(e);const r=Xa(e),o=((A=n.basePaths)!=null&&A.length?n.basePaths:[...Fa]).map(x=>String(x).trim()).filter(Boolean),[i,s]=n.accountRange??[0,4],[u,c]=n.indexRange??[0,9],d=((E=n.chains)!=null&&E.length?n.chains:[0,1]).filter(x=>x===0||x===1),y=Math.max(1,n.limit??60),m=await Za(r,n),h=[],v=new Set;e:for(let x=Math.max(0,i);x<=Math.max(i,s);x++)for(const f of d)for(let p=Math.max(0,u);p<=Math.max(u,c);p++)for(const g of o){const w=Ye({path:g,account:x,chain:f,index:p});try{const{privKey:N}=Ja(m,w),_=Dp(N,t),P=_.toLowerCase();if(v.has(P))continue;if(v.add(P),h.push({address:_,derivation:w,derivationPath:vt(w),chainLabel:Ua(w.chain)}),h.length>=y)break e}catch{}}return h}async function Xy(e,t,n={}){Ya(e);const r=Xa(e),o=await Za(r,n),{privKey:i}=Ja(o,n.derivation),s=new TextEncoder().encode(t),u=i.sign(s);return Array.from(u,c=>c.toString(16).padStart(2,"0")).join("")}const Yy=3e4,qa=new Map;function Zy(e){const t=qa.get(e.toLowerCase());return!t||Date.now()-t.lastSyncAt>Yy?null:t}function Jy(e){qa.delete(e.toLowerCase())}function qy(e){return{txId:e.outpoint.transactionId,outputIndex:e.outpoint.index,address:e.address,amount:BigInt(e.utxoEntry.amount),scriptPublicKey:e.utxoEntry.scriptPublicKey.scriptPublicKey,scriptVersion:e.utxoEntry.scriptPublicKey.version,blockDaaScore:BigInt(e.utxoEntry.blockDaaScore),isCoinbase:e.utxoEntry.isCoinbase}}async function bp(e,t,n=new Set,r=0n){const i=(await ky(e,t)).map(qy),s=i.reduce((c,d)=>c+d.amount,0n),u={address:e.toLowerCase(),utxos:i,confirmedBalance:s,pendingOutbound:r,lastSyncAt:Date.now()};return qa.set(e.toLowerCase(),u),u}async function eu(e,t,n,r){const o=Zy(e);return o||bp(e,t,n,r)}function Cc(e,t,n,r=new Set){const o=e.filter(c=>!r.has(`${c.txId}:${c.outputIndex}`)).sort((c,d)=>d.amount>c.amount?1:d.amount<c.amount?-1:0),i=t+n;let s=0n;const u=[];for(const c of o)if(u.push(c),s+=c.amount,s>=i)break;if(s<i)throw new Error("INSUFFICIENT_FUNDS");return{selected:u,total:s}}function An(e){return Number(e)/1e8}function e0(e){return BigInt(Math.floor(e*1e8))}const Ml="forgeos.pending.txs.v1",t0=7*24*60*60*1e3;let _t=[],Nc=!1;function Mp(e){return["CONFIRMED","FAILED","CANCELLED"].includes(e.state)}async function Bp(){return new Promise(e=>{const t=_t.map(o0);chrome.storage.local.set({[Ml]:JSON.stringify(t)},e)})}async function tu(){return Nc?_t:(Nc=!0,new Promise(e=>{chrome.storage.local.get(Ml,t=>{try{const n=t[Ml];if(!n){e([]);return}const r=JSON.parse(n).map(i0),o=Date.now()-t0;_t=r.filter(i=>!(Mp(i)&&i.builtAt<o))}catch{_t=[]}e(_t)})}))}async function Fp(e){await tu(),_t.push(e),await Bp()}async function nt(e){await tu();const t=_t.findIndex(n=>n.id===e.id);t>=0?_t[t]=e:_t.push(e),await Bp()}async function n0(e){return await tu(),_t.filter(t=>t.fromAddress.toLowerCase()===e.toLowerCase()&&!Mp(t))}async function r0(e){const t=await n0(e),n=new Set;for(const r of t)for(const o of r.inputs)n.add(`${o.txId}:${o.outputIndex}`);return n}function o0(e){return{...e,fee:e.fee.toString(),changeOutput:e.changeOutput?{...e.changeOutput,amount:e.changeOutput.amount.toString()}:null,outputs:e.outputs.map(t=>({...t,amount:t.amount.toString()})),inputs:e.inputs.map(t=>({...t,amount:t.amount.toString(),blockDaaScore:t.blockDaaScore.toString()}))}}function i0(e){return{...e,fee:BigInt(e.fee),changeOutput:e.changeOutput?{...e.changeOutput,amount:BigInt(e.changeOutput.amount)}:null,outputs:e.outputs.map(t=>({...t,amount:BigInt(t.amount)})),inputs:e.inputs.map(t=>({...t,amount:BigInt(t.amount),blockDaaScore:BigInt(t.blockDaaScore)}))}}var Zc;const Os=((Zc=import.meta)==null?void 0:Zc.env)??{};function nu(e,t,n,r){const o=Number(Os==null?void 0:Os[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}const s0=nu("VITE_EXT_TX_FEE_SAFETY_BPS",11500,1e4,3e4),Pc=BigInt(nu("VITE_EXT_TX_FEE_MIN_SOMPI",1e3,1,1e9)),jc=BigInt(nu("VITE_EXT_TX_FEE_MAX_SOMPI",2e8,1e3,5e9));function Rc(e){const t=(e*BigInt(s0)+9999n)/10000n;return t<Pc?Pc:t>jc?jc:t}function l0(e){return null}const a0=Qa;async function Up(e,t,n,r){const o=e0(n);if(o<=0n)throw new Error("AMOUNT_TOO_SMALL");const i=l0(),s=o+(i??0n),u=i?3:2,c=await r0(e),d=await eu(e,r),y=Rc(await zl(1,u,r)),{selected:m,total:h}=Cc(d.utxos,s,y,c),v=Rc(await zl(m.length,u,r));let A=m,E=h;if(h<s+v){const w=Cc(d.utxos,s,v,c);A=w.selected,E=w.total}const x=E-s-v,f=[{address:t,amount:o}],p=x>0n?{address:e,amount:x}:null;return{id:crypto.randomUUID(),state:"BUILDING",fromAddress:e,network:r,inputs:A,outputs:f,changeOutput:p,fee:v,platformFee:i??void 0,builtAt:Date.now()}}async function u0(e){const t=await a0(),n=t.UtxoEntry,r=e.inputs.map(d=>{const y={address:d.address,outpoint:{transactionId:d.txId,index:d.outputIndex},amount:d.amount,scriptPublicKey:{version:d.scriptVersion,scriptPublicKey:d.scriptPublicKey},blockDaaScore:d.blockDaaScore,isCoinbase:d.isCoinbase};if(n)try{return new n(y)}catch{return y}return y}),o=e.outputs.map(d=>({address:d.address,amount:d.amount})),i={entries:r,outputs:o,changeAddress:e.fromAddress,priorityFee:{sompi:e.fee},networkId:e.network},s=t.Generator;if(!s)throw new Error("WASM_GENERATOR_UNAVAILABLE: kaspa-wasm Generator class not found. Ensure kaspa-wasm  0.13.0 is installed.");const c=new s(i).next();if(!c)throw new Error("GENERATOR_EMPTY: Generator produced no transaction. Check UTXO availability.");return c}const c0={mainnet:"kaspa:","testnet-10":"kaspatest:","testnet-11":"kaspatest:"};async function $p(e){var c,d;const t=[];let n;try{n=await eu(e.fromAddress,e.network);const y=new Set(n.utxos.map(m=>`${m.txId}:${m.outputIndex}`));for(const m of e.inputs){const h=`${m.txId}:${m.outputIndex}`;y.has(h)||t.push(`UTXO_SPENT: input ${h} no longer available`)}}catch{t.push("UTXO_FETCH_FAILED: could not verify input availability")}let r;try{r=await zl(e.inputs.length,e.outputs.length+(e.changeOutput?1:0),e.network),e.fee<r&&t.push(`FEE_TOO_LOW: estimated ${e.fee.toString()} sompi, network requires ${r.toString()} sompi`)}catch{r=e.fee}const o=e.inputs.reduce((y,m)=>y+m.amount,0n),i=e.outputs.reduce((y,m)=>y+m.amount,0n),s=((c=e.changeOutput)==null?void 0:c.amount)??0n;o!==i+s+e.fee&&t.push(`BALANCE_MISMATCH: inputs=${o} != outputs=${i} + change=${s} + fee=${e.fee}`);for(const y of e.outputs)yo(y.address)||t.push(`INVALID_ADDRESS: "${y.address}" is not a valid Kaspa address`);e.changeOutput&&!yo(e.changeOutput.address)&&t.push(`INVALID_CHANGE_ADDRESS: "${e.changeOutput.address}"`);const u=c0[e.network];if(u){for(const y of e.outputs)y.address.toLowerCase().startsWith(u)||t.push(`NETWORK_MISMATCH: output address "${y.address}" does not match network "${e.network}"`);e.changeOutput&&!e.changeOutput.address.toLowerCase().startsWith(u)&&t.push(`NETWORK_MISMATCH: change address "${e.changeOutput.address}" does not match network "${e.network}"`)}return{valid:t.length===0,estimatedFee:r??e.fee,changeAmount:((d=e.changeOutput)==null?void 0:d.amount)??0n,errors:t}}const d0=Qa;async function Kp(e){const t=Wt();if(!t||!t.mnemonic)throw new Error("WALLET_LOCKED");const n=await d0(),{Mnemonic:r,XPrv:o,XPrivateKey:i}=n;let s=null;try{const u=Ye(t.derivation??Ke),d=new r(t.mnemonic).toSeed(t.mnemonicPassphrase||void 0),y=new o(d);let m=y;try{m=y.derivePath(u.path)}catch(g){if(u.path.startsWith("m/"))m=y.derivePath(u.path.slice(2));else throw g}const h=m.intoString("kprv"),v=new i(h,!1,BigInt(u.account)),A=u.chain===1?v.changeKey(u.index):v.receiveKey(u.index),E=A.toKeypair();if(s=E.privateKey??(typeof E.toPrivateKey=="function"?E.toPrivateKey():null),!s){const g=n.PrivateKey,w=typeof A.toString=="function"?A.toString("hex"):null;g&&w&&(s=new g(w))}if(!s)throw new Error("PRIVKEY_UNAVAILABLE: Could not extract PrivateKey from keypair. Verify kaspa-wasm version compatibility.");const x=await u0(e);await x.sign([s]);let f;typeof x.serializeToObject=="function"?f=JSON.stringify({transaction:x.serializeToObject()}):typeof x.toJSON=="function"?f=x.toJSON():f=JSON.stringify({transaction:x});const p=x.id;return{...e,state:"SIGNED",signedTxPayload:f,txId:p,signedAt:Date.now()}}catch(u){const c=u instanceof Error?u.message:String(u);throw new Error(`SIGN_FAILED: ${c}`)}finally{s=null}}const f0=1e3,p0=5*6e4;async function Wp(e){if(e.txId)return console.info(`[broadcast] tx ${e.id} already has txId=${e.txId}; skipping re-broadcast`),{...e,state:"CONFIRMING"};if(!e.signedTxPayload)throw new Error("NOT_SIGNED");let t;try{t=JSON.parse(e.signedTxPayload)}catch{throw new Error("BROADCAST_FAILED: signedTxPayload is not valid JSON")}let n;try{n=await _y(t,e.network)}catch(o){const i=o instanceof Error?o.message:String(o),s={...e,state:"FAILED",error:`BROADCAST_FAILED: ${i}`};throw await nt(s),new Error(`BROADCAST_FAILED: ${i}`)}const r={...e,state:"BROADCASTING",txId:n,broadcastAt:Date.now(),signedTxPayload:void 0};return await nt(r),Jy(e.fromAddress),{...r,state:"CONFIRMING"}}async function m0(e,t=()=>{}){if(!e.txId)throw new Error("NO_TXID: cannot poll without txId");const n=Date.now()+p0;let r={...e,state:"CONFIRMING"};for(;Date.now()<n;){await h0(f0);try{const o=await Ip(e.txId,e.network);if(o!=null&&o.acceptingBlockHash)return r={...r,state:"CONFIRMED",confirmations:1,confirmedAt:Date.now(),signedTxPayload:void 0},await nt(r),t(r),r}catch{}}throw r={...r,state:"FAILED",error:"CONFIRM_TIMEOUT: transaction not confirmed within 5 minutes"},await nt(r),t(r),new Error(r.error)}function h0(e){return new Promise(t=>setTimeout(t,e))}async function g0(e,t){const n=await Wp(e);return t(n),m0(n,t).catch(()=>{}),n}const Oc=!1,y0=!1,Vp={tokens:{KAS:{id:"KAS",symbol:"KAS",name:"Kaspa",decimals:8,assetId:null,enabled:!0,disabledReason:null},USDT:{id:"USDT",symbol:"USDT",name:"Tether USD",decimals:6,assetId:null,enabled:Oc,disabledReason:"Temporarily disabled in this wallet build."},USDC:{id:"USDC",symbol:"USDC",name:"USD Coin",decimals:6,assetId:null,enabled:Oc,disabledReason:"Temporarily disabled in this wallet build."},ZRX:{id:"ZRX",symbol:"0x",name:"0x Protocol",decimals:18,assetId:null,enabled:y0,disabledReason:"0x route is disabled in this wallet build."}}};function Lc(e){var t;return((t=Vp.tokens[e])==null?void 0:t.enabled)??!1}function Bl(){return Object.values(Vp.tokens)}const v0={default:a.border,accent:a.accent,warn:a.warn,danger:a.danger,purple:a.purple,success:a.ok},S0={default:"rgba(143,160,181,0.08)",accent:"rgba(57,221,182,0.12)",warn:"rgba(247,178,103,0.12)",danger:"rgba(255,93,122,0.12)",purple:"rgba(143,123,255,0.12)",success:"rgba(57,221,182,0.1)"},In={padding:"12px 14px 14px",display:"flex",flexDirection:"column",gap:10,minWidth:0};function yr(){return{backgroundColor:a.bg,backgroundImage:["radial-gradient(120% 95% at 50% -8%, rgba(57,221,182,0.18) 0%, rgba(57,221,182,0.05) 40%, transparent 72%)","radial-gradient(88% 86% at 92% 100%, rgba(57,221,182,0.12) 0%, transparent 70%)","radial-gradient(80% 90% at 8% 88%, rgba(23,64,74,0.3) 0%, transparent 74%)","linear-gradient(165deg, #0b141f 0%, #070e16 52%, #05090f 100%)","repeating-linear-gradient(0deg, transparent 0px, transparent 31px, rgba(57,221,182,0.06) 32px)","repeating-linear-gradient(90deg, transparent 0px, transparent 31px, rgba(57,221,182,0.05) 32px)"].join(", "),backgroundSize:"auto, auto, auto, auto, 32px 32px, 32px 32px",backgroundPosition:"center, center, center, center, center, center"}}function Ee(e="default",t=!1){const n=v0[e],r=S0[e];return{background:"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)",border:`1px solid ${e==="default"?a.border:`${n}32`}`,borderRadius:12,padding:t?"10px 12px":"12px 14px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.04), 0 10px 22px rgba(0,0,0,0.22)",position:"relative",overflow:"hidden",minWidth:0,overflowWrap:"anywhere",backgroundImage:[`radial-gradient(circle at 100% 0%, ${r}, transparent 46%)`,"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)"].join(", ")}}function Ie(){return{background:"linear-gradient(180deg, rgba(5,7,10,0.62), rgba(7,11,16,0.72))",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0,overflowWrap:"anywhere"}}const Me={fontSize:7,color:a.dim,letterSpacing:"0.14em",fontWeight:700,...z},Nn={fontSize:9,color:a.text,fontWeight:700,letterSpacing:"0.08em",...z};function Hp(e=1){return{height:1,background:`rgba(33,48,67,${.9*e})`}}function oe(e=a.dim,t=!1){return{background:t?"linear-gradient(180deg, rgba(14,22,32,0.9), rgba(9,14,20,0.9))":"rgba(16,25,35,0.55)",border:`1px solid ${e===a.dim?a.border:`${e}40`}`,borderRadius:8,color:e,cursor:"pointer",fontSize:9,fontWeight:700,letterSpacing:"0.08em",...z,boxShadow:t?"0 6px 14px rgba(0,0,0,0.18)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function Tn(e=!0){return{background:e?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:"rgba(33,48,67,0.55)",color:e?"#04110E":a.dim,border:"none",borderRadius:8,cursor:e?"pointer":"not-allowed",fontSize:9,fontWeight:700,letterSpacing:"0.08em",...z,boxShadow:e?"0 8px 18px rgba(57,221,182,0.16)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function Gp(e=!1){return{width:"100%",boxSizing:"border-box",background:"linear-gradient(180deg, rgba(8,13,20,0.82), rgba(9,14,21,0.9))",border:`1px solid ${e?a.danger:a.border}`,borderRadius:8,padding:"8px 10px",color:a.text,fontSize:9,...z,outline:"none",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0}}const Dc={mainnet:"https://explorer.kaspa.org","testnet-10":"https://explorer-tn10.kaspa.org","testnet-11":"https://explorer-tn11.kaspa.org"};function x0({address:e,balance:t,usdPrice:n,network:r,onOpenSwap:o,mode:i,onModeConsumed:s,onBalanceInvalidated:u}){const[c,d]=k.useState("idle"),[y,m]=k.useState(!1),[h,v]=k.useState(""),[A,E]=k.useState(""),[x,f]=k.useState(null),[p,g]=k.useState([]),[w,N]=k.useState(null),[_,P]=k.useState(null),[L,K]=k.useState(!1),[B,X]=k.useState([]),[se,H]=k.useState(!1),[ye,Re]=k.useState(null),[xe,Ae]=k.useState(null),[j,b]=k.useState(0);k.useEffect(()=>{i==="send"&&(d("form"),m(!1),s==null||s()),i==="receive"&&(m(!0),d("idle"),s==null||s())},[i]),k.useEffect(()=>{let R=!0;const T=async(O=!1)=>{if(!e){if(!R)return;X([]),Re(null),Ae(null),H(!1);return}if(R){H(!0),O&&Re(null);try{const J=O?await bp(e,r):await eu(e,r);if(!R)return;const me=[...J.utxos].sort((Le,Rt)=>Le.amount===Rt.amount?0:Le.amount>Rt.amount?-1:1);X(me),Ae(Date.now()),Re(null)}catch(J){if(!R)return;Re(J instanceof Error?J.message:"Failed to load UTXOs.")}finally{R&&H(!1)}}};T(!0).catch(()=>{});const S=window.setInterval(()=>{T(!1).catch(()=>{})},25e3);return()=>{R=!1,clearInterval(S)}},[e,r,j]);const F=Wt(),W=!!(F!=null&&F.mnemonic),I=r==="mainnet"?"kaspa:":"kaspatest:",Y=yo(h)&&h.toLowerCase().startsWith(I),$=parseFloat(A),le=$>0&&(t===null||$<=t),Ce=Y&&le,U=async()=>{if(!e||!Ce)return;d("building"),g([]),P(null);let R;try{R=await Up(e,h.trim(),$,r),await Fp(R),f(R)}catch(T){const S=T instanceof Error?T.message:String(T);P(S==="INSUFFICIENT_FUNDS"?"Insufficient balance including fees.":`Build failed: ${S}`),d("error");return}d("dry_run");try{const T=await $p(R);if(!T.valid){g(T.errors),d("error"),await nt({...R,state:"DRY_RUN_FAIL",error:T.errors.join("; ")});return}const S={...R,state:"DRY_RUN_OK",fee:T.estimatedFee};f(S),await nt(S)}catch(T){P(`Validation failed: ${T instanceof Error?T.message:String(T)}`),d("error");return}d("confirm")},pe=async()=>{if(!x||!W)return;d("signing");let R;try{R=await Kp(x),f(R),await nt(R)}catch(T){const S=T instanceof Error?T.message:String(T);P(S==="WALLET_LOCKED"?"Wallet locked  please unlock first.":`Signing failed: ${S}`),d("error");return}d("broadcast");try{await g0(R,async T=>{f(T),await nt(T),T.state==="CONFIRMED"&&(N(T.txId??null),d("done"),b(S=>S+1),u==null||u()),T.state==="FAILED"&&(P(T.error??"Transaction failed."),d("error"))})}catch(T){P(T instanceof Error?T.message:"Transaction timed out awaiting confirmation."),d("error")}},Oe=async()=>{x&&await nt({...x,state:"CANCELLED"}),te()},te=()=>{d("idle"),f(null),g([]),P(null),N(null)},Ht=async()=>{if(e)try{await navigator.clipboard.writeText(e),K(!0),setTimeout(()=>K(!1),2e3)}catch{}},Pt=[...Bl()].sort((R,T)=>R.id==="KAS"?-1:T.id==="KAS"?1:0),ut={KAS:"../icons/kaspa-logo.png",USDT:"../icons/usdt.png",USDC:"../icons/usdc.png"},yn={KAS:t??0,USDT:0,USDC:0,ZRX:0},Ge=Dc[r]??Dc.mainnet,Gt=e?`${Ge}/addresses/${e}`:Ge,Bn=B.reduce((R,T)=>R+T.amount,0n),jt=An(Bn),M=B.length?An(B[0].amount):0,V=xe?new Date(xe).toLocaleTimeString([],{hour12:!1}):"";return l.jsxs("div",{style:In,children:[l.jsxs("div",{style:{...Ee("purple"),background:"linear-gradient(165deg, rgba(10,18,28,0.96) 0%, rgba(7,13,22,0.93) 52%, rgba(5,10,18,0.94) 100%)",border:`1px solid ${a.accent}3A`,boxShadow:"inset 0 1px 0 rgba(255,255,255,0.06), 0 12px 26px rgba(0,0,0,0.28), 0 0 24px rgba(57,221,182,0.09)"},children:[l.jsx("div",{style:{position:"absolute",top:-32,right:-26,width:130,height:130,borderRadius:"50%",background:"radial-gradient(circle, rgba(57,221,182,0.26) 0%, rgba(57,221,182,0.05) 48%, transparent 75%)",pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",backgroundImage:"repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(57,221,182,0.05) 24px), repeating-linear-gradient(90deg, transparent 0px, transparent 23px, rgba(57,221,182,0.04) 24px)",opacity:.45}}),l.jsx("div",{style:{marginBottom:11,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,position:"relative"},children:l.jsx("div",{style:Me,children:"TOKEN BALANCES"})}),Pt.map((R,T)=>{const S=ut[R.id]??ut.KAS,O=R.id==="KAS",J=O?48:30,me=O?40:20,Le=yn[R.id]??0,Rt=R.id==="KAS"?be(Le,4):be(Le,2);return l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(160deg, rgba(15,24,36,0.86), rgba(8,14,22,0.88))",border:`1px solid ${a.border}`,borderRadius:12,padding:"10px 11px",marginTop:T>0?8:0,opacity:O||R.enabled?1:.58,position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:J,height:J,borderRadius:"50%",flexShrink:0,background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",border:"none",boxShadow:"none",overflow:"hidden"},children:l.jsx("img",{src:S,alt:`${R.symbol} logo`,style:{width:me,height:me,objectFit:"contain",borderRadius:"50%",filter:"none"}})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,letterSpacing:"0.05em",...z},children:R.symbol}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.03em"},children:R.name})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:18,fontWeight:700,color:a.text},children:Rt}),!R.enabled&&R.disabledReason&&l.jsx("div",{style:{fontSize:7,color:a.dim,maxWidth:140,lineHeight:1.35,marginTop:3},children:R.disabledReason})]})]},R.id)}),e&&l.jsx("div",{style:{marginTop:11,textAlign:"right",position:"relative",zIndex:1},children:l.jsx("button",{onClick:()=>chrome.tabs.create({url:Gt}),style:{...oe(a.accent,!0),padding:"6px 9px",fontSize:8,color:a.accent},children:"EXPLORER "})})]}),l.jsxs("div",{style:Ee("default"),children:[l.jsxs("div",{style:{marginBottom:9,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsx("div",{style:Me,children:"UTXO SET"}),l.jsx("button",{onClick:()=>b(R=>R+1),disabled:se,style:{...oe(a.accent,!0),padding:"5px 8px",fontSize:7,color:a.accent},children:se?"SYNC":"REFRESH"})]}),l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:9},children:[l.jsxs("div",{style:{...Ie(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:6,color:a.muted,letterSpacing:"0.08em"},children:"COUNT"}),l.jsx("div",{style:{fontSize:10,color:a.text,fontWeight:700,...z},children:B.length})]}),l.jsxs("div",{style:{...Ie(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:6,color:a.muted,letterSpacing:"0.08em"},children:"TOTAL"}),l.jsxs("div",{style:{fontSize:10,color:a.text,fontWeight:700,...z},children:[be(jt,4)," KAS"]})]}),l.jsxs("div",{style:{...Ie(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:6,color:a.muted,letterSpacing:"0.08em"},children:"LARGEST"}),l.jsxs("div",{style:{fontSize:10,color:a.text,fontWeight:700,...z},children:[be(M,4)," KAS"]})]})]}),se&&B.length===0&&l.jsxs("div",{style:{...Ie(),fontSize:7,color:a.dim,padding:"9px 10px"},children:["Fetching UTXOs from ",r,""]}),!se&&B.length===0&&!ye&&l.jsxs("div",{style:{...Ie(),fontSize:7,color:a.dim,padding:"9px 10px"},children:["No UTXOs found for this wallet on ",r,"."]}),ye&&l.jsx("div",{style:{...Ie(),fontSize:7,color:a.danger,padding:"9px 10px",marginBottom:B.length?8:0},children:ye}),B.length>0&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[B.slice(0,6).map((R,T)=>{const S=An(R.amount);return l.jsx("div",{style:{...Ie(),padding:"8px 9px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsxs("div",{style:{minWidth:0},children:[l.jsxs("div",{style:{fontSize:7,color:a.dim,...z,letterSpacing:"0.04em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["#",T+1," ",R.txId.slice(0,16),":",R.outputIndex]}),l.jsxs("div",{style:{fontSize:6,color:a.muted,marginTop:2},children:["DAA ",R.blockDaaScore.toString()," ",R.isCoinbase?" COINBASE":""]})]}),l.jsxs("div",{style:{fontSize:10,color:a.accent,fontWeight:700,...z},children:[be(S,4)," KAS"]})]})},`${R.txId}:${R.outputIndex}`)}),B.length>6&&l.jsxs("div",{style:{fontSize:7,color:a.dim,textAlign:"right",paddingTop:1},children:["+",B.length-6," more UTXOs"]})]}),l.jsx("div",{style:{...Hp(),margin:"9px 0 6px"}}),l.jsxs("div",{style:{fontSize:6,color:a.muted,letterSpacing:"0.06em",textAlign:"right"},children:["UPDATED ",V]})]}),c==="idle"&&!y&&e&&l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:()=>d("form"),style:Ls(),children:"SEND"}),l.jsx("button",{onClick:()=>m(!0),style:Ls(),children:"RECEIVE"}),l.jsx("button",{onClick:()=>o?o():chrome.tabs.create({url:"https://forge-os.xyz"}),style:Ls(),children:"SWAP"})]}),c==="form"&&l.jsxs("div",{style:tr(),children:[l.jsxs("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between",marginBottom:6},children:[l.jsx("div",{style:Nn,children:"SEND KAS"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[t!==null&&l.jsxs("div",{style:{fontSize:7,color:a.dim},children:["Bal: ",be(t,2)," KAS",n>0?`  $${be(t*n,2)}`:""]}),l.jsx("button",{onClick:()=>d("idle"),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...z},children:""})]})]}),!W&&l.jsx("div",{style:{...Ie(),fontSize:7,color:a.dim,marginBottom:6,lineHeight:1.4},children:"External wallet: signing opens in Forge-OS."}),l.jsx("input",{value:h,onChange:R=>v(R.target.value),placeholder:`Recipient ${I}qp`,style:zc(!!(h&&!Y))}),h&&!Y&&l.jsx("div",{style:{fontSize:7,color:a.danger},children:h.toLowerCase().startsWith(I)?"Invalid Kaspa address":`Must start with "${I}" on ${r}`}),l.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[l.jsx("input",{value:A,onChange:R=>E(R.target.value),placeholder:"Amount (KAS)",type:"number",min:"0",style:{...zc(!1),paddingRight:48}}),t!==null&&t>0&&l.jsx("button",{onClick:()=>{const R=Math.max(0,t-.01);E(R>0?String(parseFloat(R.toFixed(4))):"")},style:{position:"absolute",right:6,background:`${a.accent}20`,border:`1px solid ${a.accent}50`,borderRadius:4,padding:"2px 6px",color:a.accent,fontSize:7,fontWeight:700,cursor:"pointer",...z,letterSpacing:"0.06em"},children:"MAX"})]}),$>0&&n>0&&l.jsxs("div",{style:{fontSize:7,color:a.dim},children:[" $",be($*n,2)]}),l.jsx("button",{onClick:W?U:()=>chrome.tabs.create({url:`https://forge-os.xyz?send=1&to=${encodeURIComponent(h)}&amount=${encodeURIComponent(A)}`}),disabled:!Ce,style:Ds(Ce),children:W?"PREVIEW SEND ":"OPEN IN FORGE-OS "})]}),(c==="building"||c==="dry_run")&&l.jsx(zs,{icon:"",title:c==="building"?"SELECTING INPUTS":"VALIDATING",sub:c==="building"?"Fetching UTXOs and estimating network fee.":"Running 5 security checks.",color:a.accent}),c==="confirm"&&x&&l.jsx(w0,{tx:x,usdPrice:n,onConfirm:pe,onCancel:Oe}),c==="signing"&&l.jsx(zs,{icon:"",title:"SIGNING",sub:"Deriving key and signing inputs with kaspa-wasm.",color:a.warn}),c==="broadcast"&&l.jsx(zs,{icon:"",title:"BROADCASTING",sub:`Polling for confirmation. TxID: ${x!=null&&x.txId?x.txId.slice(0,20)+"":"pending"}`,color:a.accent}),c==="done"&&l.jsxs("div",{style:{...tr(),background:`${a.ok}0A`,borderColor:`${a.ok}30`},children:[l.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700,marginBottom:6},children:" TRANSACTION CONFIRMED"}),w&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:3},children:"Transaction ID"}),l.jsx("div",{style:{fontSize:7,color:a.text,wordBreak:"break-all",marginBottom:8},children:w}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`${Ge}/txs/${w}`}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...z},children:"View on Explorer "})]}),l.jsx("button",{onClick:te,style:{...Ds(!0),marginTop:10,background:`${a.ok}20`,color:a.ok},children:"DONE"})]}),c==="error"&&l.jsxs("div",{style:{...tr(),background:a.dLow,borderColor:`${a.danger}40`},children:[l.jsx("div",{style:{fontSize:9,color:a.danger,fontWeight:700,marginBottom:6},children:"TRANSACTION FAILED"}),_&&l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:_}),p.map((R,T)=>l.jsxs("div",{style:{fontSize:7,color:a.danger,marginBottom:2},children:[" ",R]},T)),l.jsx("button",{onClick:te,style:{...Ds(!0),marginTop:8,background:a.dLow,border:`1px solid ${a.danger}50`,color:a.danger},children:"TRY AGAIN"})]}),y&&e&&l.jsxs("div",{style:tr(),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[l.jsx("div",{style:Nn,children:"RECEIVE KAS"}),l.jsx("button",{onClick:()=>m(!1),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...z},children:""})]}),l.jsx("div",{style:{...Ie(),fontSize:8,color:a.dim,lineHeight:1.6,wordBreak:"break-all",marginBottom:6},children:e}),l.jsx("button",{onClick:Ht,style:{...oe(L?a.ok:a.dim,!0),padding:"7px 8px",color:L?a.ok:a.dim,width:"100%"},children:L?" COPIED":"COPY ADDRESS"}),l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5,marginTop:4},children:"Send KAS to this address from any Kaspa wallet. Transactions confirm at BlockDAG speed."})]})]})}const tr=()=>({...Ee("default"),display:"flex",flexDirection:"column",gap:7}),zc=e=>({...Gp(e)}),Ls=e=>({...oe(a.dim,!0),flex:1,padding:"8px 0",textTransform:"uppercase",letterSpacing:"0.1em"}),Ds=e=>({...Tn(e),padding:"9px",width:"100%"});function zs({icon:e,title:t,sub:n,color:r}){return l.jsxs("div",{style:{...tr(),textAlign:"center"},children:[l.jsx("div",{style:{fontSize:20},children:e}),l.jsx("div",{style:{fontSize:9,color:r,fontWeight:700,letterSpacing:"0.1em"},children:t}),l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5},children:n})]})}function w0({tx:e,usdPrice:t,onConfirm:n,onCancel:r}){var m;const o=e.outputs[0],i=o?An(o.amount):0,s=An(e.fee),u=e.platformFee?An(e.platformFee):0,c=e.changeOutput?An(e.changeOutput.amount):0,d=i+s+u,y=(h,v,A=a.text,E)=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:5},children:[l.jsxs("span",{style:{fontSize:7,color:a.dim},children:[h,E&&l.jsx("span",{style:{fontSize:6,color:a.muted,marginLeft:4},children:E})]}),l.jsx("span",{style:{fontSize:8,color:A,fontWeight:700},children:v})]});return l.jsxs("div",{style:{...tr(),borderColor:`${a.accent}30`},children:[l.jsx("div",{style:{...Nn,color:a.accent},children:"CONFIRM TRANSACTION"}),l.jsxs("div",{style:Ie(),children:[y("TO",(m=e.outputs[0])!=null&&m.address?e.outputs[0].address.slice(0,22)+"":""),y("AMOUNT",`${be(i,4)} KAS${t>0?`  $${be(i*t,2)}`:""}`),y("NETWORK FEE",`${be(s,8)} KAS`,a.warn," miners"),u>0&&y("PLATFORM FEE",`${be(u,6)} KAS`,a.dim," treasury"),c>0&&y("CHANGE",`${be(c,4)} KAS`,a.dim),l.jsx("div",{style:{...Hp(),margin:"6px 0"}}),y("TOTAL COST",`${be(d,4)} KAS`,a.accent)]}),l.jsx("div",{style:{fontSize:7,color:a.warn,lineHeight:1.5},children:" Kaspa transactions are irreversible once confirmed."}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:r,style:{...oe(a.dim,!0),flex:1,padding:"8px 0"},children:"CANCEL"}),l.jsx("button",{onClick:n,style:{...Tn(!0),flex:2,padding:"8px 0"},children:"SIGN & SEND "})]})]})}function Yr(e){return e&&typeof e=="object"?e:{}}function Lt(...e){for(const t of e)if(typeof t=="string"&&t.trim())return t.trim();return""}function bc(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.replace(/[$,\s]/g,""),n=Number(t);if(Number.isFinite(n))return n}return 0}function Un(e){if(typeof e=="number"&&Number.isFinite(e)&&e>0)return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t)&&t>0)return t}return 0}function E0(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t.startsWith("kaspa:")?"mainnet":t.startsWith("kaspatest:")?"testnet":null}function Zr(e,t="unknown"){const n=String(e??"").trim().toLowerCase().replace(/_/g,"-");if(n.includes("mainnet")||n==="main"||n==="livenet")return"mainnet";if(n.includes("testnet-11")||n==="tn11")return"testnet-11";if(n.includes("testnet-10")||n==="tn10")return"testnet-10";if(n==="testnet"||n.startsWith("tn")||n.startsWith("testnet"))return"testnet";if(n==="kaspa")return"mainnet";if(n==="kaspatest")return"testnet";const r=String(t??"").trim().toLowerCase().replace(/_/g,"-");return r==="mainnet"?"mainnet":r==="testnet-10"||r==="tn10"?"testnet-10":r==="testnet-11"||r==="tn11"?"testnet-11":r.startsWith("testnet")||r.startsWith("tn")?"testnet":"unknown"}function k0(e,t){const n=Yr(e.wallet),r=Yr(e.deployTx),o=Yr(e.meta),i=Lt(e.network,n.network,r.network,o.network);if(i)return Zr(i,"unknown");const s=Lt(n.address,e.address,r.from,r.to),u=E0(s);return Zr(u||t,"unknown")}function A0(e){const t=e.toLowerCase();return t==="autonomous"||t==="auto"||t==="bot"}function I0(e){const t=e.toLowerCase();return t==="active"||t==="running"||t==="live"}function T0(e,t){const n=Yr(e),r=Yr(n.wallet),o=Date.now(),i=Lt(n.agentId,n.id,n.name)||`agent_${o}_${Math.random().toString(36).slice(2,8)}`,s=Lt(n.name,n.agentName)||"Agent",u=Lt(n.strategyLabel,n.strategy,n.strategyTemplate)||"",c=Lt(n.risk)||"",y=Lt(n.capitalLimit,n.capital_limit)||null,m=Lt(n.execMode,n.mode)||"manual",h=Lt(n.status)||"idle",v=k0(n,t),A=bc(n.pnlUsd)||bc(n.pnl),E=Math.max(Un(n.updatedAt),Un(n.lastActionTime),Un(n.lastDecisionTs),Un(n.lastSeenAt),Un(n.deployedAt),Un(r.updatedAt)),x=E>0&&o-E<=5*60*1e3,f=A0(m),p=I0(h)||f||x;return{id:i,name:s,strategy:u,risk:c,capitalLimitKas:y,execMode:m,status:h,isBot:f,isActive:p,pnlUsd:A,network:v,updatedAt:E,raw:n}}function _0(e,t){const n=[];for(const r of e){const o=T0(r,t);if(o&&n.push(o),n.length>=64)break}return n.sort((r,o)=>r.isActive!==o.isActive?r.isActive?-1:1:o.updatedAt-r.updatedAt),n}function C0(e,t,n){if(t==="all")return!0;if(t==="mainnet")return e==="mainnet";if(t==="testnet-10")return e==="testnet-10"||e==="testnet";if(t==="testnet-11")return e==="testnet-11"||e==="testnet";const r=Zr(n,"unknown");return r==="mainnet"?e==="mainnet":r==="testnet-10"?e==="testnet-10"||e==="testnet":r==="testnet-11"?e==="testnet-11"||e==="testnet":r==="testnet"?e==="testnet"||e==="testnet-10"||e==="testnet-11":!0}function N0(e,t,n,r){return e.filter(o=>!(!C0(o.network,t,r)||n==="bots"&&!o.isBot||n==="manual"&&o.isBot))}function Qp(e){return e==="mainnet"?"MAINNET":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet"?"TESTNET":"UNKNOWN"}const P0="forgeos.session.agents.v2";function bs(e,t){if(!e||e<=0)return"No recent heartbeat";const n=Math.max(0,t-e);return n<1e3?"just now":n<6e4?`${Math.floor(n/1e3)}s ago`:n<36e5?`${Math.floor(n/6e4)}m ago`:n<864e5?`${Math.floor(n/36e5)}h ago`:`${Math.floor(n/864e5)}d ago`}function Mc(e,t){if(e==="current"){const n=Zr(t,"unknown");return`CURRENT (${Qp(n)})`}return e==="mainnet"?"MAINNET":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":"ALL"}function Bc(e){return e==="all"?"ALL MODES":e==="bots"?"BOTS":"MANUAL"}function j0({network:e}){const[t,n]=k.useState([]),[r,o]=k.useState(!0),[i,s]=k.useState("current"),[u,c]=k.useState("all"),[d,y]=k.useState(0),[m,h]=k.useState(Date.now()),v=k.useCallback(async()=>{const x=await ry();n(_0(x,e)),y(Date.now()),o(!1)},[e]);k.useEffect(()=>{v().catch(()=>o(!1))},[v]),k.useEffect(()=>{const x=setInterval(()=>{v().catch(()=>{}),h(Date.now())},5e3);return()=>clearInterval(x)},[v]),k.useEffect(()=>{const x=(f,p)=>{p==="local"&&P0 in f&&v().catch(()=>{})};return chrome.storage.onChanged.addListener(x),()=>chrome.storage.onChanged.removeListener(x)},[v]),k.useEffect(()=>{const x=f=>{(f==null?void 0:f.type)==="FORGEOS_AGENTS_UPDATED"&&v().catch(()=>{})};return chrome.runtime.onMessage.addListener(x),()=>chrome.runtime.onMessage.removeListener(x)},[v]);const A=k.useMemo(()=>N0(t,i,u,e),[t,u,e,i]),E=k.useMemo(()=>{const x=A.length,f=A.filter(w=>w.isBot).length,p=A.filter(w=>w.isActive).length,g=A.reduce((w,N)=>w+N.pnlUsd,0);return{total:x,bots:f,active:p,pnlUsd:g}},[A]);return r?l.jsx("div",{style:{...In,paddingTop:20,fontSize:9,color:a.dim,textAlign:"center"},children:"Loading agents"}):A.length===0?l.jsxs("div",{style:{...In,gap:10},children:[l.jsxs("div",{style:Ee("default",!0),children:[l.jsx("div",{style:{...Me,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET FILTERS"}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","all"].map(x=>{const f=x===i;return l.jsx("button",{onClick:()=>s(x),style:{...oe(f?a.accent:a.dim),padding:"5px 7px",fontSize:7,background:f?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.accent}55`:a.border},children:Mc(x,e)},x)})}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(x=>{const f=x===u;return l.jsx("button",{onClick:()=>c(x),style:{...oe(f?a.ok:a.dim),padding:"5px 7px",fontSize:7,background:f?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.ok}55`:a.border},children:Bc(x)},x)})})]}),l.jsxs("div",{style:{...In,...Ee("accent"),padding:"20px 18px",textAlign:"center",gap:14,alignItems:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}14`,border:`1px solid ${a.accent}35`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,boxShadow:"0 8px 18px rgba(57,221,182,0.12)"},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{...Nn,fontSize:11,marginBottom:6},children:"No Agents In This Filter"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6,maxWidth:220},children:"Live refresh runs every 5 seconds. Switch filters or deploy a new bot on Forge-OS."}),l.jsxs("div",{style:{fontSize:7,color:a.muted,marginTop:7},children:["Last sync ",d>0?bs(d,m):"never"]})]}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:10,padding:"10px 20px",color:"#04110E",fontSize:9,fontWeight:700,cursor:"pointer",...z,letterSpacing:"0.1em",boxShadow:"0 8px 18px rgba(57,221,182,0.16)"},children:"OPEN FORGE-OS "})]})]}):l.jsxs("div",{style:{...In,paddingTop:10,gap:8},children:[l.jsxs("div",{style:Ee("default",!0),children:[l.jsx("div",{style:{...Me,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET OPTIONS"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:6,marginBottom:8},children:[l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:7,color:a.dim},children:"VISIBLE"}),l.jsx("div",{style:{fontSize:10,color:a.text,fontWeight:700},children:E.total})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:7,color:a.dim},children:"BOTS"}),l.jsx("div",{style:{fontSize:10,color:a.accent,fontWeight:700},children:E.bots})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:7,color:a.dim},children:"ACTIVE"}),l.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700},children:E.active})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:7,color:a.dim},children:"P&L USD"}),l.jsxs("div",{style:{fontSize:10,color:E.pnlUsd>=0?a.ok:a.danger,fontWeight:700},children:[E.pnlUsd>=0?"+":"-","$",be(Math.abs(E.pnlUsd),2)]})]})]}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","all"].map(x=>{const f=x===i;return l.jsx("button",{onClick:()=>s(x),style:{...oe(f?a.accent:a.dim),padding:"5px 7px",fontSize:7,background:f?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.accent}55`:a.border},children:Mc(x,e)},x)})}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(x=>{const f=x===u;return l.jsx("button",{onClick:()=>c(x),style:{...oe(f?a.ok:a.dim),padding:"5px 7px",fontSize:7,background:f?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.ok}55`:a.border},children:Bc(x)},x)})})]}),l.jsxs("div",{style:{...Me,marginBottom:2},children:["LIVE UPDATE  LAST SYNC ",d>0?bs(d,m).toUpperCase():"NEVER"]}),A.map(x=>{const f=x.pnlUsd>=0,p=String(x.execMode||"manual").toUpperCase(),g=x.isActive?a.ok:a.warn;return l.jsxs("div",{style:{...Ee(x.isActive?"accent":"default",!0),borderColor:x.isActive?`${a.accent}40`:a.border,padding:"10px 12px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6,gap:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:0},children:[l.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:g,flexShrink:0}}),l.jsx("span",{style:{fontSize:10,fontWeight:700,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:x.name})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,flexWrap:"wrap",justifyContent:"flex-end"},children:[l.jsx("span",{style:{fontSize:7,color:a.dim,...z,background:"rgba(16,25,35,0.65)",border:`1px solid ${a.border}`,borderRadius:3,padding:"2px 5px"},children:Qp(x.network)}),l.jsx("span",{style:{fontSize:7,color:x.isBot?a.accent:a.dim,...z,background:x.isBot?`${a.accent}18`:"rgba(16,25,35,0.65)",border:`1px solid ${x.isBot?`${a.accent}50`:a.border}`,borderRadius:3,padding:"2px 5px"},children:x.isBot?"BOT":"MANUAL"}),l.jsx("span",{style:{fontSize:7,color:x.isActive?a.ok:a.warn,fontWeight:700,...z,background:x.isActive?`${a.ok}15`:`${a.warn}15`,border:`1px solid ${x.isActive?a.ok:a.warn}30`,borderRadius:3,padding:"2px 5px"},children:p})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:1},children:"STRATEGY"}),l.jsx("div",{style:{fontSize:8,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:x.strategy})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:1},children:"P&L (USD)"}),l.jsxs("div",{style:{fontSize:8,color:f?a.ok:a.danger,fontWeight:700},children:[f?"+":"","$",be(Math.abs(x.pnlUsd),2)]})]}),x.capitalLimitKas&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:1},children:"CAPITAL"}),l.jsxs("div",{style:{fontSize:8,color:a.text},children:[x.capitalLimitKas," KAS"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:1},children:"LAST HEARTBEAT"}),l.jsx("div",{style:{fontSize:8,color:a.text},children:bs(x.updatedAt,m)})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:1},children:"RISK"}),l.jsx("div",{style:{fontSize:8,color:a.text},children:String(x.risk||"").toUpperCase()})]})]})]},x.id)}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{...oe(a.dim,!0),padding:"8px 10px",marginTop:2},children:"MANAGE LIVE ON FORGE-OS "})]})}function R0({address:e,network:t,isManagedWallet:n,autoLockMinutes:r,persistUnlockSessionEnabled:o,onAutoLockMinutesChange:i,onPersistUnlockSessionChange:s,onLock:u}){const[c,d]=k.useState("none"),[y,m]=k.useState([]),[h,v]=k.useState(""),[A,E]=k.useState(null),[x,f]=k.useState(!1),[p,g]=k.useState(""),[w,N]=k.useState(""),[_,P]=k.useState(""),[L,K]=k.useState(null),[B,X]=k.useState(!1),[se,H]=k.useState(!1),[ye,Re]=k.useState(!1),[xe,Ae]=k.useState(!1),[j,b]=k.useState("official"),[F,W]=k.useState(""),[I,Y]=k.useState(!1),[$,le]=k.useState(null),[Ce,U]=k.useState(!1),pe={official:"OFFICIAL",igra:"IGRA",kasplex:"KASPLEX",custom:"CUSTOM"},Oe=n?"managed":e?"watch-only":"none",te=[{label:"1m",value:1},{label:"15m",value:15},{label:"1h",value:60},{label:"4h",value:240},{label:"Never",value:-1}];k.useEffect(()=>{let T=!0;return Y(!0),le(null),U(!1),Promise.all([kp(t),wp(t)]).then(([S,O])=>{T&&(W(S??""),b(O))}).catch(()=>{T&&le("Failed to load RPC settings.")}).finally(()=>{T&&Y(!1)}),()=>{T=!1}},[t]);const Ht=async T=>{T.preventDefault(),E(null),f(!0);try{const S=await Dn(h,r,{persistSession:o});m(S.mnemonic.split(" ")),v("")}catch(S){const O=S instanceof Error?S.message:String(S);E(O==="INVALID_PASSWORD"?"Incorrect password.":"Authentication failed."),v("")}finally{f(!1)}},Pt=()=>{m([]),v(""),E(null),d("none")},ut=async T=>{if(T.preventDefault(),K(null),w.length<8){K("New password must be at least 8 characters.");return}if(w!==_){K("New passwords do not match.");return}if(w===p){K("New password must differ from current password.");return}H(!0);try{await Rp(p,w),X(!0),g(""),N(""),P("")}catch(S){const O=S instanceof Error?S.message:String(S);K(O==="INVALID_PASSWORD"?"Current password is incorrect.":O==="WEAK_PASSWORD"?"New password is too short (min 8 chars).":"Failed to change password. Try again.")}finally{H(!1)}},yn=async()=>{if(!ye){Re(!0);return}await Op(),u()},Ge=(T=!1)=>({...Gp(T)}),Gt=()=>{d("none"),m([]),v(""),E(null),g(""),N(""),P(""),K(null),X(!1),Re(!1)},Bn=async T=>{Ae(!0);try{await i(T)}finally{Ae(!1)}},jt=async()=>{Ae(!0);try{await s(!o)}finally{Ae(!1)}},M=async T=>{Y(!0),le(null),U(!1);try{await _s(t,T),b(T),U(!0)}catch{le("Failed to save RPC provider preset.")}finally{Y(!1)}},V=async()=>{Y(!0),le(null),U(!1);try{await kc(t,F.trim()||null),await _s(t,"custom"),b("custom"),U(!0),F.trim()||W("")}catch(T){const S=T instanceof Error?T.message:String(T);le(S==="INVALID_RPC_ENDPOINT"?"Invalid endpoint URL. Use http(s)://...":"Failed to save custom RPC endpoint.")}finally{Y(!1)}},R=async()=>{Y(!0),le(null),U(!1);try{await kc(t,null),await _s(t,"official"),b("official"),W(""),U(!0)}catch{le("Failed to clear custom RPC endpoint.")}finally{Y(!1)}};return l.jsxs("div",{style:In,children:[l.jsxs("div",{style:Ee("default"),children:[l.jsx("div",{style:{...Me,marginBottom:8},children:"CONNECTION STATUS"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:3},children:"PROVIDER"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5},children:[l.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:e?a.ok:a.warn}}),l.jsx("span",{style:{fontSize:9,color:a.text,fontWeight:700},children:Oe.toUpperCase()})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:3},children:"NETWORK"}),l.jsx("span",{style:{fontSize:8,color:t==="mainnet"?a.warn:a.ok,fontWeight:700,background:t==="mainnet"?`${a.warn}15`:`${a.ok}15`,border:`1px solid ${t==="mainnet"?a.warn:a.ok}30`,borderRadius:3,padding:"2px 6px"},children:t.toUpperCase()})]}),e&&l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:3},children:"ADDRESS"}),l.jsx("div",{style:{...Ie(),fontSize:8,color:a.text,padding:"7px 9px"},children:ko(e)})]})]})]}),l.jsxs("div",{style:Ee("default"),children:[l.jsx("div",{style:{...Me,marginBottom:8},children:"KASPA RPC ENDPOINT"}),l.jsxs("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5,marginBottom:7},children:["Active network: ",l.jsx("span",{style:{color:a.text,fontWeight:700},children:t.toUpperCase()})]}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},children:Object.keys(pe).map(T=>{const S=j===T;return l.jsx("button",{onClick:()=>{M(T)},disabled:I,style:{...oe(S?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:S?a.accent:a.dim,opacity:I?.7:1},children:pe[T]},T)})}),l.jsx("input",{value:F,onChange:T=>{W(T.target.value),U(!1),le(null)},placeholder:t==="mainnet"?"https://your-mainnet-kaspa-rpc.example":"https://your-kaspa-rpc.example",disabled:I||j!=="custom",style:{...Ge(!!$),marginBottom:7}}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:()=>{V()},disabled:I||j!=="custom",style:{...oe(a.accent,!0),flex:1,padding:"7px 8px",color:a.accent,opacity:I?.7:1},children:I?"SAVING":"SAVE RPC"}),l.jsx("button",{onClick:()=>{R()},disabled:I,style:{...oe(a.dim,!0),flex:1,padding:"7px 8px",color:a.dim,opacity:I?.7:1},children:"CLEAR"})]}),$&&l.jsx("div",{style:{fontSize:7,color:a.danger,marginTop:6},children:$}),!$&&Ce&&l.jsx("div",{style:{fontSize:7,color:a.ok,marginTop:6},children:"Saved RPC settings for this network."}),l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5,marginTop:6},children:"Presets are stored per network. Igra/Kasplex pools read from env (`VITE_KASPA_IGRA_*` / `VITE_KASPA_KASPLEX_*`) and fall back to Official if unset."})]}),n&&l.jsxs("div",{style:Ee("default"),children:[l.jsx("div",{style:{...Me,marginBottom:8},children:"SESSION SETTINGS"}),l.jsxs("div",{style:{marginBottom:10},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:5,letterSpacing:"0.08em"},children:"AUTO-LOCK"}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:te.map(T=>l.jsx("button",{disabled:xe,onClick:()=>{Bn(T.value)},style:{...oe(r===T.value?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:r===T.value?a.accent:a.dim,opacity:xe?.7:1},children:T.label},T.value))})]}),l.jsx("button",{onClick:()=>{jt()},disabled:xe,style:{...oe(o?a.ok:a.dim,!0),width:"100%",padding:"8px 10px",color:o?a.ok:a.dim,textAlign:"left",opacity:xe?.7:1},children:o?" KEEP UNLOCKED WHEN POPUP CLOSES":"KEEP UNLOCKED WHEN POPUP CLOSES"}),l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5,marginTop:6},children:"Stores an unlocked session only in browser session memory; lock manually on shared devices."})]}),n&&l.jsxs(l.Fragment,{children:[c==="none"&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:7},children:[l.jsx("button",{onClick:()=>d("reveal"),style:Ms(a.accent),children:" REVEAL SEED PHRASE"}),l.jsx("button",{onClick:()=>d("change_pw"),style:Ms(a.dim),children:" CHANGE PASSWORD"}),l.jsx("button",{onClick:()=>d("reset"),style:Ms(a.danger),children:" RESET WALLET"})]}),c==="reveal"&&l.jsxs("div",{style:{...Ee("warn")},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:{...Nn,color:a.warn},children:"SEED PHRASE"}),l.jsx("button",{onClick:Pt,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...z},children:" close"})]}),y.length===0?l.jsxs("form",{onSubmit:Ht,children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:6,lineHeight:1.5},children:"Enter your password to view your seed phrase. Never share it  anyone with this phrase controls your wallet."}),l.jsx("input",{type:"password",value:h,onChange:T=>v(T.target.value),placeholder:"Your password",disabled:x,style:{...Ge(!!A),marginBottom:6}}),A&&l.jsx("div",{style:{fontSize:7,color:a.danger,marginBottom:6},children:A}),l.jsx("button",{type:"submit",disabled:!h||x,style:{...oe(h&&!x?a.warn:a.dim,!0),width:"100%",padding:"7px 0",color:h&&!x?a.warn:a.dim,cursor:h&&!x?"pointer":"not-allowed"},children:x?"AUTHENTICATING":"SHOW SEED PHRASE"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{...Ie(),display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:8},children:y.map((T,S)=>l.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:4,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[l.jsxs("span",{style:{fontSize:6,color:a.dim,flexShrink:0},children:[S+1,"."]}),l.jsx("span",{style:{fontSize:7,color:a.text,fontWeight:600},children:T})]},S))}),l.jsx("div",{style:{fontSize:7,color:a.warn,lineHeight:1.4},children:" Store offline. Never photograph or share digitally."})]})]}),c==="change_pw"&&l.jsxs("div",{style:Ee("default"),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:Nn,children:"CHANGE PASSWORD"}),l.jsx("button",{onClick:Gt,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...z},children:" close"})]}),B?l.jsx("div",{style:{fontSize:8,color:a.ok,textAlign:"center",padding:"8px 0"},children:" Password updated successfully."}):l.jsxs("form",{onSubmit:ut,style:{display:"flex",flexDirection:"column",gap:7},children:[l.jsx("input",{type:"password",value:p,onChange:T=>g(T.target.value),placeholder:"Current password",disabled:se,style:Ge()}),l.jsx("input",{type:"password",value:w,onChange:T=>N(T.target.value),placeholder:"New password (min 8 chars)",disabled:se,style:Ge()}),l.jsx("input",{type:"password",value:_,onChange:T=>P(T.target.value),placeholder:"Confirm new password",disabled:se,style:Ge()}),L&&l.jsx("div",{style:{fontSize:7,color:a.danger},children:L}),l.jsx("button",{type:"submit",disabled:!p||!w||!_||se,style:{...Tn(p&&w&&_&&!se),padding:"8px 0",cursor:p&&w&&_&&!se?"pointer":"not-allowed"},children:se?"RE-ENCRYPTING":"UPDATE PASSWORD"})]})]}),c==="reset"&&l.jsxs("div",{style:{...Ee("danger"),backgroundColor:a.dLow},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:{...Nn,color:a.danger},children:" RESET WALLET"}),l.jsx("button",{onClick:Gt,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...z},children:" cancel"})]}),l.jsxs("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5,marginBottom:10},children:["This will permanently delete your encrypted vault from this extension. Your on-chain funds are NOT affected. You can re-import using your seed phrase.",l.jsx("strong",{style:{color:a.warn},children:" Make sure your seed phrase is backed up before proceeding."})]}),l.jsx("button",{onClick:yn,style:{...oe(a.danger,!0),width:"100%",padding:"8px 0",background:ye?a.danger:"rgba(49,21,32,0.65)",border:`1px solid ${a.danger}${ye?"90":"50"}`,color:ye?"#fff":a.danger},children:ye?" CONFIRM  PERMANENTLY DELETE VAULT":"RESET WALLET"}),ye&&l.jsx("div",{style:{fontSize:7,color:a.danger,marginTop:5,textAlign:"center"},children:"This cannot be undone. Your seed phrase is your only recovery option."})]})]}),l.jsxs("div",{style:{...Ie(),padding:"10px 12px"},children:[l.jsx("div",{style:{...Me,marginBottom:6},children:"SECURITY NOTES"}),["Seed phrase encrypted with AES-256-GCM before storage.","Password derived with PBKDF2-SHA256 (600,000 iterations).","Plaintext secrets never touch chrome.storage.","All signing happens locally  nothing is transmitted to servers."].map((T,S,O)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:S<O.length-1?4:0},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:7,color:a.dim,lineHeight:1.5},children:T})]},S))]}),n&&c==="none"&&l.jsx("button",{onClick:u,style:{...oe(a.dim,!0),padding:"8px 0"},children:" LOCK WALLET"})]})}function Ms(e){return{...oe(e,!0),padding:"10px 12px",color:e,textAlign:"left",letterSpacing:"0.08em"}}var Jc;const ee=((Jc=import.meta)==null?void 0:Jc.env)??{};function Fc(e,t){const n=ee==null?void 0:ee[e];return typeof n!="string"?t:n.trim().toLowerCase()==="true"?!0:n.trim().toLowerCase()==="false"?!1:t}function Rr(e,t,n,r){const o=ee==null?void 0:ee[e],i=Number(o);return Number.isFinite(i)?Math.min(r,Math.max(n,Math.floor(i))):t}function O0(e,t){const n=String((ee==null?void 0:ee[e])??"").trim();if(!n)return t;const r=n.split(/[,\s]+/).map(i=>Number(i)).filter(i=>Number.isInteger(i)&&i>0),o=[...new Set(r)];return o.length?o:t}function L0(e,t){const n=String((ee==null?void 0:ee[e])??"").trim().toLowerCase();return n==="kaspa_native"||n==="evm_0x"||n==="blocked"?n:t}const G={enabled:Fc("VITE_SWAP_ENABLED",!1),routeSource:L0("VITE_SWAP_ROUTE_SOURCE","blocked"),maxSlippageBps:Rr("VITE_SWAP_MAX_SLIPPAGE_BPS",500,1,2e3),defaultSlippageBps:Rr("VITE_SWAP_DEFAULT_SLIPPAGE_BPS",50,1,2e3),dexEndpoint:String((ee==null?void 0:ee.VITE_SWAP_DEX_ENDPOINT)??"").trim()||null,evmChainIdAllowlist:O0("VITE_SWAP_EVM_CHAIN_IDS",[1]),requireExternalEvmSigner:Fc("VITE_SWAP_REQUIRE_EXTERNAL_EVM_SIGNER",!0),zeroExQuoteEndpoint:String((ee==null?void 0:ee.VITE_SWAP_ZEROX_QUOTE_ENDPOINT)??"https://api.0x.org/swap/allowance-holder/quote").trim()||null,zeroExApiKey:String((ee==null?void 0:ee.VITE_SWAP_ZEROX_API_KEY)??"").trim(),zeroExExpectedSettlerTo:String((ee==null?void 0:ee.VITE_SWAP_ZEROX_EXPECTED_SETTLER_TO)??"").trim(),zeroExExpectedAllowanceSpender:String((ee==null?void 0:ee.VITE_SWAP_ZEROX_EXPECTED_ALLOWANCE_SPENDER)??"").trim(),settlementRequiredConfirmations:Rr("VITE_SWAP_SETTLEMENT_CONFIRMATIONS",2,1,128),settlementPollIntervalMs:Rr("VITE_SWAP_SETTLEMENT_POLL_MS",4e3,500,6e4),settlementTimeoutMs:Rr("VITE_SWAP_SETTLEMENT_TIMEOUT_MS",24e4,15e3,36e5)};function qt(e){switch(e){case"kaspa_native":return"Kaspa Native";case"evm_0x":return"0x EVM";case"blocked":default:return"Blocked"}}function D0(e,t){return e==="KAS"||t==="KAS"}function z0(e,t){return e==="ZRX"||t==="ZRX"}function Xp(e,t,n=G.routeSource){return n==="blocked"?{source:n,label:qt(n),allowed:!1,reason:"Swap routes are currently disabled on Kaspa.",requiresEvmSigner:!1}:n==="kaspa_native"?z0(e,t)?{source:n,label:qt(n),allowed:!1,reason:"0x token routes are not enabled on Kaspa-native swap.",requiresEvmSigner:!1}:{source:n,label:qt(n),allowed:!0,reason:null,requiresEvmSigner:!1}:D0(e,t)?{source:n,label:qt(n),allowed:!1,reason:"0x routes are EVM-domain only and cannot use native Kaspa balances directly.",requiresEvmSigner:!0}:{source:n,label:qt(n),allowed:!0,reason:null,requiresEvmSigner:!0}}function b0(e=G.routeSource){return e==="blocked"?{source:e,label:qt(e),allowed:!1,reason:"Swap routes are currently disabled on Kaspa.",requiresEvmSigner:!1}:e==="evm_0x"?{source:e,label:qt(e),allowed:!0,reason:null,requiresEvmSigner:!0}:{source:e,label:qt(e),allowed:!0,reason:null,requiresEvmSigner:!1}}function M0(){return b0(G.routeSource)}function Uc(e){return e.trim().toLowerCase()}function $c(e){return e.routeSource==="evm_0x"?e.hasExternalEvmSigner?{ok:!0,requiredDomain:"evm_sidecar",reason:null}:{ok:!1,requiredDomain:"evm_sidecar",reason:"0x route requires an external EVM signer. Kaspa managed signer is isolated."}:e.hasManagedKaspaSession?{ok:!0,requiredDomain:"kaspa_managed",reason:null}:{ok:!1,requiredDomain:"kaspa_managed",reason:"Kaspa managed wallet must be unlocked for Kaspa-native swap."}}function B0(e,t){return!e||!t?!1:Uc(e)===Uc(t)}const ru="forgeos.swap.evm.sidecar.v1";function F0(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Yp(e){if(typeof e!="string")return"";const t=e.trim();return/^0x[a-fA-F0-9]{40}$/.test(t)?t:""}function Ji(e){if(typeof e=="number"&&Number.isInteger(e)&&e>0)return e;if(typeof e=="string"){const t=e.trim().toLowerCase();if(!t)return 0;if(t.startsWith("0x")){const r=Number.parseInt(t.slice(2),16);return Number.isInteger(r)&&r>0?r:0}const n=Number(t);return Number.isInteger(n)&&n>0?n:0}return 0}function ou(){return typeof window<"u"&&typeof window.localStorage<"u"}function Zp(e){const t=e;if(!t)return null;const n=Yp(t.address),r=Ji(t.chainId),o=t.walletType==="metamask"?"metamask":null,i=typeof t.connectedAt=="number"&&Number.isFinite(t.connectedAt)?t.connectedAt:0,s=typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:i;return!o||!n||r<=0?null:{walletType:o,address:n,chainId:r,connectedAt:i||Date.now(),updatedAt:s||Date.now()}}function Fl(){if(!ou())return null;const e=F0(window.localStorage.getItem(ru));return Zp(e)}function U0(e){const t=Date.now(),n=Zp({...e,connectedAt:e.connectedAt??t,updatedAt:e.updatedAt??t});if(!n)throw new Error("EVM_SIDECAR_INVALID_SESSION");return ou()&&window.localStorage.setItem(ru,JSON.stringify(n)),n}function $0(){ou()&&window.localStorage.removeItem(ru)}function Jp(e){return G.evmChainIdAllowlist.includes(e)}function qi(){const e=globalThis==null?void 0:globalThis.ethereum;return e&&typeof e.request=="function"?e:null}async function K0(){const e=qi();if(!e)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const t=await e.request({method:"eth_requestAccounts"}),n=Array.isArray(t)?t:[],r=Yp(n[0]);if(!r)throw new Error("EVM_SIDECAR_CONNECT_FAILED: No EVM account returned.");const o=await e.request({method:"eth_chainId"}),i=Ji(o);if(i<=0)throw new Error("EVM_SIDECAR_CHAIN_INVALID: Could not determine chain ID.");if(!Jp(i))throw new Error(`EVM_SIDECAR_CHAIN_NOT_ALLOWED: chainId ${i} not allowed.`);return U0({walletType:"metamask",address:r,chainId:i})}async function W0(e){const t=qi();if(!t)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const n=await t.request({method:"eth_sendTransaction",params:[e]});if(typeof n!="string"||!n.startsWith("0x"))throw new Error("EVM_TX_HASH_INVALID");return n}async function V0(e){const t=qi();if(!t)return null;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]});return!n||typeof n!="object"?null:n}async function H0(){const e=qi();if(!e)return null;const t=await e.request({method:"eth_blockNumber"}),n=Ji(t);return n>0?n:null}function G0(e){const t=e.status;if(typeof t=="number")return t===1?"success":"revert";if(typeof t=="string"){const n=t.trim().toLowerCase();if(n==="0x1"||n==="1")return"success";if(n==="0x0"||n==="0")return"revert"}return"unknown"}function Q0(e){return Ji(e.blockNumber)}function Wo(e){return e.trim().toLowerCase()}const X0={1:{USDC:"0xA0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",ZRX:"0xE41d2489571d322189246DaFA5ebDe1F4699F498"}};function Kc(e,t){if(e==="KAS")return null;const r=(X0[t]??{})[e];return typeof r=="string"&&r?r:null}function Y0(e,t,n){const r=Kc(e.tokenIn,t.chainId),o=Kc(e.tokenOut,t.chainId);if(!r||!o)throw new Error("ZEROX_TOKEN_UNSUPPORTED: token pair is not mapped for selected EVM chain.");return{endpoint:n.endpoint,apiKey:n.apiKey,expectedSettlerTo:n.expectedSettlerTo,expectedAllowanceSpender:n.expectedAllowanceSpender,slippageBps:e.slippageBps,sellTokenAddress:r,buyTokenAddress:o,sellAmount:e.amountIn.toString()}}async function Z0(e,t,n){var d;const r=new URLSearchParams({sellToken:e.sellTokenAddress,buyToken:e.buyTokenAddress,sellAmount:e.sellAmount,slippageBps:String(e.slippageBps)}),o=`${e.endpoint}?${r.toString()}`,i={Accept:"application/json","Content-Type":"application/json"};e.apiKey&&(i["0x-api-key"]=e.apiKey);const s=await fetch(o,{method:"GET",headers:i}),u=await s.json().catch(()=>({}));if(!s.ok){const y=typeof(u==null?void 0:u.reason)=="string"?u.reason:`HTTP ${s.status}`;throw new Error(`ZEROX_QUOTE_FAILED: ${y}`)}const c=J0(u,{allowedChainIds:t,expectedChainId:n,expectedSettlerTo:e.expectedSettlerTo,expectedAllowanceSpender:e.expectedAllowanceSpender});if((d=u.issues)!=null&&d.simulationIncomplete&&c.push("ZEROX_SIMULATION_INCOMPLETE"),c.length>0)throw new Error(`ZEROX_POLICY_REJECTED: ${c.join(", ")}`);return u}function J0(e,t){var i,s,u;const n=[],r=Number(e.chainId??0);(!Number.isFinite(r)||!t.allowedChainIds.includes(r))&&n.push("ZEROX_CHAIN_NOT_ALLOWED"),t.expectedChainId&&r!==t.expectedChainId&&n.push("ZEROX_CHAIN_SESSION_MISMATCH"),e.liquidityAvailable||n.push("ZEROX_NO_LIQUIDITY");const o=typeof((i=e.transaction)==null?void 0:i.to)=="string"?e.transaction.to:"";if((!o||Wo(o)!==Wo(t.expectedSettlerTo))&&n.push("ZEROX_SETTLER_MISMATCH"),t.expectedAllowanceSpender){const c=typeof((u=(s=e.issues)==null?void 0:s.allowance)==null?void 0:u.spender)=="string"?e.issues.allowance.spender:"";(!c||Wo(c)!==Wo(t.expectedAllowanceSpender))&&n.push("ZEROX_ALLOWANCE_SPENDER_MISMATCH")}return(!e.minBuyAmount||!/^\d+$/.test(String(e.minBuyAmount)))&&n.push("ZEROX_MIN_BUY_AMOUNT_INVALID"),n}var qc;const ur=((qc=import.meta)==null?void 0:qc.env)??{},q0=12e3,ev="/quote",tv="/execute",nv="/status";function rv(e,t,n,r){const o=Number(ur==null?void 0:ur[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}function iu(e,t){return String((ur==null?void 0:ur[e])??"").trim()||t}const ov=rv("VITE_SWAP_KASPA_NATIVE_TIMEOUT_MS",q0,1e3,6e4),iv=iu("VITE_SWAP_KASPA_NATIVE_QUOTE_PATH",ev),sv=iu("VITE_SWAP_KASPA_NATIVE_EXECUTE_PATH",tv),lv=iu("VITE_SWAP_KASPA_NATIVE_STATUS_PATH",nv);function qp(e){return String(e||"").trim().replace(/\/+$/,"")}function av(e){const t=String(e||"").trim();return t?t.startsWith("/")?t:`/${t}`:"/"}function su(e,t){const n=qp(e);if(!n)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");return`${n}${av(t)}`}async function lu(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),t.timeoutMs??ov);try{const o=await fetch(e,{method:t.method,headers:{"Content-Type":"application/json"},...t.body?{body:JSON.stringify(t.body)}:{},signal:n.signal}),i=await o.text().catch(()=>"");let s=null;if(i)try{s=JSON.parse(i)}catch{throw new Error(`KASPA_NATIVE_HTTP_${o.status}: invalid JSON response`)}if(!o.ok){const u=typeof(s==null?void 0:s.error)=="string"?s.error:`HTTP ${o.status}`;throw new Error(`KASPA_NATIVE_HTTP_${o.status}: ${u}`)}return{status:o.status,data:s}}catch(o){throw(o==null?void 0:o.name)==="AbortError"?new Error("KASPA_NATIVE_TIMEOUT: request timed out"):o instanceof Error?o:new Error(String(o))}finally{clearTimeout(r)}}function uv(e){return typeof e=="bigint"?e.toString():typeof e=="number"&&Number.isFinite(e)&&e>=0?String(Math.floor(e)):typeof e=="string"&&/^\d+$/.test(e.trim())?e.trim():""}function Wc(e,t){const n=uv(e);if(!n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be an integer string`);const r=BigInt(n);if(r<0n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be >= 0`);return r}function Ri(e){const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?t:null}function cv(e){const t=Ri(e.priceImpactBps);if(t!==null&&t>=0)return t/1e4;const n=Ri(e.priceImpact);if(n!==null&&n>=0&&n<=1)return n;throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing price impact")}function dv(e){if(!Array.isArray(e))return[];const t=e.map(n=>String(n||"").trim()).filter(Boolean);return t.length?t:[]}function fv(e){return e==="mainnet"?"kaspa:":"kaspatest:"}function pv(e,t){const n=String(e||"").trim().toLowerCase();if(!yo(n))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address is invalid");const r=fv(t);if(!n.startsWith(r))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address network mismatch")}function mv(e,t,n,r){const o=e??{},i=typeof o.quoteId=="string"?o.quoteId.trim():"";if(!i)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing quoteId");const s=typeof o.settlementAddress=="string"?o.settlementAddress.trim():"";if(!s)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing settlementAddress");pv(s,r);const u=Wc(o.minAmountOut??o.amountOut,"amountOut"),c=Wc(o.feeAmount??o.fee??"0","feeAmount"),d=cv(o),y=dv(o.route),m=Ri(o.validUntil);if(m===null||m<=Date.now())throw new Error("KASPA_NATIVE_QUOTE_INVALID: quote is missing or expired");if(y.length===0)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing route");return{tokenIn:t.tokenIn,tokenOut:t.tokenOut,amountIn:t.amountIn,amountOut:u,priceImpact:d,fee:c,route:y,validUntil:m,dexEndpoint:n,routeSource:"kaspa_native",rawQuote:{...o,quoteId:i,settlementAddress:s,network:r}}}function hv(e){const t=e.rawQuote??{},n=typeof t.quoteId=="string"?t.quoteId.trim():"",r=typeof t.settlementAddress=="string"?t.settlementAddress.trim():"";if(!n||!r)throw new Error("KASPA_NATIVE_QUOTE_META_INVALID");return{quoteId:n,settlementAddress:r}}async function gv(e,t){const n=su(t.endpoint,iv),r={tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn.toString(),slippageBps:e.slippageBps,network:t.network,walletAddress:t.walletAddress},{data:o}=await lu(n,{method:"POST",body:r});return mv(o,e,qp(t.endpoint),t.network)}async function yv(e){const t=su(e.endpoint,sv),n={quoteId:e.quoteId,network:e.network,depositTxId:e.depositTxId,walletAddress:e.walletAddress,amountIn:e.amountIn.toString()},{data:r}=await lu(t,{method:"POST",body:n}),o=r??{};if(o.accepted===!1)throw new Error(typeof o.error=="string"?o.error:"KASPA_NATIVE_EXECUTION_REJECTED");const i=typeof o.state=="string"?o.state.toLowerCase().trim():"";if(["failed","rejected","error"].includes(i))throw new Error(typeof o.error=="string"?o.error:`KASPA_NATIVE_EXECUTION_${i.toUpperCase()}`)}function vv(e){const t=e.toLowerCase().trim();return["confirmed","completed","success","settled"].includes(t)?"confirmed":["failed","reverted","rejected","expired","error"].includes(t)?"failed":"pending"}async function Sv(e){const t=su(e.endpoint,lv),n=new URLSearchParams({quoteId:e.quoteId,depositTxId:e.depositTxId,network:e.network}),r=`${t}?${n.toString()}`;try{const{status:o,data:i}=await lu(r,{method:"GET"});if(o===404)return{state:"pending",confirmations:0,error:null,settlementTxId:null};const s=i??{},u=String(s.state??s.status??"pending"),c=vv(u),d=Math.max(0,Math.floor(Ri(s.confirmations)??0)),y=typeof s.error=="string"?s.error:null,m=typeof s.settlementTxId=="string"?s.settlementTxId:typeof s.txId=="string"?s.txId:null;return{state:c,confirmations:d,error:y,settlementTxId:m}}catch(o){if(String((o==null?void 0:o.message)||"").includes("HTTP 404"))return{state:"pending",confirmations:0,error:null,settlementTxId:null};throw o}}const xv={REQUESTED:["QUOTED","FAILED_TIMEOUT"],QUOTED:["SIGNED","FAILED_TIMEOUT","FAILED_BRIDGE"],SIGNED:["SUBMITTED","FAILED_TIMEOUT","FAILED_BRIDGE"],SUBMITTED:["SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT"],PENDING_CONFIRMATION:["PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"],CONFIRMED:[],FAILED_REVERT:[],FAILED_TIMEOUT:[],FAILED_BRIDGE:[]};function em(e,t,n=Date.now()){return{id:e,routeSource:t,state:"REQUESTED",createdAt:n,updatedAt:n,txHash:null,bridgeTransferId:null,confirmations:0,error:null}}function Fe(e,t,n={},r=Date.now()){if(!xv[e.state].includes(t))throw new Error(`INVALID_SETTLEMENT_TRANSITION: ${e.state} -> ${t}`);return{...e,...n,state:t,updatedAt:r}}const Ul="forgeos.swap.settlements.v1",tm=200;function nm(){return chrome.storage.local}async function wv(){return new Promise(e=>{nm().get(Ul,t=>e((t==null?void 0:t[Ul])??null))})}async function Ev(e){return new Promise(t=>{nm().set({[Ul]:e},t)})}function kv(e){return["REQUESTED","QUOTED","SIGNED","SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"].includes(String(e))}function Av(e){const t=e;if(!t)return null;const n=typeof t.id=="string"?t.id:"",r=typeof t.routeSource=="string"?t.routeSource:"",o=t.state;return!n||!kv(o)||r!=="blocked"&&r!=="kaspa_native"&&r!=="evm_0x"?null:{id:n,routeSource:r,state:o,createdAt:typeof t.createdAt=="number"&&Number.isFinite(t.createdAt)?t.createdAt:Date.now(),updatedAt:typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:Date.now(),txHash:typeof t.txHash=="string"?t.txHash:null,bridgeTransferId:typeof t.bridgeTransferId=="string"?t.bridgeTransferId:null,confirmations:typeof t.confirmations=="number"&&Number.isFinite(t.confirmations)?t.confirmations:0,error:typeof t.error=="string"?t.error:null}}function Iv(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){const r=Av(n);r&&t.push(r)}return t.sort((n,r)=>r.updatedAt-n.updatedAt),t.slice(0,tm)}async function Jr(){const e=await wv();return Iv(e)}async function he(e){const t=await Jr(),n=[e,...t.filter(r=>r.id!==e.id)].sort((r,o)=>o.updatedAt-r.updatedAt).slice(0,tm);await Ev(n)}function au(e){return e.state==="SUBMITTED"||e.state==="PENDING_CONFIRMATION"}function rm(e){return`${e}_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function uu(){const e=Fl();return e&&Jp(e.chainId)?e:null}const Tv=["mainnet","testnet-10","testnet-11"],_v=1e8;function Cv(e){const t=Number(e)/_v;if(!Number.isFinite(t)||t<=0)throw new Error("KASPA_NATIVE_EXECUTION_INVALID_AMOUNT");return t}async function cu(){const e=await Sp().catch(()=>"mainnet");return e==="mainnet"||e==="testnet-10"||e==="testnet-11"?e:"mainnet"}function nr(e,t,n="FAILED_BRIDGE"){return Fe(e,n,{error:t})}async function Nv(e){for(const t of Tv){const n=await Ip(e,t).catch(()=>null);if(n!=null&&n.acceptingBlockHash)return!0}return!1}function om(){return G.zeroExQuoteEndpoint?G.zeroExExpectedSettlerTo?{ok:!0,reason:null}:{ok:!1,reason:"0x settler target is not configured."}:{ok:!1,reason:"0x quote endpoint is not configured."}}function im(){if(!G.enabled)return{enabled:!1,reason:"Swap functionality not yet active on Kaspa."};const e=Wt();if(!e)return{enabled:!1,reason:"Wallet is locked."};if(G.routeSource==="blocked")return{enabled:!1,reason:"Swap routes are currently disabled on Kaspa."};if(G.routeSource==="kaspa_native"){if(!G.dexEndpoint)return{enabled:!1,reason:"No DEX endpoint configured."};const o=$c({routeSource:"kaspa_native",hasManagedKaspaSession:!!(e!=null&&e.mnemonic),hasExternalEvmSigner:!1});return o.ok?{enabled:!0,reason:null}:{enabled:!1,reason:o.reason}}const t=om();if(!t.ok)return{enabled:!1,reason:t.reason};const n=uu(),r=$c({routeSource:"evm_0x",hasManagedKaspaSession:!!(e!=null&&e.mnemonic),hasExternalEvmSigner:!!n});return r.ok?{enabled:!0,reason:null}:{enabled:!1,reason:r.reason}}function Pv(e){const t=[];e.tokenIn===e.tokenOut&&t.push("Token in and token out must be different.");const n=Xp(e.tokenIn,e.tokenOut,G.routeSource);if(!n.allowed&&n.reason&&t.push(n.reason),Lc(e.tokenIn)||t.push(`${e.tokenIn} is not currently available.`),Lc(e.tokenOut)||t.push(`${e.tokenOut} is not currently available.`),e.amountIn<=0n&&t.push("Amount must be greater than zero."),(e.slippageBps<0||e.slippageBps>G.maxSlippageBps)&&t.push(`Slippage must be between 0 and ${G.maxSlippageBps} bps (${G.maxSlippageBps/100}%).`),n.source==="evm_0x"){const r=om();!r.ok&&r.reason&&t.push(r.reason)}return n.source==="kaspa_native"&&(G.dexEndpoint||t.push("Kaspa-native DEX endpoint is not configured."),e.tokenIn!=="KAS"&&t.push("Kaspa-native swap currently supports KAS as the input token.")),t}async function jv(e){var o,i,s,u,c,d,y;if(!im().enabled)return null;const n=Pv(e);if(n.length>0)throw new Error(`SWAP_VALIDATION: ${n.join("; ")}`);const r=Xp(e.tokenIn,e.tokenOut,G.routeSource);if(r.source==="kaspa_native"){const m=G.dexEndpoint;if(!m)throw new Error("KASPA_NATIVE_ROUTE_UNAVAILABLE: dex endpoint is not configured.");const h=Wt();if(!(h!=null&&h.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const v=await cu(),A=Gr(h.address,v);return gv(e,{endpoint:m,network:v,walletAddress:A})}if(r.source==="evm_0x"){const m=uu();if(!m)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");const h=Y0(e,m,{endpoint:G.zeroExQuoteEndpoint||"",apiKey:G.zeroExApiKey||void 0,expectedSettlerTo:G.zeroExExpectedSettlerTo,expectedAllowanceSpender:G.zeroExExpectedAllowanceSpender||void 0}),v=await Z0(h,G.evmChainIdAllowlist,m.chainId),A=BigInt(v.minBuyAmount||v.buyAmount||"0"),E=typeof((o=v.transaction)==null?void 0:o.to)=="string"?v.transaction.to:"",x=typeof((i=v.transaction)==null?void 0:i.data)=="string"?v.transaction.data:"";if(!E||!x)throw new Error("ZEROX_QUOTE_INVALID: missing transaction payload.");return{tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn,amountOut:A,priceImpact:0,fee:0n,route:((u=(s=v.route)==null?void 0:s.fills)==null?void 0:u.map(f=>String((f==null?void 0:f.source)||"0x")))||["0x"],validUntil:Date.now()+3e4,dexEndpoint:G.zeroExQuoteEndpoint||"https://api.0x.org",routeSource:"evm_0x",transaction:{to:E,data:x,value:typeof((c=v.transaction)==null?void 0:c.value)=="string"?v.transaction.value:"0x0"},allowanceSpender:(y=(d=v.issues)==null?void 0:d.allowance)==null?void 0:y.spender,rawQuote:v}}throw new Error(`SWAP_ROUTE_UNSUPPORTED: ${r.source}`)}async function Rv(e){if(!e.txHash||e.routeSource!=="evm_0x"||!au(e))return e;if(e.createdAt+G.settlementTimeoutMs<=Date.now()){const u=Fe(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await he(u),u}const t=await V0(e.txHash).catch(()=>null);if(!t)return e;if(G0(t)==="revert"){const u=Fe(e,"FAILED_REVERT",{error:"EVM transaction reverted."});return await he(u),u}const r=Q0(t),o=await H0().catch(()=>null),i=r&&o&&o>=r?o-r+1:e.confirmations||1;if(i>=G.settlementRequiredConfirmations){const u=Fe(e,"CONFIRMED",{confirmations:i,error:null});return await he(u),u}const s=Fe(e,"PENDING_CONFIRMATION",{confirmations:i});return await he(s),s}async function sm(e){if(!e.txHash||e.routeSource!=="kaspa_native"||!au(e))return e;if(e.createdAt+G.settlementTimeoutMs<=Date.now()){const s=Fe(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await he(s),s}const t=e.bridgeTransferId||"";if(!t){const s=nr(e,"KASPA_NATIVE_SETTLEMENT_MISSING_QUOTE_ID");return await he(s),s}const n=G.dexEndpoint;if(!n)return e;let r;try{const s=await cu();r=await Sv({endpoint:n,network:s,quoteId:t,depositTxId:e.txHash})}catch{return e}if(r.state==="failed"){const s=nr(e,r.error||"KASPA_NATIVE_EXECUTION_FAILED");return await he(s),s}const o=await Nv(e.txHash);if(o&&r.state==="confirmed"){const s=Fe(e,"CONFIRMED",{confirmations:Math.max(1,r.confirmations||1),error:null});return await he(s),s}const i=Fe(e,"PENDING_CONFIRMATION",{confirmations:o?1:0});return await he(i),i}async function lm(e){return e.routeSource==="evm_0x"?Rv(e):e.routeSource==="kaspa_native"?sm(e):e}async function Vc(){const t=(await Jr()).filter(r=>au(r)&&(r.routeSource==="evm_0x"||r.routeSource==="kaspa_native")),n=[];for(const r of t)n.push(await lm(r));return n}async function Ov(){return K0()}async function Lv(e){if(!e.transaction)throw new Error("SWAP_EXECUTION_UNSUPPORTED: missing EVM transaction payload.");const t=uu();if(!t)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");if(!B0(e.transaction.to,G.zeroExExpectedSettlerTo))throw new Error("ZEROX_SETTLER_MISMATCH: refusing to execute unexpected transaction target.");const n=rm("swap");let r=em(n,"evm_0x");r=Fe(r,"QUOTED"),await he(r),r=Fe(r,"SIGNED"),await he(r);let o="";try{o=await W0({from:t.address,to:e.transaction.to,data:e.transaction.data,value:e.transaction.value||"0x0"})}catch(u){const c=Fe(r,"FAILED_BRIDGE",{error:u instanceof Error?u.message:String(u)});return await he(c),c}r=Fe(r,"SUBMITTED",{txHash:o,confirmations:0,error:null}),await he(r);const i=Date.now()+G.settlementTimeoutMs;for(;Date.now()<i;){if(r=await lm(r),r.state==="CONFIRMED"||r.state==="FAILED_REVERT"||r.state==="FAILED_BRIDGE")return r;await new Promise(c=>setTimeout(c,G.settlementPollIntervalMs))}const s=Fe(r,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await he(s),s}async function Dv(e){if(e.routeSource!=="kaspa_native")throw new Error("KASPA_NATIVE_ROUTE_REQUIRED");if(e.tokenIn!=="KAS")throw new Error("KASPA_NATIVE_INPUT_UNSUPPORTED: only KAS input is supported.");if(Date.now()>e.validUntil)throw new Error("KASPA_NATIVE_QUOTE_EXPIRED");const t=G.dexEndpoint;if(!t)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");const n=Wt();if(!(n!=null&&n.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const r=await cu(),o=Gr(n.address,r),i=hv(e),s=Cv(e.amountIn),u=rm("swap");let c=em(u,"kaspa_native");c=Fe(c,"QUOTED"),await he(c),c=Fe(c,"SIGNED"),await he(c);let d="";try{let h=await Up(o,i.settlementAddress,s,r);await Fp(h);const v=await $p(h);if(!v.valid){const x=v.errors.join("; ");await nt({...h,state:"DRY_RUN_FAIL",error:x});const f=nr(c,`KASPA_NATIVE_DRY_RUN_FAILED: ${x}`);return await he(f),f}h={...h,state:"DRY_RUN_OK",fee:v.estimatedFee},await nt(h);const A=await Kp(h);await nt(A);const E=await Wp(A);await nt(E),d=E.txId||A.txId||""}catch(h){const v=nr(c,h instanceof Error?h.message:String(h));return await he(v),v}if(!d){const h=nr(c,"KASPA_NATIVE_EXECUTION_NO_TXID");return await he(h),h}c=Fe(c,"SUBMITTED",{txHash:d,bridgeTransferId:i.quoteId,confirmations:0,error:null}),await he(c);try{await yv({endpoint:t,network:r,quoteId:i.quoteId,depositTxId:d,walletAddress:o,amountIn:e.amountIn})}catch{}const y=Date.now()+G.settlementTimeoutMs;for(;Date.now()<y;){if(c=await sm(c),c.state==="CONFIRMED"||c.state==="FAILED_REVERT"||c.state==="FAILED_BRIDGE"||c.state==="FAILED_TIMEOUT")return c;await new Promise(h=>setTimeout(h,G.settlementPollIntervalMs))}const m=nr(c,"Swap timed out waiting for confirmations.","FAILED_TIMEOUT");return await he(m),m}async function zv(e){if(e.routeSource==="kaspa_native")return Dv(e);if(e.routeSource==="evm_0x")return Lv(e);throw new Error(`SWAP_EXECUTION_UNSUPPORTED: ${e.routeSource||"unknown route"}`)}function bv(e,t){const n=String(e||"").trim();if(!n||!/^\d+(\.\d+)?$/.test(n))return null;const[r,o=""]=n.split("."),i=r.replace(/^0+(?=\d)/,"")||"0",s=o.slice(0,t).padEnd(t,"0"),u=`${i}${s}`.replace(/^0+(?=\d)/,"")||"0";try{return BigInt(u)}catch{return null}}function Mv(){const[e,t]=k.useState(()=>Fl()),[n,r]=k.useState(null),[o,i]=k.useState([]),[s,u]=k.useState(null),[c,d]=k.useState(!1),[y,m]=k.useState(!1),[h,v]=k.useState(!1),[A,E]=k.useState(!1),[x,f]=k.useState(!1),p=im(),g=M0(),w=Bl(),[N,_]=k.useState("KAS"),[P,L]=k.useState("USDC"),[K,B]=k.useState(""),[X,se]=k.useState(G.defaultSlippageBps),H=!p.enabled,ye=G.routeSource==="evm_0x";k.useEffect(()=>{t(Fl()),Vc().catch(()=>{}),Jr().then(i).catch(()=>{})},[]),k.useEffect(()=>{const I=setInterval(()=>{Vc().then(()=>Jr().then(Y=>i(Y.slice(0,4)))).catch(()=>{})},G.settlementPollIntervalMs);return()=>clearInterval(I)},[]);const Re=async()=>{const I=await Jr();i(I.slice(0,4))},xe=async()=>{u(null);const I=w.find($=>$.id===N),Y=bv(K,(I==null?void 0:I.decimals)??8);if(!Y||Y<=0n){u("Enter a valid amount.");return}m(!0);try{const $=await jv({tokenIn:N,tokenOut:P,amountIn:Y,slippageBps:X});if(!$){u(p.reason??"Swap is currently unavailable.");return}r($)}catch($){u($ instanceof Error?$.message:String($))}finally{m(!1)}},Ae=async()=>{u(null),d(!0);try{const I=await Ov();t(I),E(!1)}catch(I){u(I instanceof Error?I.message:String(I))}finally{d(!1)}},j=()=>{$0(),t(null)},b=async()=>{if(n){u(null),v(!0);try{await zv(n),f(!1),await Re()}catch(I){u(I instanceof Error?I.message:String(I))}finally{v(!1)}}},F=I=>({width:"100%",boxSizing:"border-box",background:I?"rgba(8,13,20,0.4)":"rgba(8,13,20,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:I?a.dim:a.text,fontSize:11,cursor:I?"not-allowed":"text",...z,outline:"none"}),W=I=>({...F(I),cursor:I?"not-allowed":"pointer",appearance:"none"});return l.jsxs("div",{style:In,children:[H&&l.jsxs("div",{style:{...Ee("purple"),display:"flex",alignItems:"flex-start",gap:10},children:[l.jsx("span",{style:{fontSize:18,flexShrink:0},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:9,color:a.purple,fontWeight:700,letterSpacing:"0.1em",marginBottom:4},children:"SWAP UNAVAILABLE"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:p.reason??"Swap functionality not yet active on Kaspa."}),l.jsxs("div",{style:{fontSize:7,color:a.muted,lineHeight:1.4,marginTop:6},children:["Route source: ",g.label]})]})]}),ye&&l.jsxs("div",{style:Ee("default",!0),children:[l.jsx("div",{style:{...Me,marginBottom:6},children:"EVM SIDECAR SIGNER"}),e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Connected: ",e.address.slice(0,8),"",e.address.slice(-6)," (chain ",e.chainId,")"]}),l.jsx("button",{onClick:j,style:{...oe(a.warn),width:"100%",padding:"8px 0"},children:"DISCONNECT EVM SIGNER"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5,marginBottom:7},children:"Required for `0x` route. Kaspa managed signer remains isolated."}),A?l.jsxs("div",{style:{...Ie(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5,marginBottom:6},children:"You are connecting an EVM signer domain. Forge-OS Kaspa wallet keys are not shared with this signer."}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:Ae,style:{...Tn(!0),flex:1,padding:"7px 0"},disabled:c,children:c?"CONNECTING":"I AGREE, CONNECT"}),l.jsx("button",{onClick:()=>E(!1),style:{...oe(a.dim),flex:1,padding:"7px 0"},disabled:c,children:"CANCEL"})]})]}):l.jsx("button",{onClick:()=>E(!0),style:{...oe(a.accent),width:"100%",padding:"8px 0"},disabled:c,children:"CONNECT METAMASK SIDECAR"})]})]}),l.jsxs("div",{style:Ee("default"),children:[l.jsx("div",{style:{...Me,marginBottom:6},children:"YOU PAY"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("select",{value:N,onChange:I=>_(I.target.value),disabled:H,style:{...W(H),flex:"0 0 100px"},children:w.filter(I=>I.enabled).map(I=>l.jsx("option",{value:I.id,children:I.symbol},I.id))}),l.jsx("input",{type:"number",min:"0",value:K,onChange:I=>B(I.target.value),placeholder:H?"":"0.00",disabled:H,style:{...F(H),flex:1}})]})]}),l.jsx("div",{style:{textAlign:"center"},children:l.jsx("button",{disabled:H,onClick:()=>{_(P),L(N)},style:{background:"linear-gradient(180deg, rgba(16,25,35,0.7), rgba(8,13,20,0.7))",border:`1px solid ${a.border}`,borderRadius:"50%",width:28,height:28,color:H?a.muted:a.accent,fontSize:14,cursor:H?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 16px rgba(0,0,0,0.16)"},children:""})}),l.jsxs("div",{style:Ee("default"),children:[l.jsx("div",{style:{...Me,marginBottom:6},children:"YOU RECEIVE (ESTIMATED)"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("select",{value:P,onChange:I=>L(I.target.value),disabled:H,style:{...W(H),flex:"0 0 100px"},children:Bl().map(I=>l.jsxs("option",{value:I.id,disabled:!I.enabled,children:[I.symbol,I.enabled?"":" (soon)"]},I.id))}),l.jsx("div",{style:{...F(!0),flex:1,display:"flex",alignItems:"center",color:a.muted,fontSize:11},children:""})]})]}),l.jsxs("div",{style:Ee("default",!0),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("div",{style:Me,children:"SLIPPAGE TOLERANCE"}),l.jsxs("div",{style:{fontSize:8,color:H?a.muted:a.text,fontWeight:700},children:[(X/100).toFixed(1),"%"]})]}),l.jsx("div",{style:{display:"flex",gap:6},children:[25,50,100].map(I=>l.jsxs("button",{onClick:()=>se(I),disabled:H,style:{...oe(X===I&&!H?a.accent:a.dim),flex:1,padding:"5px 0",borderRadius:6,background:X===I&&!H?`${a.accent}20`:"rgba(33,48,67,0.4)",border:`1px solid ${X===I&&!H?a.accent:a.border}`,color:X===I&&!H?a.accent:a.dim,fontSize:8,fontWeight:700,cursor:H?"not-allowed":"pointer"},children:[(I/100).toFixed(1),"%"]},I))})]}),H?l.jsx("div",{style:{textAlign:"center"},children:l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"SWAP COMING SOON"})}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:xe,style:{...Tn(!0),width:"100%",padding:"11px 0",fontSize:10,letterSpacing:"0.1em"},disabled:y,children:y?"REQUESTING QUOTE":"GET QUOTE "}),n&&l.jsxs("div",{style:Ee("default",!0),children:[l.jsx("div",{style:{...Me,marginBottom:6},children:"QUOTE PREVIEW"}),l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Route: ",n.route.join(" -> ")," | Valid ~30s"]}),l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:8},children:["Min output units: ",n.amountOut.toString()]}),x?l.jsxs("div",{style:{...Ie(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5,marginBottom:6},children:"Confirm execution in the external EVM signer. Settlement is persisted and recovered after restart."}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:b,style:{...Tn(!0),flex:1,padding:"7px 0"},disabled:h,children:h?"EXECUTING":"CONFIRM EXECUTION"}),l.jsx("button",{onClick:()=>f(!1),style:{...oe(a.dim),flex:1,padding:"7px 0"},disabled:h,children:"CANCEL"})]})]}):l.jsx("button",{onClick:()=>f(!0),style:{...Tn(!0),width:"100%",padding:"8px 0"},disabled:h,children:"SIGN & EXECUTE SWAP"})]})]}),s&&l.jsx("div",{style:{...Ie(),border:`1px solid ${a.danger}60`,color:a.danger,fontSize:7},children:s}),o.length>0&&l.jsxs("div",{style:{...Ie(),padding:"9px 12px"},children:[l.jsx("div",{style:{...Me,marginBottom:6},children:"SWAP SETTLEMENTS"}),o.map((I,Y)=>l.jsxs("div",{style:{marginBottom:Y<o.length-1?4:0,fontSize:7,color:a.dim},children:[l.jsx("span",{style:{color:a.text},children:I.state}),"  ",I.txHash?`${I.txHash.slice(0,10)}`:"tx pending","  ",new Date(I.updatedAt).toLocaleTimeString()]},I.id))]}),l.jsxs("div",{style:{...Ie(),padding:"9px 12px"},children:[l.jsx("div",{style:{...Me,marginBottom:5},children:"SWAP NOTES"}),[`Route source: ${g.label}.`,g.requiresEvmSigner?"This route requires a dedicated EVM signer (Kaspa signer is isolated).":"Signing domain remains inside Kaspa managed wallet boundaries.","Output preview required before any signature.",`Max slippage cap: ${G.maxSlippageBps/100}%.`,"No silent token redirection  destination enforced.","Swap routes verified against active network only."].map((I,Y)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:Y<5?3:0},children:[l.jsx("span",{style:{color:H?a.muted:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:7,color:a.muted,lineHeight:1.4},children:I})]},Y))]})]})}const vr=1,Oi=440,Li=720,am=420,um=620;function Bv({autoLockMinutes:e,persistSession:t,onUnlock:n,onReset:r,walletAddress:o}){const[i,s]=k.useState(""),[u,c]=k.useState(null),[d,y]=k.useState(!1),[m,h]=k.useState(!1),v=k.useRef(null);k.useEffect(()=>{var E;(E=v.current)==null||E.focus()},[]);const A=async E=>{var x;if(E.preventDefault(),!(!i||d)){y(!0),c(null);try{const f=await Dn(i,e,{persistSession:t});n(f)}catch(f){const p=f instanceof Error?f.message:String(f);c(p==="INVALID_PASSWORD"?"Incorrect password.":"Failed to unlock. Try again."),s(""),(x=v.current)==null||x.focus()}finally{y(!1)}}};return l.jsxs("div",{style:{width:Oi,minHeight:Li,...yr(),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:"28px 30px 24px",...z,position:"relative",overflow:"hidden",overflowX:"hidden",overflowY:"auto",zoom:vr},children:[l.jsx("div",{style:{position:"absolute",top:"-12%",left:"50%",transform:"translateX(-50%)",width:360,height:360,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}18 0%, transparent 70%)`,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:"-10%",right:"-32%",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0A 0%, transparent 72%)`,pointerEvents:"none"}}),l.jsxs("div",{style:{position:"relative",zIndex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:4},children:[l.jsxs("div",{style:{marginBottom:o?14:22,textAlign:"center"},children:[l.jsx("img",{src:"../icons/icon128.png",alt:"Forge-OS",style:{width:58,height:58,objectFit:"contain",imageRendering:"auto",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.52))",marginBottom:12}}),l.jsxs("div",{style:{fontSize:17,fontWeight:700,letterSpacing:"0.12em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]}),l.jsx("div",{style:{fontSize:9,color:a.dim,marginTop:5,letterSpacing:"0.12em"},children:o?"WELCOME BACK":"WALLET LOCKED"})]}),o&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:16,background:`${a.accent}0A`,border:`1px solid ${a.accent}25`,borderRadius:20,padding:"6px 14px"},children:[l.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsx("span",{style:{fontSize:10,color:a.text,fontWeight:600},children:ko(o)})]}),l.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:`${a.accent}15`,border:`1px solid ${a.accent}30`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:18},children:l.jsx("span",{style:{fontSize:22},children:""})}),l.jsxs("form",{onSubmit:A,style:{width:"100%"},children:[l.jsxs("div",{style:{marginBottom:12},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,letterSpacing:"0.1em",marginBottom:6},children:o?"ENTER PASSWORD TO SIGN IN":"PASSWORD"}),l.jsx("input",{ref:v,type:"password",value:i,onChange:E=>s(E.target.value),placeholder:"Enter your password",disabled:d,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.7)",border:`1px solid ${u?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...z,outline:"none"}})]}),u&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10,textAlign:"center"},children:u}),l.jsx("button",{type:"submit",disabled:!i||d,style:{width:"100%",padding:"10px 0",background:i&&!d?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}30`,border:"none",borderRadius:8,color:i&&!d?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:i&&!d?"pointer":"not-allowed",letterSpacing:"0.1em",...z,transition:"background 0.15s, color 0.15s"},children:d?"UNLOCKING":"UNLOCK WALLET"})]}),l.jsx("div",{style:{marginTop:20,textAlign:"center"},children:m?l.jsxs("div",{style:{background:a.dLow,border:`1px solid ${a.danger}40`,borderRadius:8,padding:"12px 14px",marginTop:4},children:[l.jsx("div",{style:{fontSize:8,color:a.warn,fontWeight:700,marginBottom:6,letterSpacing:"0.08em"},children:" RESET WALLET"}),l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5,marginBottom:10},children:"This will permanently delete your encrypted vault. Make sure you have your seed phrase backed up before proceeding."}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>h(!1),style:{flex:1,padding:"7px 0",background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:6,color:a.dim,fontSize:8,cursor:"pointer",...z},children:"CANCEL"}),l.jsx("button",{onClick:r,style:{flex:1,padding:"7px 0",background:a.dLow,border:`1px solid ${a.danger}60`,borderRadius:6,color:a.danger,fontSize:8,fontWeight:700,cursor:"pointer",...z},children:"RESET WALLET"})]})]}):l.jsx("button",{onClick:()=>h(!0),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...z},children:"Forgot password?"})})]})]})}const cm="forgeos.import.addressbook.v1",Hc="forgeos.import.addressbook.salt.v1",Fv=32,Uv=240;function dm(){return chrome.storage.local}function $v(e){return String(e||"").trim().toLowerCase().split(/\s+/).join(" ")}function Kv(e){return String(e||"").trim()}function $l(e){return Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}function Wv(e){const t=e.trim();if(!t||t.length%2!==0)return new Uint8Array;const n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r/2]=parseInt(t.slice(r,r+2),16);return n}async function fm(e){return new Promise(t=>{dm().get(e,n=>t((n==null?void 0:n[e])??null))})}async function pm(e,t){return new Promise(n=>{dm().set({[e]:t},n)})}async function Vv(){const e=await fm(Hc);if(e&&typeof e=="string"){const n=Wv(e);if(n.length>0)return n}const t=crypto.getRandomValues(new Uint8Array(16));return await pm(Hc,$l(t)),t}async function mm(){const e=await fm(cm);return!e||typeof e!="object"?{}:e}async function Hv(e){await pm(cm,e)}async function hm(e,t){const n=await Vv(),r=$v(e),o=Kv(t);if(!r)return"";const i=new TextEncoder().encode(`${$l(n)}
${r}
${o}`),s=await crypto.subtle.digest("SHA-256",i);return $l(new Uint8Array(s))}function Gv(e){const t=Ye(e.derivation);return{address:e.address,derivation:t,derivationPath:vt(t),chainLabel:Ua(t.chain)}}function Qv(e,t,n){const r=Ye(e.derivation);return{address:e.address,network:t,derivation:r,derivationPath:vt(r),chainLabel:Ua(r.chain),createdAt:n,lastUsedAt:n}}function Xv(e){const t=new Map;for(const n of e){const r=`${n.network.toLowerCase()}|${n.address.toLowerCase()}|${n.derivationPath}`,o=t.get(r);if(!o){t.set(r,n);continue}t.set(r,{...o,lastUsedAt:Math.max(o.lastUsedAt,n.lastUsedAt),createdAt:Math.min(o.createdAt,n.createdAt)})}return[...t.values()].sort((n,r)=>r.lastUsedAt-n.lastUsedAt)}function Yv(e){const t=Object.entries(e).sort((n,r)=>{var s,u,c,d;const o=((u=(s=n[1])==null?void 0:s[0])==null?void 0:u.lastUsedAt)??0;return(((d=(c=r[1])==null?void 0:c[0])==null?void 0:d.lastUsedAt)??0)-o});return Object.fromEntries(t.slice(0,Fv))}async function Zv(e,t,n){const r=await hm(e,t);return r?((await mm())[r]??[]).filter(s=>s.network===n).sort((s,u)=>u.lastUsedAt-s.lastUsedAt).map(Gv):[]}async function Kl(e,t,n,r){const o=await hm(e,t);if(!o||!r.length)return;const i=Date.now(),s=await mm(),u=s[o]??[],c=r.map(y=>Qv(y,n,i)),d=Xv([...c,...u]).slice(0,Uv);s[o]=d,await Hv(Yv(s))}async function Jv(e,t,n,r){await Kl(e,t,n,[r])}const qv=Oi,Bs=[0,4],Fs=[0,9],Wl=80,gm=320,eS=[...Fa].join(`
`);function Or(e){return`${e.address.toLowerCase()}|${e.derivationPath}`}function Vl(e,t){const n=Number(String(e||"").trim());return!Number.isFinite(n)||n<0?t:Math.floor(n)}function Gc(e,t,n){const r=Vl(e,n[0]),o=Vl(t,n[1]);return[Math.min(r,o),Math.max(r,o)]}function tS(e){const t=Vl(e,Wl);return Math.max(1,Math.min(gm,t||Wl))}function nS(e){const t=String(e||"").split(/[,\n]+/).map(n=>n.trim()).filter(Boolean);return t.length?t:[...Fa]}function Qc({onSubmit:e,loading:t,submitLabel:n}){const[r,o]=k.useState(""),[i,s]=k.useState(""),[u,c]=k.useState(null),d=m=>{if(m.preventDefault(),c(null),r.length<8){c("Password must be at least 8 characters.");return}if(r!==i){c("Passwords do not match.");return}e(r)},y=(m=!1)=>({width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${m?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...z,outline:"none",marginBottom:8});return l.jsxs("form",{onSubmit:d,children:[l.jsx("div",{style:{fontSize:7,color:a.dim,letterSpacing:"0.1em",marginBottom:8},children:"CREATE PASSWORD"}),l.jsx("input",{type:"password",placeholder:"Password (min 8 characters)",value:r,onChange:m=>o(m.target.value),disabled:t,style:y()}),l.jsx("input",{type:"password",placeholder:"Confirm password",value:i,onChange:m=>s(m.target.value),disabled:t,style:{...y(),marginBottom:0}}),u&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:u}),l.jsx("button",{type:"submit",disabled:!r||!i||t,style:{width:"100%",marginTop:12,padding:"11px 0",background:r&&i&&!t?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:r&&i&&!t?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:r&&i&&!t?"pointer":"not-allowed",letterSpacing:"0.1em",...z},children:t?"ENCRYPTING":n})]})}function vn({children:e}){return l.jsxs("div",{style:{width:qv,minHeight:Li,...yr(),display:"flex",flexDirection:"column",padding:"22px 22px 18px",...z,overflowX:"hidden",overflowY:"auto",position:"relative",zoom:vr},children:[l.jsx("div",{style:{position:"absolute",top:-80,right:-50,width:240,height:240,background:`radial-gradient(ellipse, ${a.accent}14 0%, transparent 70%)`,borderRadius:"50%",pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:-60,left:-50,width:180,height:180,background:"radial-gradient(ellipse, rgba(57,221,182,0.10) 0%, transparent 70%)",borderRadius:"50%",pointerEvents:"none"}}),l.jsx("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",flex:1},children:e})]})}function $n({title:e,sub:t,onBack:n}){return l.jsxs("div",{style:{marginBottom:20},children:[n&&l.jsx("button",{onClick:n,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...z,marginBottom:10,padding:0},children:" back"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain",filter:"drop-shadow(0 0 10px rgba(57,221,182,0.65))"}}),l.jsxs("span",{style:{fontSize:15,fontWeight:700,letterSpacing:"0.11em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsx("div",{style:{fontSize:13,color:a.text,fontWeight:700,letterSpacing:"0.05em"},children:e}),t&&l.jsx("div",{style:{fontSize:8,color:a.dim,marginTop:5,lineHeight:1.6},children:t})]})}function rS({network:e,onComplete:t}){const[n,r]=k.useState("choose"),o="mainnet",[i,s]=k.useState(""),[u,c]=k.useState(""),[d,y]=k.useState(Ke),[m,h]=k.useState(""),[v,A]=k.useState(""),[E,x]=k.useState(""),[f,p]=k.useState(Ke),[g,w]=k.useState([]),[N,_]=k.useState([]),[P,L]=k.useState(eS),[K,B]=k.useState(String(Bs[0])),[X,se]=k.useState(String(Bs[1])),[H,ye]=k.useState(String(Fs[0])),[Re,xe]=k.useState(String(Fs[1])),[Ae,j]=k.useState(!0),[b,F]=k.useState(!0),[W,I]=k.useState(String(Wl)),[Y,$]=k.useState(vt(Ke)),[le,Ce]=k.useState(!1),[U,pe]=k.useState(!1),[Oe,te]=k.useState(null),Ht=(S,O)=>{const J=new Map;for(const me of[...S,...O]){const Le=Or(me);J.has(Le)||J.set(Le,me)}return[...J.values()]},Pt=()=>{const S=[];return Ae&&S.push(0),b&&S.push(1),S.length?S:[0]},ut=async()=>{const S=await Zv(m,v||void 0,o);return _(S.map(O=>Or(O))),S},yn=async()=>{pe(!0),te(null);try{const S=await ut();if(!S.length)throw new Error("No remembered candidates found for this phrase/passphrase.");w(S);const O=S[0];x(O.address),p(O.derivation),$(O.derivationPath),r("import_discover")}catch(S){const O=S instanceof Error?S.message:String(S);te(O||"Failed to load remembered candidates.")}finally{pe(!1)}},Ge=async()=>{var S;pe(!0),te(null);try{const O=Ry(Y),J=await _c(m,o,{mnemonicPassphrase:v||void 0,derivation:O}),me={address:J.address,derivation:Ye(J.derivation??O),derivationPath:vt(J.derivation??O),chainLabel:((S=J.derivation)==null?void 0:S.chain)===1?"change":"receive"};x(me.address),p(me.derivation),w(Le=>Ht([me],Le)),await Kl(m,v||void 0,o,[me]),_(Le=>{const Rt=new Set(Le);return Rt.add(Or(me)),[...Rt]}),r("import_password")}catch(O){const J=O instanceof Error?O.message:String(O);te(J||"Failed to validate derivation path.")}finally{pe(!1)}},Gt=async()=>{pe(!0),te(null);try{const S=await Gy(o);s(S.phrase),c(S.address),y(Ye(S.derivation??Ke)),r("create_view")}catch{te("Failed to generate wallet. Please try again.")}finally{pe(!1)}},Bn=async S=>{pe(!0),te(null);try{await ji(i,S,u,o,{derivation:d}),await Ll({address:u,network:o});const O=await Dn(S);s(""),t(O)}catch{te("Failed to encrypt vault. Please try again."),pe(!1)}},jt=async()=>{pe(!0),te(null);try{const S=await _c(m,o,{mnemonicPassphrase:v||void 0}),O=Ye(S.derivation??Ke),J={address:S.address,derivation:O,derivationPath:vt(O),chainLabel:O.chain===1?"change":"receive"};x(S.address),p(O),w([J]),$(J.derivationPath),r("import_password")}catch(S){const O=S instanceof Error?S.message:String(S);te(O.toLowerCase().includes("bip39")||O.toLowerCase().includes("checksum")?"Invalid BIP39 phrase. Check word count, spelling, and passphrase.":"Failed to validate phrase.")}finally{pe(!1)}},M=async()=>{pe(!0),te(null);let S=[],O=[],J="";try{try{S=await ut()}catch{S=[]}const me=Gc(K,X,Bs),Le=Gc(H,Re,Fs),Rt=Pt(),ym=nS(P),vm=tS(W);try{O=await Qy(m,o,{mnemonicPassphrase:v||void 0,basePaths:ym,accountRange:me,indexRange:Le,chains:Rt,limit:vm})}catch(kr){J=kr instanceof Error?kr.message:String(kr)}const Ao=Ht(O,S);if(!Ao.length)throw new Error(J||"No derivation candidates found for the configured scan window.");O.length&&await Kl(m,v||void 0,o,O),J&&S.length&&te(`${J} Showing remembered candidates only.`),w(Ao),_(Ao.map(kr=>Or(kr)));const es=Ao[0];E||(x(es.address),p(es.derivation)),$(es.derivationPath),r("import_discover")}catch(me){const Le=me instanceof Error?me.message:String(me);te(Le||"Failed to scan import paths.")}finally{pe(!1)}},V=S=>{x(S.address),p(Ye(S.derivation)),$(S.derivationPath),r("import_password")},R=async S=>{pe(!0),te(null);try{const O=m.trim().toLowerCase().split(/\s+/).join(" ");await ji(O,S,E,o,{mnemonicPassphrase:v||void 0,derivation:f}),await Ll({address:E,network:o});try{await Jv(O,v||void 0,o,{address:E,derivation:f,derivationPath:vt(f),chainLabel:f.chain===1?"change":"receive"})}catch{}const J=await Dn(S);h(""),A(""),w([]),_([]),t(J)}catch{te("Failed to encrypt vault. Please try again."),pe(!1)}},T=i.split(" ");return n==="choose"?l.jsxs(vn,{children:[l.jsx($n,{title:"SET UP YOUR WALLET",sub:"Non-custodial  Your keys never leave your device"}),l.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:14},children:["KASPA L1  L2","NON-CUSTODIAL","BIP44"].map(S=>l.jsx("span",{style:{fontSize:6,color:a.accent,fontWeight:700,letterSpacing:"0.08em",background:`${a.accent}10`,border:`1px solid ${a.accent}22`,borderRadius:4,padding:"3px 7px"},children:S},S))}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:18,padding:"7px 12px",background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8},children:[l.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em"},children:"MAINNET"})]}),Oe&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Oe}),l.jsx("button",{onClick:Gt,disabled:U,style:{width:"100%",padding:"18px 16px",textAlign:"left",background:`linear-gradient(145deg, ${a.accent}1A, rgba(11,17,24,0.95))`,border:`1px solid ${a.accent}45`,borderRadius:12,marginBottom:10,cursor:U?"not-allowed":"pointer",...z},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:`${a.accent}18`,border:`1px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{style:{color:a.accent,fontSize:18},children:""})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.accent,marginBottom:4,letterSpacing:"0.06em"},children:U?"GENERATING":"CREATE NEW WALLET"}),l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.6},children:"Generate a new wallet  24-word seed phrase  fully encrypted locally"})]})]})}),l.jsx("button",{onClick:()=>{te(null),h(""),A(""),x(""),w([]),_([]),p(Ke),$(vt(Ke)),r("import_phrase")},style:{width:"100%",padding:"18px 16px",textAlign:"left",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:12,marginBottom:18,cursor:"pointer",...z},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{style:{color:a.dim,fontSize:18},children:""})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,marginBottom:4,letterSpacing:"0.06em"},children:"IMPORT WALLET"}),l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.6},children:"Restore from a BIP39 seed phrase  supports 12/15/18/21/24 words"})]})]})}),l.jsx("div",{style:{marginTop:"auto",padding:"10px 12px",background:"rgba(5,7,10,0.5)",border:`1px solid ${a.border}`,borderRadius:8},children:["Your keys never leave your device.","Non-custodial  Forge-OS has zero access to your funds."].map((S,O)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:O===0?4:0},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:7,color:a.dim,lineHeight:1.5},children:S})]},O))})]}):n==="create_view"?l.jsxs(vn,{children:[l.jsx($n,{title:"YOUR SEED PHRASE",sub:"Write these 24 words down in order and store them offline. Anyone with this phrase controls your wallet.",onBack:()=>{r("choose"),s(""),c(""),y(Ke)}}),l.jsx("div",{style:{background:a.wLow,border:`1px solid ${a.warn}40`,borderRadius:8,padding:"8px 12px",marginBottom:12},children:l.jsx("div",{style:{fontSize:7,color:a.warn,fontWeight:700},children:" NEVER share this phrase. Forge-OS will never ask for it."})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:14},children:T.map((S,O)=>l.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:5,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[l.jsxs("span",{style:{fontSize:6,color:a.dim,flexShrink:0},children:[O+1,"."]}),l.jsx("span",{style:{fontSize:7,color:a.text,fontWeight:600},children:S})]},O))}),l.jsxs("label",{style:{display:"flex",gap:8,alignItems:"flex-start",cursor:"pointer",marginBottom:14},children:[l.jsx("input",{type:"checkbox",checked:le,onChange:S=>Ce(S.target.checked),style:{marginTop:2,accentColor:a.accent,flexShrink:0}}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"I have written down my 24-word seed phrase and stored it securely offline."})]}),l.jsx("button",{onClick:()=>r("create_password"),disabled:!le,style:{width:"100%",padding:"11px 0",background:le?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:le?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:le?"pointer":"not-allowed",letterSpacing:"0.1em",...z},children:"I'VE SAVED MY PHRASE "})]}):n==="create_password"?l.jsxs(vn,{children:[l.jsx($n,{title:"ENCRYPT YOUR WALLET",sub:"Your seed phrase will be encrypted and stored locally. You'll need this password to unlock your wallet.",onBack:()=>r("create_view")}),Oe&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Oe}),l.jsx(Qc,{onSubmit:Bn,loading:U,submitLabel:"CREATE WALLET"})]}):n==="import_phrase"?l.jsxs(vn,{children:[l.jsx($n,{title:"IMPORT SEED PHRASE",sub:"Enter a BIP39 seed phrase (12/15/18/21/24 words). Optional BIP39 passphrase supported.",onBack:()=>r("choose")}),Oe&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Oe}),l.jsx("div",{style:{fontSize:7,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"SEED PHRASE"}),l.jsx("textarea",{value:m,onChange:S=>{h(S.target.value),w([]),_([]),x(""),te(null)},placeholder:"word1 word2 word3  (space-separated)",rows:4,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,resize:"vertical",...z,outline:"none",marginBottom:10}}),l.jsx("div",{style:{fontSize:7,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"BIP39 PASSPHRASE (OPTIONAL)"}),l.jsx("input",{type:"password",value:v,onChange:S=>{A(S.target.value),w([]),_([]),x(""),te(null)},placeholder:"Optional passphrase / 25th word",style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,...z,outline:"none",marginBottom:10}}),m.trim()&&(()=>{const S=m.trim().split(/\s+/).filter(Boolean).length,O=[12,15,18,21,24].includes(S);return l.jsxs("div",{style:{fontSize:7,color:O?a.ok:a.warn,marginBottom:8},children:[S," words ",O?"":"(need 12/15/18/21/24)"]})})(),l.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"DISCOVERY SCAN OPTIONS"}),l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:5},children:"BASE PATH ROOTS (ONE PER LINE)"}),l.jsx("textarea",{value:P,onChange:S=>L(S.target.value),rows:2,style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",color:a.text,fontSize:8,resize:"vertical",...z,outline:"none",marginBottom:8}}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:4},children:"ACCOUNT RANGE"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsx("input",{type:"number",min:0,value:K,onChange:S=>B(S.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...z,outline:"none"}}),l.jsx("input",{type:"number",min:0,value:X,onChange:S=>se(S.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...z,outline:"none"}})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:4},children:"INDEX RANGE"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsx("input",{type:"number",min:0,value:H,onChange:S=>ye(S.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...z,outline:"none"}}),l.jsx("input",{type:"number",min:0,value:Re,onChange:S=>xe(S.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...z,outline:"none"}})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:5},children:"CHAINS"}),l.jsxs("div",{style:{display:"flex",gap:10},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:7,color:a.dim,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:Ae,onChange:S=>j(S.target.checked),style:{accentColor:a.accent}}),"RECEIVE (0)"]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:7,color:a.dim,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:b,onChange:S=>F(S.target.checked),style:{accentColor:a.accent}}),"CHANGE (1)"]})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:4},children:"RESULT LIMIT"}),l.jsx("input",{type:"number",min:1,max:gm,value:W,onChange:S=>I(S.target.value),style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...z,outline:"none"}})]})]})]}),l.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"MANUAL DERIVATION PATH"}),l.jsx("input",{value:Y,onChange:S=>$(S.target.value),placeholder:"m/44'/111'/0'/0/0",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",color:a.text,fontSize:8,...z,outline:"none",marginBottom:8}}),l.jsx("button",{onClick:Ge,disabled:!m.trim()||U,style:{width:"100%",padding:"9px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!U?a.text:a.dim,fontSize:8,fontWeight:700,cursor:m.trim()&&!U?"pointer":"not-allowed",letterSpacing:"0.08em",...z},children:U?"VALIDATING":"USE MANUAL PATH"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsx("button",{onClick:jt,disabled:!m.trim()||U,style:{width:"100%",padding:"11px 0",background:m.trim()&&!U?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:m.trim()&&!U?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:m.trim()&&!U?"pointer":"not-allowed",letterSpacing:"0.1em",...z},children:U?"VALIDATING":"VALIDATE PHRASE "}),l.jsx("button",{onClick:M,disabled:!m.trim()||U,style:{width:"100%",padding:"11px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!U?a.text:a.dim,fontSize:9,fontWeight:700,cursor:m.trim()&&!U?"pointer":"not-allowed",letterSpacing:"0.08em",...z},children:U?"SCANNING":"SCAN PATHS"})]}),l.jsx("button",{onClick:yn,disabled:!m.trim()||U,style:{width:"100%",padding:"10px 0",marginTop:8,background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!U?a.text:a.dim,fontSize:8,fontWeight:700,cursor:m.trim()&&!U?"pointer":"not-allowed",letterSpacing:"0.08em",...z},children:U?"LOADING":"LOAD REMEMBERED CANDIDATES"})]}):n==="import_discover"?l.jsxs(vn,{children:[l.jsx($n,{title:"SELECT DERIVATION",sub:"Choose the address/path that matches your existing wallet. This choice will be saved for signing.",onBack:()=>r("import_phrase")}),Oe&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Oe}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.5},children:"Showing common derivation candidates for your phrase/passphrase. If unsure, compare with the address shown in your current wallet app and select the exact match."}),l.jsxs("div",{style:{fontSize:7,color:a.dim,marginTop:6},children:["Remembered candidates for this mnemonic fingerprint: ",N.length]})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6,maxHeight:300,overflowY:"auto",paddingRight:2,marginBottom:12},children:g.map((S,O)=>{const J=S.address.toLowerCase()===E.toLowerCase()&&vt(S.derivation)===vt(f),me=N.includes(Or(S));return l.jsxs("button",{onClick:()=>V(S),style:{width:"100%",textAlign:"left",background:J?`${a.accent}10`:"rgba(8,13,20,0.8)",border:`1px solid ${J?`${a.accent}55`:a.border}`,borderRadius:8,padding:"9px 10px",cursor:"pointer",...z},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,marginBottom:4},children:[l.jsxs("span",{style:{fontSize:8,color:J?a.accent:a.text,fontWeight:700},children:["#",O+1,"  ",S.chainLabel.toUpperCase()]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[me&&l.jsx("span",{style:{fontSize:6,color:a.accent,border:`1px solid ${a.accent}44`,background:`${a.accent}14`,borderRadius:4,padding:"2px 4px",letterSpacing:"0.06em"},children:"REMEMBERED"}),l.jsx("span",{style:{fontSize:7,color:a.dim},children:S.derivation.account===0?"acct 0":`acct ${S.derivation.account}`})]})]}),l.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.45,wordBreak:"break-all",marginBottom:4},children:S.address}),l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:S.derivationPath})]},`${S.address}-${S.derivationPath}`)})}),l.jsx("button",{onClick:()=>M(),disabled:U,style:{width:"100%",padding:"10px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:U?a.dim:a.text,fontSize:9,fontWeight:700,cursor:U?"not-allowed":"pointer",letterSpacing:"0.08em",...z},children:U?"SCANNING":"RESCAN CANDIDATES"})]}):n==="import_password"?l.jsxs(vn,{children:[l.jsx($n,{title:"ENCRYPT YOUR WALLET",sub:"Your imported phrase will be encrypted and stored locally. Choose a strong password.",onBack:()=>r(g.length?"import_discover":"import_phrase")}),l.jsxs("div",{style:{background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,marginBottom:4,letterSpacing:"0.08em"},children:"SELECTED ADDRESS"}),l.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.4,wordBreak:"break-all",marginBottom:4},children:E}),l.jsx("div",{style:{fontSize:7,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:vt(f)})]}),Oe&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:Oe}),l.jsx(Qc,{onSubmit:R,loading:U,submitLabel:"IMPORT WALLET"})]}):l.jsx(vn,{children:l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",filter:"drop-shadow(0 0 12px rgba(57,221,182,0.7))",marginBottom:14}}),l.jsx("div",{style:{fontSize:10,color:a.accent,marginBottom:6,letterSpacing:"0.1em",fontWeight:700},children:"ENCRYPTING VAULT"}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:"Deriving key  This may take a moment"})]})})})}function oS({address:e,network:t,origin:n,onApprove:r,onReject:o}){const i=n??"forge-os.xyz";return l.jsxs("div",{style:{width:am,minHeight:um,...yr(),display:"flex",flexDirection:"column",...z,overflowX:"hidden",overflowY:"auto",zoom:vr},children:[l.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),l.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"24px 16px",gap:16},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}18`,border:`2px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 14px"},children:l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain"}})}),l.jsx("div",{style:{fontSize:13,fontWeight:700,color:a.text,marginBottom:4},children:"Connect to Site"}),l.jsx("div",{style:{fontSize:9,color:a.dim,letterSpacing:"0.06em",wordBreak:"break-word",overflowWrap:"anywhere"},children:i})]}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.8)",border:`1px solid ${a.border}`,borderRadius:10,padding:"12px 14px"},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,letterSpacing:"0.12em",marginBottom:10},children:"THIS SITE WILL BE ABLE TO"}),[{icon:"",label:"View your wallet address"},{icon:"",label:"Request message signatures"}].map(s=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6,fontSize:9,color:a.text},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:s.icon}),s.label]},s.label)),l.jsx("div",{style:{height:1,background:a.border,margin:"10px 0"}}),l.jsx("div",{style:{fontSize:7,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"THIS SITE WILL NOT BE ABLE TO"}),[{icon:"",label:"Access your private keys or seed phrase"},{icon:"",label:"Send transactions without your approval"}].map(s=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4,fontSize:9,color:a.muted},children:[l.jsx("span",{style:{color:a.danger,fontSize:8,flexShrink:0},children:s.icon}),s.label]},s.label))]}),l.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:2},children:"CONNECTING WITH"}),l.jsx("div",{style:{fontSize:10,color:a.text,fontWeight:600},children:ko(e)}),l.jsx("div",{style:{fontSize:7,color:a.dim},children:t})]})]})]}),l.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[l.jsx("button",{onClick:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:9,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...z},children:"REJECT"}),l.jsx("button",{onClick:r,style:{flex:2,background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:"#04110E",fontSize:10,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...z},children:"CONNECT "})]})]})}function iS({address:e,network:t,origin:n,message:r,loading:o=!1,error:i,onApprove:s,onReject:u}){const c=n??"forge-os.xyz";return l.jsxs("div",{style:{width:am,minHeight:um,...yr(),display:"flex",flexDirection:"column",...z,overflowX:"hidden",overflowY:"auto",zoom:vr},children:[l.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),l.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"18px 16px",gap:12},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.warn}18`,border:`2px solid ${a.warn}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:l.jsx("span",{style:{fontSize:22},children:""})}),l.jsx("div",{style:{fontSize:12,fontWeight:700,color:a.text,marginBottom:3},children:"Signature Request"}),l.jsx("div",{style:{fontSize:9,color:a.dim,letterSpacing:"0.06em"},children:c})]}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.9)",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",minWidth:0},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"MESSAGE TO SIGN"}),l.jsx("div",{style:{maxHeight:180,overflowY:"auto",background:"rgba(5,7,10,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px",fontSize:8,color:a.text,lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"anywhere"},children:r})]}),l.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10,minWidth:0},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsxs("div",{style:{minWidth:0},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:2},children:"SIGNING WITH"}),l.jsx("div",{style:{fontSize:10,color:a.text,fontWeight:600},children:ko(e)}),l.jsx("div",{style:{fontSize:7,color:a.dim},children:t})]})]}),i&&l.jsx("div",{style:{fontSize:8,color:a.danger,lineHeight:1.5,textAlign:"center"},children:i})]}),l.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[l.jsx("button",{onClick:u,disabled:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:9,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...z},children:"REJECT"}),l.jsx("button",{onClick:s,disabled:o,style:{flex:2,background:o?`${a.accent}35`:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:o?a.dim:"#04110E",fontSize:10,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...z},children:o?"SIGNING":"SIGN MESSAGE "})]})]})}const Xc="forgeos.connect.pending",Yc="forgeos.sign.pending";function sS(){const[e,t]=k.useState({type:"loading"}),[n,r]=k.useState(null),[o,i]=k.useState("mainnet"),[s,u]=k.useState(null),[c,d]=k.useState(0),[y,m]=k.useState(!1),[h,v]=k.useState("wallet"),[A,E]=k.useState(),[x,f]=k.useState(15),[p,g]=k.useState(!1),[w,N]=k.useState(null),[_,P]=k.useState(null),[L,K]=k.useState(!1),[B,X]=k.useState(null),[se,H]=k.useState(null),[ye,Re]=k.useState(null),xe=["mainnet","testnet-10","testnet-11"],Ae={mainnet:"MAINNET","testnet-10":"TN10","testnet-11":"TN11"};k.useEffect(()=>{(async()=>{try{const[M,V,R,T]=await Promise.all([Cp(),Sp(),iy(),ly()]);if(i(V),f(R),g(T===!0),!M){const O=await Ec();O!=null&&O.address?(r({mnemonic:"",address:O.address,network:V,autoLockAt:1/0}),b(O.address,V),t({type:"unlocked"})):t({type:"first_run"});return}const S=Wt()??await Np();if(S)r(S),b(S.address,V),t({type:"unlocked"});else{const O=await Ec();H((O==null?void 0:O.address)??null),t({type:"locked"})}}catch{t({type:"first_run"})}})()},[]);const j=k.useCallback(()=>{var V;const M=(V=chrome.storage)==null?void 0:V.session;M!=null&&M.get&&M.get([Xc,Yc]).then(R=>{const T=R==null?void 0:R[Xc],S=R==null?void 0:R[Yc];N(T!=null&&T.requestId?T:null),P(S!=null&&S.requestId&&typeof(S==null?void 0:S.message)=="string"?S:null)}).catch(()=>{})},[]);k.useEffect(()=>{j()},[j]),k.useEffect(()=>{const M=(V,R)=>{R==="session"&&j()};return chrome.storage.onChanged.addListener(M),()=>chrome.storage.onChanged.removeListener(M)},[j]),k.useEffect(()=>{X(null)},[_==null?void 0:_.requestId]),k.useEffect(()=>{const M=V=>{(V==null?void 0:V.type)==="AUTOLOCK_FIRED"&&W()};return chrome.runtime.onMessage.addListener(M),()=>chrome.runtime.onMessage.removeListener(M)},[]),k.useEffect(()=>{if(e.type!=="unlocked"||!n)return;const M=setInterval(()=>{Wt()||W()},3e4);return()=>clearInterval(M)},[e.type,n]),k.useEffect(()=>{if(e.type!=="unlocked")return;const M=async()=>{const R=await Cy(o);R!=null&&R.virtualDaaScore&&Re(R.virtualDaaScore)};M();const V=setInterval(M,2e4);return()=>clearInterval(V)},[e.type,o]);const b=k.useCallback(async(M,V)=>{try{const R=Gr(M,V),[T,S]=await Promise.all([Ny(R,V),Py(V)]);u(T),d(S)}catch{}},[]);k.useEffect(()=>{if(e.type!=="unlocked"||!(n!=null&&n.address))return;const V=setInterval(()=>{b(n.address,o)},15e3);return()=>clearInterval(V)},[e.type,n==null?void 0:n.address,o,b]);const F=M=>{H(null),r(M),b(M.address,o),t({type:"unlocked"})},W=()=>{H((n==null?void 0:n.address)??null),jp(),r(null),u(null),d(0),t({type:"locked"})},I=async()=>{const{resetWallet:M}=await mp(async()=>{const{resetWallet:V}=await Promise.resolve().then(()=>Uy);return{resetWallet:V}},void 0);await M(),r(null),u(null),t({type:"first_run"})},Y=M=>{r(M),b(M.address,o),t({type:"unlocked"})},$=(()=>{if(!(n!=null&&n.address))return null;try{return Gr(n.address,o)}catch{return n.address}})(),le=async()=>{if($)try{await navigator.clipboard.writeText($),m(!0),setTimeout(()=>m(!1),2e3)}catch{}},Ce=async()=>{const M=xe.indexOf(o),V=xe[(M+1)%xe.length];if(i(V),await oy(V),u(null),n!=null&&n.address){try{await Ll({address:Gr(n.address,V),network:V})}catch{}b(n.address,V)}},U=()=>{e.type==="unlocked"&&ri(x,{persistSession:p})},pe=async M=>{f(M),await sy(M),e.type==="unlocked"&&ri(M,{persistSession:p})},Oe=async M=>{g(M),await ay(M),await Pp(M),e.type==="unlocked"&&ri(x,{persistSession:M})};k.useEffect(()=>{e.type!=="unlocked"||!_||n!=null&&n.mnemonic||(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:_.requestId,error:"Managed wallet is required for site signing"}).catch(()=>{}),P(null))},[e.type,_,n==null?void 0:n.mnemonic]);const te=async()=>{const M=_;if(M){if(!(n!=null&&n.mnemonic)){X("Wallet is locked. Unlock to sign.");return}K(!0),X(null);try{const V=await Xy(n.mnemonic,M.message,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation});await chrome.runtime.sendMessage({type:"FORGEOS_SIGN_APPROVE",requestId:M.requestId,signature:V}),P(null)}catch(V){const R=V instanceof Error?V.message:String(V);X(R||"Signing failed")}finally{K(!1)}}},Ht=()=>{_&&(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:_.requestId,error:"Signing rejected by user"}).catch(()=>{}),P(null),X(null))};if(e.type==="loading")return l.jsxs("div",{style:{width:Oi,height:Li,...yr(),display:"flex",alignItems:"center",justifyContent:"center",...z,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:vr},children:[l.jsx("div",{style:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%,-50%)",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}12 0%, transparent 70%)`,pointerEvents:"none"}}),l.jsxs("div",{style:{textAlign:"center",position:"relative"},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",opacity:.7,filter:"drop-shadow(0 0 10px rgba(57,221,182,0.5))"}}),l.jsx("div",{style:{fontSize:8,color:a.dim,marginTop:10,letterSpacing:"0.14em"},children:"LOADING"})]})]});if(e.type==="first_run")return l.jsx(rS,{network:o,onComplete:Y});if(e.type==="locked")return l.jsx(Bv,{walletAddress:se,autoLockMinutes:x,persistSession:p,onUnlock:F,onReset:I});const Pt=!!(n!=null&&n.mnemonic);if(_&&$&&Pt)return l.jsx(iS,{address:$,network:o,origin:_.origin,message:_.message,loading:L,error:B,onApprove:te,onReject:Ht});if(w&&$)return l.jsx(oS,{address:$,network:o,origin:w.origin,onApprove:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_APPROVE",requestId:w.requestId,address:$,network:o}).catch(()=>{}),N(null)},onReject:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_REJECT",requestId:w.requestId}).catch(()=>{}),N(null)}});const ut=$,yn="USD",Ge=s!==null&&c>0?s*c:null,Gt=Ge!==null?Jg(Ge,yn):"",jt=o==="mainnet"?a.ok:a.warn;return l.jsxs("div",{onClick:U,style:{width:Oi,minHeight:Li,...yr(),display:"flex",flexDirection:"column",...z,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:vr},children:[l.jsx("div",{style:{position:"absolute",top:-60,left:"50%",transform:"translateX(-50%)",width:320,height:320,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0D 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),l.jsx("div",{style:{position:"absolute",bottom:40,right:-60,width:200,height:200,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}07 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),l.jsxs("div",{style:{padding:"13px 16px 11px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:9},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:24,height:24,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.55))"}}),l.jsxs("span",{style:{fontSize:14,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("button",{onClick:Ce,title:"Click to switch network",style:{fontSize:8,color:jt,fontWeight:700,letterSpacing:"0.1em",background:`${jt}15`,border:`1px solid ${jt}35`,borderRadius:4,padding:"3px 8px",cursor:"pointer",...z},children:Ae[o]??o.toUpperCase()}),Pt&&l.jsx("button",{onClick:W,title:"Lock wallet",style:{background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:4,padding:"3px 8px",color:a.dim,fontSize:9,cursor:"pointer",...z},children:""})]})]}),ut?l.jsxs("div",{style:{padding:"20px 16px 16px",borderBottom:`1px solid ${a.border}`,textAlign:"center",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:16},children:[l.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:a.ok,flexShrink:0,boxShadow:`0 0 6px ${a.ok}`}}),l.jsx("span",{style:{fontSize:9,color:a.dim,letterSpacing:"0.04em"},children:ko(ut)}),l.jsx("button",{onClick:le,style:{...oe(y?a.ok:a.dim,!0),padding:"3px 8px",fontSize:8,letterSpacing:"0.08em",color:y?a.ok:a.dim,minWidth:56},children:y?"COPIED":"COPY"})]}),l.jsxs("div",{style:{marginBottom:6},children:[l.jsx("div",{style:{fontSize:7,color:a.dim,letterSpacing:"0.1em",marginBottom:6},children:"TOTAL PORTFOLIO VALUE"}),l.jsx("div",{style:{fontSize:38,fontWeight:700,color:a.text,letterSpacing:"0.005em",lineHeight:1},children:Gt})]}),l.jsx("div",{style:{display:"flex",gap:8,marginTop:16},children:[{label:"SEND",action:()=>{v("wallet"),E("send")}},{label:"RECEIVE",action:()=>{v("wallet"),E("receive")}},{label:"SWAP",action:()=>v("swap")}].map(M=>l.jsx("button",{onClick:M.action,style:{flex:1,background:`linear-gradient(145deg, ${a.accent}1A, rgba(8,13,20,0.7))`,border:`1px solid ${a.accent}40`,borderRadius:10,padding:"9px 0",color:a.accent,fontSize:9,fontWeight:700,cursor:"pointer",...z,letterSpacing:"0.1em",transition:"background 0.15s, border-color 0.15s"},children:M.label},M.label))})]}):l.jsxs("div",{style:{padding:"28px 16px",textAlign:"center",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:[l.jsx("div",{style:{fontSize:10,color:a.dim,marginBottom:12},children:"No wallet connected"}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,color:"#04110E",border:"none",borderRadius:10,padding:"10px 20px",fontSize:10,fontWeight:700,cursor:"pointer",...z,letterSpacing:"0.08em"},children:"OPEN FORGE-OS "})]}),l.jsx("div",{style:{display:"flex",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:["wallet","swap","agents","security"].map(M=>l.jsx("button",{onClick:()=>v(M),style:{flex:1,background:h===M?`${a.accent}08`:"none",border:"none",borderBottom:`2px solid ${h===M?a.accent:"transparent"}`,color:h===M?a.accent:a.dim,fontSize:9,fontWeight:700,cursor:"pointer",padding:"9px 0",letterSpacing:"0.1em",...z,textTransform:"uppercase",transition:"color 0.15s, border-color 0.15s, background 0.15s",boxShadow:h===M?`0 2px 12px ${a.accent}25`:"none"},children:M},M))}),l.jsxs("div",{style:{flex:1,overflow:"auto",position:"relative",zIndex:1},children:[h==="wallet"&&l.jsx(x0,{address:ut,balance:s,usdPrice:c,network:o,onOpenSwap:()=>v("swap"),mode:A,onModeConsumed:()=>E(void 0),onBalanceInvalidated:()=>(n==null?void 0:n.address)&&b(n.address,o)}),h==="swap"&&l.jsx(Mv,{}),h==="agents"&&l.jsx(j0,{network:o}),h==="security"&&l.jsx(R0,{address:ut,network:o,isManagedWallet:Pt,autoLockMinutes:x,persistUnlockSessionEnabled:p,onAutoLockMinutesChange:pe,onPersistUnlockSessionChange:Oe,onLock:W})]}),l.jsxs("div",{style:{padding:"7px 16px",borderTop:`1px solid ${a.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{style:{fontSize:7,color:a.muted,letterSpacing:"0.06em"},children:"FORGE-OS"}),ye&&l.jsxs("span",{style:{fontSize:7,color:a.dim,letterSpacing:"0.04em"},children:[" ",Ey[o]??10," BPS  DAA ",(parseInt(ye,10)/1e6).toFixed(1),"M"]})]}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:"none",border:"none",color:a.accent,fontSize:7,cursor:"pointer",...z,letterSpacing:"0.06em"},children:"OPEN SITE "})]})]})}pp(document.getElementById("root")).render(l.jsx(k.StrictMode,{children:l.jsx(sS,{})}));
