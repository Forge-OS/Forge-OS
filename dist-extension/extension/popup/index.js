(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Od={exports:{}},rs={},Ld={exports:{}},X={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lo=Symbol.for("react.element"),oh=Symbol.for("react.portal"),ih=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),lh=Symbol.for("react.profiler"),ah=Symbol.for("react.provider"),uh=Symbol.for("react.context"),ch=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),fh=Symbol.for("react.memo"),ph=Symbol.for("react.lazy"),Uu=Symbol.iterator;function mh(e){return e===null||typeof e!="object"?null:(e=Uu&&e[Uu]||e["@@iterator"],typeof e=="function"?e:null)}var Dd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bd=Object.assign,zd={};function br(e,t,n){this.props=e,this.context=t,this.refs=zd,this.updater=n||Dd}br.prototype.isReactComponent={};br.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};br.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Md(){}Md.prototype=br.prototype;function ha(e,t,n){this.props=e,this.context=t,this.refs=zd,this.updater=n||Dd}var ga=ha.prototype=new Md;ga.constructor=ha;bd(ga,br.prototype);ga.isPureReactComponent=!0;var Bu=Array.isArray,Fd=Object.prototype.hasOwnProperty,ya={current:null},Ud={key:!0,ref:!0,__self:!0,__source:!0};function Bd(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Fd.call(t,r)&&!Ud.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:Lo,type:e,key:i,ref:s,props:o,_owner:ya.current}}function hh(e,t){return{$$typeof:Lo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function va(e){return typeof e=="object"&&e!==null&&e.$$typeof===Lo}function gh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var $u=/\/+/g;function Ts(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gh(""+e.key):t.toString(36)}function ci(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Lo:case oh:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Ts(s,0):r,Bu(o)?(n="",e!=null&&(n=e.replace($u,"$&/")+"/"),ci(o,t,n,"",function(d){return d})):o!=null&&(va(o)&&(o=hh(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace($u,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Bu(e))for(var u=0;u<e.length;u++){i=e[u];var c=r+Ts(i,u);s+=ci(i,t,n,c,o)}else if(c=mh(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=r+Ts(i,u++),s+=ci(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ko(e,t,n){if(e==null)return e;var r=[],o=0;return ci(e,r,"","",function(i){return t.call(n,i,o++)}),r}function yh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var qe={current:null},di={transition:null},vh={ReactCurrentDispatcher:qe,ReactCurrentBatchConfig:di,ReactCurrentOwner:ya};function $d(){throw Error("act(...) is not supported in production builds of React.")}X.Children={map:Ko,forEach:function(e,t,n){Ko(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ko(e,function(){t++}),t},toArray:function(e){return Ko(e,function(t){return t})||[]},only:function(e){if(!va(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};X.Component=br;X.Fragment=ih;X.Profiler=lh;X.PureComponent=ha;X.StrictMode=sh;X.Suspense=dh;X.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vh;X.act=$d;X.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=bd({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=ya.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)Fd.call(t,c)&&!Ud.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:Lo,type:e.type,key:o,ref:i,props:r,_owner:s}};X.createContext=function(e){return e={$$typeof:uh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ah,_context:e},e.Consumer=e};X.createElement=Bd;X.createFactory=function(e){var t=Bd.bind(null,e);return t.type=e,t};X.createRef=function(){return{current:null}};X.forwardRef=function(e){return{$$typeof:ch,render:e}};X.isValidElement=va;X.lazy=function(e){return{$$typeof:ph,_payload:{_status:-1,_result:e},_init:yh}};X.memo=function(e,t){return{$$typeof:fh,type:e,compare:t===void 0?null:t}};X.startTransition=function(e){var t=di.transition;di.transition={};try{e()}finally{di.transition=t}};X.unstable_act=$d;X.useCallback=function(e,t){return qe.current.useCallback(e,t)};X.useContext=function(e){return qe.current.useContext(e)};X.useDebugValue=function(){};X.useDeferredValue=function(e){return qe.current.useDeferredValue(e)};X.useEffect=function(e,t){return qe.current.useEffect(e,t)};X.useId=function(){return qe.current.useId()};X.useImperativeHandle=function(e,t,n){return qe.current.useImperativeHandle(e,t,n)};X.useInsertionEffect=function(e,t){return qe.current.useInsertionEffect(e,t)};X.useLayoutEffect=function(e,t){return qe.current.useLayoutEffect(e,t)};X.useMemo=function(e,t){return qe.current.useMemo(e,t)};X.useReducer=function(e,t,n){return qe.current.useReducer(e,t,n)};X.useRef=function(e){return qe.current.useRef(e)};X.useState=function(e){return qe.current.useState(e)};X.useSyncExternalStore=function(e,t,n){return qe.current.useSyncExternalStore(e,t,n)};X.useTransition=function(){return qe.current.useTransition()};X.version="18.3.1";Ld.exports=X;var w=Ld.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=w,xh=Symbol.for("react.element"),wh=Symbol.for("react.fragment"),Eh=Object.prototype.hasOwnProperty,kh=Sh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ah={key:!0,ref:!0,__self:!0,__source:!0};function Kd(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Eh.call(t,r)&&!Ah.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:xh,type:e,key:i,ref:s,props:o,_owner:kh.current}}rs.Fragment=wh;rs.jsx=Kd;rs.jsxs=Kd;Od.exports=rs;var l=Od.exports,Wd={exports:{}},St={},Vd={exports:{}},Hd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,z){var F=P.length;P.push(z);e:for(;0<F;){var G=F-1>>>1,B=P[G];if(0<o(B,z))P[G]=z,P[F]=B,F=G;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var z=P[0],F=P.pop();if(F!==z){P[0]=F;e:for(var G=0,B=P.length,te=B>>>1;G<te;){var ne=2*(G+1)-1,Z=P[ne],fe=ne+1,O=P[fe];if(0>o(Z,F))fe<B&&0>o(O,Z)?(P[G]=O,P[fe]=F,G=fe):(P[G]=Z,P[ne]=F,G=ne);else if(fe<B&&0>o(O,F))P[G]=O,P[fe]=F,G=fe;else break e}}return z}function o(P,z){var F=P.sortIndex-z.sortIndex;return F!==0?F:P.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],d=[],g=1,m=null,h=3,S=!1,A=!1,k=!1,E=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=P)r(d),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(d)}}function x(P){if(k=!1,y(P),!A)if(n(c)!==null)A=!0,Ie(_);else{var z=n(d);z!==null&&J(x,z.startTime-P)}}function _(P,z){A=!1,k&&(k=!1,f(N),N=-1),S=!0;var F=h;try{for(y(z),m=n(c);m!==null&&(!(m.expirationTime>z)||P&&!H());){var G=m.callback;if(typeof G=="function"){m.callback=null,h=m.priorityLevel;var B=G(m.expirationTime<=z);z=e.unstable_now(),typeof B=="function"?m.callback=B:m===n(c)&&r(c),y(z)}else r(c);m=n(c)}if(m!==null)var te=!0;else{var ne=n(d);ne!==null&&J(x,ne.startTime-z),te=!1}return te}finally{m=null,h=F,S=!1}}var C=!1,R=null,N=-1,W=5,K=-1;function H(){return!(e.unstable_now()-K<W)}function Se(){if(R!==null){var P=e.unstable_now();K=P;var z=!0;try{z=R(!0,P)}finally{z?le():(C=!1,R=null)}}else C=!1}var le;if(typeof p=="function")le=function(){p(Se)};else if(typeof MessageChannel<"u"){var we=new MessageChannel,Oe=we.port2;we.port1.onmessage=Se,le=function(){Oe.postMessage(null)}}else le=function(){E(Se,0)};function Ie(P){R=P,C||(C=!0,le())}function J(P,z){N=E(function(){P(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){A||S||(A=!0,Ie(_))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var F=h;h=z;try{return P()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=h;h=P;try{return z()}finally{h=F}},e.unstable_scheduleCallback=function(P,z,F){var G=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?G+F:G):F=G,P){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=F+B,P={id:g++,callback:z,priorityLevel:P,startTime:F,expirationTime:B,sortIndex:-1},F>G?(P.sortIndex=F,t(d,P),n(c)===null&&P===n(d)&&(k?(f(N),N=-1):k=!0,J(x,F-G))):(P.sortIndex=B,t(c,P),A||S||(A=!0,Ie(_))),P},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(P){var z=h;return function(){var F=h;h=z;try{return P.apply(this,arguments)}finally{h=F}}}})(Hd);Vd.exports=Hd;var Th=Vd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih=w,vt=Th;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gd=new Set,ho={};function Jn(e,t){_r(e,t),_r(e+"Capture",t)}function _r(e,t){for(ho[e]=t,e=0;e<t.length;e++)Gd.add(t[e])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dl=Object.prototype.hasOwnProperty,_h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ku={},Wu={};function Ch(e){return dl.call(Wu,e)?!0:dl.call(Ku,e)?!1:_h.test(e)?Wu[e]=!0:(Ku[e]=!0,!1)}function Nh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ph(e,t,n,r){if(t===null||typeof t>"u"||Nh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function et(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Be={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Be[e]=new et(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Be[t]=new et(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Be[e]=new et(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Be[e]=new et(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Be[e]=new et(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Be[e]=new et(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Be[e]=new et(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Be[e]=new et(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Be[e]=new et(e,5,!1,e.toLowerCase(),null,!1,!1)});var Sa=/[\-:]([a-z])/g;function xa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Sa,xa);Be[t]=new et(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Sa,xa);Be[t]=new et(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Sa,xa);Be[t]=new et(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Be[e]=new et(e,1,!1,e.toLowerCase(),null,!1,!1)});Be.xlinkHref=new et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Be[e]=new et(e,1,!1,e.toLowerCase(),null,!0,!0)});function wa(e,t,n,r){var o=Be.hasOwnProperty(t)?Be[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ph(t,n,o,r)&&(n=null),r||o===null?Ch(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var un=Ih.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wo=Symbol.for("react.element"),sr=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),Ea=Symbol.for("react.strict_mode"),fl=Symbol.for("react.profiler"),Xd=Symbol.for("react.provider"),Qd=Symbol.for("react.context"),ka=Symbol.for("react.forward_ref"),pl=Symbol.for("react.suspense"),ml=Symbol.for("react.suspense_list"),Aa=Symbol.for("react.memo"),dn=Symbol.for("react.lazy"),Yd=Symbol.for("react.offscreen"),Vu=Symbol.iterator;function Ur(e){return e===null||typeof e!="object"?null:(e=Vu&&e[Vu]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Is;function Yr(e){if(Is===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Is=t&&t[1]||""}return`
`+Is+e}var _s=!1;function Cs(e,t){if(!e||_s)return"";_s=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,u=i.length-1;1<=s&&0<=u&&o[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(o[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||o[s]!==i[u]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{_s=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Yr(e):""}function jh(e){switch(e.tag){case 5:return Yr(e.type);case 16:return Yr("Lazy");case 13:return Yr("Suspense");case 19:return Yr("SuspenseList");case 0:case 2:case 15:return e=Cs(e.type,!1),e;case 11:return e=Cs(e.type.render,!1),e;case 1:return e=Cs(e.type,!0),e;default:return""}}function hl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lr:return"Fragment";case sr:return"Portal";case fl:return"Profiler";case Ea:return"StrictMode";case pl:return"Suspense";case ml:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Qd:return(e.displayName||"Context")+".Consumer";case Xd:return(e._context.displayName||"Context")+".Provider";case ka:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Aa:return t=e.displayName||null,t!==null?t:hl(e.type)||"Memo";case dn:t=e._payload,e=e._init;try{return hl(e(t))}catch{}}return null}function Rh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hl(t);case 8:return t===Ea?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Oh(e){var t=Zd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vo(e){e._valueTracker||(e._valueTracker=Oh(e))}function Jd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Zd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gl(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Hu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qd(e,t){t=t.checked,t!=null&&wa(e,"checked",t,!1)}function yl(e,t){qd(e,t);var n=Cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?vl(e,t.type,n):t.hasOwnProperty("defaultValue")&&vl(e,t.type,Cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Gu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function vl(e,t,n){(t!=="number"||Ai(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Zr=Array.isArray;function xr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Cn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Sl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Zr(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Cn(n)}}function ef(e,t){var n=Cn(t.value),r=Cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Qu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function tf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?tf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ho,nf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function go(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var eo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lh=["Webkit","ms","Moz","O"];Object.keys(eo).forEach(function(e){Lh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),eo[t]=eo[e]})});function rf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||eo.hasOwnProperty(e)&&eo[e]?(""+t).trim():t+"px"}function of(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=rf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Dh=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wl(e,t){if(t){if(Dh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function El(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kl=null;function Ta(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Al=null,wr=null,Er=null;function Yu(e){if(e=zo(e)){if(typeof Al!="function")throw Error(I(280));var t=e.stateNode;t&&(t=as(t),Al(e.stateNode,e.type,t))}}function sf(e){wr?Er?Er.push(e):Er=[e]:wr=e}function lf(){if(wr){var e=wr,t=Er;if(Er=wr=null,Yu(e),t)for(e=0;e<t.length;e++)Yu(t[e])}}function af(e,t){return e(t)}function uf(){}var Ns=!1;function cf(e,t,n){if(Ns)return e(t,n);Ns=!0;try{return af(e,t,n)}finally{Ns=!1,(wr!==null||Er!==null)&&(uf(),lf())}}function yo(e,t){var n=e.stateNode;if(n===null)return null;var r=as(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Tl=!1;if(on)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Tl=!1}function bh(e,t,n,r,o,i,s,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(g){this.onError(g)}}var to=!1,Ti=null,Ii=!1,Il=null,zh={onError:function(e){to=!0,Ti=e}};function Mh(e,t,n,r,o,i,s,u,c){to=!1,Ti=null,bh.apply(zh,arguments)}function Fh(e,t,n,r,o,i,s,u,c){if(Mh.apply(this,arguments),to){if(to){var d=Ti;to=!1,Ti=null}else throw Error(I(198));Ii||(Ii=!0,Il=d)}}function qn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function df(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Zu(e){if(qn(e)!==e)throw Error(I(188))}function Uh(e){var t=e.alternate;if(!t){if(t=qn(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Zu(o),e;if(i===r)return Zu(o),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function ff(e){return e=Uh(e),e!==null?pf(e):null}function pf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pf(e);if(t!==null)return t;e=e.sibling}return null}var mf=vt.unstable_scheduleCallback,Ju=vt.unstable_cancelCallback,Bh=vt.unstable_shouldYield,$h=vt.unstable_requestPaint,Te=vt.unstable_now,Kh=vt.unstable_getCurrentPriorityLevel,Ia=vt.unstable_ImmediatePriority,hf=vt.unstable_UserBlockingPriority,_i=vt.unstable_NormalPriority,Wh=vt.unstable_LowPriority,gf=vt.unstable_IdlePriority,os=null,Xt=null;function Vh(e){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(os,e,void 0,(e.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:Xh,Hh=Math.log,Gh=Math.LN2;function Xh(e){return e>>>=0,e===0?32:31-(Hh(e)/Gh|0)|0}var Go=64,Xo=4194304;function Jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ci(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~o;u!==0?r=Jr(u):(i&=s,i!==0&&(r=Jr(i)))}else s=n&~o,s!==0?r=Jr(s):i!==0&&(r=Jr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ft(t),o=1<<n,r|=e[n],t&=~o;return r}function Qh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Ft(i),u=1<<s,c=o[s];c===-1?(!(u&n)||u&r)&&(o[s]=Qh(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function _l(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function yf(){var e=Go;return Go<<=1,!(Go&4194240)&&(Go=64),e}function Ps(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Do(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ft(t),e[t]=n}function Zh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ft(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function _a(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ft(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var re=0;function vf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sf,Ca,xf,wf,Ef,Cl=!1,Qo=[],xn=null,wn=null,En=null,vo=new Map,So=new Map,pn=[],Jh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qu(e,t){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":wn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(t.pointerId)}}function $r(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=zo(t),t!==null&&Ca(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function qh(e,t,n,r,o){switch(t){case"focusin":return xn=$r(xn,e,t,n,r,o),!0;case"dragenter":return wn=$r(wn,e,t,n,r,o),!0;case"mouseover":return En=$r(En,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return vo.set(i,$r(vo.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,So.set(i,$r(So.get(i)||null,e,t,n,r,o)),!0}return!1}function kf(e){var t=zn(e.target);if(t!==null){var n=qn(t);if(n!==null){if(t=n.tag,t===13){if(t=df(n),t!==null){e.blockedOn=t,Ef(e.priority,function(){xf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);kl=r,n.target.dispatchEvent(r),kl=null}else return t=zo(n),t!==null&&Ca(t),e.blockedOn=n,!1;t.shift()}return!0}function ec(e,t,n){fi(e)&&n.delete(t)}function eg(){Cl=!1,xn!==null&&fi(xn)&&(xn=null),wn!==null&&fi(wn)&&(wn=null),En!==null&&fi(En)&&(En=null),vo.forEach(ec),So.forEach(ec)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,Cl||(Cl=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,eg)))}function xo(e){function t(o){return Kr(o,e)}if(0<Qo.length){Kr(Qo[0],e);for(var n=1;n<Qo.length;n++){var r=Qo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xn!==null&&Kr(xn,e),wn!==null&&Kr(wn,e),En!==null&&Kr(En,e),vo.forEach(t),So.forEach(t),n=0;n<pn.length;n++)r=pn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pn.length&&(n=pn[0],n.blockedOn===null);)kf(n),n.blockedOn===null&&pn.shift()}var kr=un.ReactCurrentBatchConfig,Ni=!0;function tg(e,t,n,r){var o=re,i=kr.transition;kr.transition=null;try{re=1,Na(e,t,n,r)}finally{re=o,kr.transition=i}}function ng(e,t,n,r){var o=re,i=kr.transition;kr.transition=null;try{re=4,Na(e,t,n,r)}finally{re=o,kr.transition=i}}function Na(e,t,n,r){if(Ni){var o=Nl(e,t,n,r);if(o===null)Us(e,t,r,Pi,n),qu(e,r);else if(qh(o,e,t,n,r))r.stopPropagation();else if(qu(e,r),t&4&&-1<Jh.indexOf(e)){for(;o!==null;){var i=zo(o);if(i!==null&&Sf(i),i=Nl(e,t,n,r),i===null&&Us(e,t,r,Pi,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Us(e,t,r,null,n)}}var Pi=null;function Nl(e,t,n,r){if(Pi=null,e=Ta(r),e=zn(e),e!==null)if(t=qn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=df(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Pi=e,null}function Af(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kh()){case Ia:return 1;case hf:return 4;case _i:case Wh:return 16;case gf:return 536870912;default:return 16}default:return 16}}var gn=null,Pa=null,pi=null;function Tf(){if(pi)return pi;var e,t=Pa,n=t.length,r,o="value"in gn?gn.value:gn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return pi=o.slice(e,1<r?1-r:void 0)}function mi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Yo(){return!0}function tc(){return!1}function xt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Yo:tc,this.isPropagationStopped=tc,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yo)},persist:function(){},isPersistent:Yo}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ja=xt(zr),bo=ye({},zr,{view:0,detail:0}),rg=xt(bo),js,Rs,Wr,is=ye({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wr&&(Wr&&e.type==="mousemove"?(js=e.screenX-Wr.screenX,Rs=e.screenY-Wr.screenY):Rs=js=0,Wr=e),js)},movementY:function(e){return"movementY"in e?e.movementY:Rs}}),nc=xt(is),og=ye({},is,{dataTransfer:0}),ig=xt(og),sg=ye({},bo,{relatedTarget:0}),Os=xt(sg),lg=ye({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),ag=xt(lg),ug=ye({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cg=xt(ug),dg=ye({},zr,{data:0}),rc=xt(dg),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mg[e])?!!t[e]:!1}function Ra(){return hg}var gg=ye({},bo,{key:function(e){if(e.key){var t=fg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=mi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(e){return e.type==="keypress"?mi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?mi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yg=xt(gg),vg=ye({},is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oc=xt(vg),Sg=ye({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),xg=xt(Sg),wg=ye({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eg=xt(wg),kg=ye({},is,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ag=xt(kg),Tg=[9,13,27,32],Oa=on&&"CompositionEvent"in window,no=null;on&&"documentMode"in document&&(no=document.documentMode);var Ig=on&&"TextEvent"in window&&!no,If=on&&(!Oa||no&&8<no&&11>=no),ic=" ",sc=!1;function _f(e,t){switch(e){case"keyup":return Tg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function _g(e,t){switch(e){case"compositionend":return Cf(t);case"keypress":return t.which!==32?null:(sc=!0,ic);case"textInput":return e=t.data,e===ic&&sc?null:e;default:return null}}function Cg(e,t){if(ar)return e==="compositionend"||!Oa&&_f(e,t)?(e=Tf(),pi=Pa=gn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return If&&t.locale!=="ko"?null:t.data;default:return null}}var Ng={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ng[e.type]:t==="textarea"}function Nf(e,t,n,r){sf(r),t=ji(t,"onChange"),0<t.length&&(n=new ja("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ro=null,wo=null;function Pg(e){Uf(e,0)}function ss(e){var t=dr(e);if(Jd(t))return e}function jg(e,t){if(e==="change")return t}var Pf=!1;if(on){var Ls;if(on){var Ds="oninput"in document;if(!Ds){var ac=document.createElement("div");ac.setAttribute("oninput","return;"),Ds=typeof ac.oninput=="function"}Ls=Ds}else Ls=!1;Pf=Ls&&(!document.documentMode||9<document.documentMode)}function uc(){ro&&(ro.detachEvent("onpropertychange",jf),wo=ro=null)}function jf(e){if(e.propertyName==="value"&&ss(wo)){var t=[];Nf(t,wo,e,Ta(e)),cf(Pg,t)}}function Rg(e,t,n){e==="focusin"?(uc(),ro=t,wo=n,ro.attachEvent("onpropertychange",jf)):e==="focusout"&&uc()}function Og(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ss(wo)}function Lg(e,t){if(e==="click")return ss(t)}function Dg(e,t){if(e==="input"||e==="change")return ss(t)}function bg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bt=typeof Object.is=="function"?Object.is:bg;function Eo(e,t){if(Bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!dl.call(t,o)||!Bt(e[o],t[o]))return!1}return!0}function cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dc(e,t){var n=cc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=cc(n)}}function Rf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Of(){for(var e=window,t=Ai();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ai(e.document)}return t}function La(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zg(e){var t=Of(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rf(n.ownerDocument.documentElement,n)){if(r!==null&&La(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=dc(n,i);var s=dc(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Mg=on&&"documentMode"in document&&11>=document.documentMode,ur=null,Pl=null,oo=null,jl=!1;function fc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jl||ur==null||ur!==Ai(r)||(r=ur,"selectionStart"in r&&La(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),oo&&Eo(oo,r)||(oo=r,r=ji(Pl,"onSelect"),0<r.length&&(t=new ja("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ur)))}function Zo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:Zo("Animation","AnimationEnd"),animationiteration:Zo("Animation","AnimationIteration"),animationstart:Zo("Animation","AnimationStart"),transitionend:Zo("Transition","TransitionEnd")},bs={},Lf={};on&&(Lf=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function ls(e){if(bs[e])return bs[e];if(!cr[e])return e;var t=cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Lf)return bs[e]=t[n];return e}var Df=ls("animationend"),bf=ls("animationiteration"),zf=ls("animationstart"),Mf=ls("transitionend"),Ff=new Map,pc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jn(e,t){Ff.set(e,t),Jn(t,[e])}for(var zs=0;zs<pc.length;zs++){var Ms=pc[zs],Fg=Ms.toLowerCase(),Ug=Ms[0].toUpperCase()+Ms.slice(1);jn(Fg,"on"+Ug)}jn(Df,"onAnimationEnd");jn(bf,"onAnimationIteration");jn(zf,"onAnimationStart");jn("dblclick","onDoubleClick");jn("focusin","onFocus");jn("focusout","onBlur");jn(Mf,"onTransitionEnd");_r("onMouseEnter",["mouseout","mouseover"]);_r("onMouseLeave",["mouseout","mouseover"]);_r("onPointerEnter",["pointerout","pointerover"]);_r("onPointerLeave",["pointerout","pointerover"]);Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bg=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function mc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fh(r,t,void 0,e),e.currentTarget=null}function Uf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&o.isPropagationStopped())break e;mc(o,u,d),i=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&o.isPropagationStopped())break e;mc(o,u,d),i=c}}}if(Ii)throw e=Il,Ii=!1,Il=null,e}function ue(e,t){var n=t[bl];n===void 0&&(n=t[bl]=new Set);var r=e+"__bubble";n.has(r)||(Bf(t,e,2,!1),n.add(r))}function Fs(e,t,n){var r=0;t&&(r|=4),Bf(n,e,r,t)}var Jo="_reactListening"+Math.random().toString(36).slice(2);function ko(e){if(!e[Jo]){e[Jo]=!0,Gd.forEach(function(n){n!=="selectionchange"&&(Bg.has(n)||Fs(n,!1,e),Fs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Jo]||(t[Jo]=!0,Fs("selectionchange",!1,t))}}function Bf(e,t,n,r){switch(Af(t)){case 1:var o=tg;break;case 4:o=ng;break;default:o=Na}n=o.bind(null,t,n,e),o=void 0,!Tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Us(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;u!==null;){if(s=zn(u),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}u=u.parentNode}}r=r.return}cf(function(){var d=i,g=Ta(n),m=[];e:{var h=Ff.get(e);if(h!==void 0){var S=ja,A=e;switch(e){case"keypress":if(mi(n)===0)break e;case"keydown":case"keyup":S=yg;break;case"focusin":A="focus",S=Os;break;case"focusout":A="blur",S=Os;break;case"beforeblur":case"afterblur":S=Os;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":S=nc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":S=ig;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":S=xg;break;case Df:case bf:case zf:S=ag;break;case Mf:S=Eg;break;case"scroll":S=rg;break;case"wheel":S=Ag;break;case"copy":case"cut":case"paste":S=cg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":S=oc}var k=(t&4)!==0,E=!k&&e==="scroll",f=k?h!==null?h+"Capture":null:h;k=[];for(var p=d,y;p!==null;){y=p;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,f!==null&&(x=yo(p,f),x!=null&&k.push(Ao(p,x,y)))),E)break;p=p.return}0<k.length&&(h=new S(h,A,null,n,g),m.push({event:h,listeners:k}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",S=e==="mouseout"||e==="pointerout",h&&n!==kl&&(A=n.relatedTarget||n.fromElement)&&(zn(A)||A[sn]))break e;if((S||h)&&(h=g.window===g?g:(h=g.ownerDocument)?h.defaultView||h.parentWindow:window,S?(A=n.relatedTarget||n.toElement,S=d,A=A?zn(A):null,A!==null&&(E=qn(A),A!==E||A.tag!==5&&A.tag!==6)&&(A=null)):(S=null,A=d),S!==A)){if(k=nc,x="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(k=oc,x="onPointerLeave",f="onPointerEnter",p="pointer"),E=S==null?h:dr(S),y=A==null?h:dr(A),h=new k(x,p+"leave",S,n,g),h.target=E,h.relatedTarget=y,x=null,zn(g)===d&&(k=new k(f,p+"enter",A,n,g),k.target=y,k.relatedTarget=E,x=k),E=x,S&&A)t:{for(k=S,f=A,p=0,y=k;y;y=nr(y))p++;for(y=0,x=f;x;x=nr(x))y++;for(;0<p-y;)k=nr(k),p--;for(;0<y-p;)f=nr(f),y--;for(;p--;){if(k===f||f!==null&&k===f.alternate)break t;k=nr(k),f=nr(f)}k=null}else k=null;S!==null&&hc(m,h,S,k,!1),A!==null&&E!==null&&hc(m,E,A,k,!0)}}e:{if(h=d?dr(d):window,S=h.nodeName&&h.nodeName.toLowerCase(),S==="select"||S==="input"&&h.type==="file")var _=jg;else if(lc(h))if(Pf)_=Dg;else{_=Og;var C=Rg}else(S=h.nodeName)&&S.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(_=Lg);if(_&&(_=_(e,d))){Nf(m,_,n,g);break e}C&&C(e,h,d),e==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&vl(h,"number",h.value)}switch(C=d?dr(d):window,e){case"focusin":(lc(C)||C.contentEditable==="true")&&(ur=C,Pl=d,oo=null);break;case"focusout":oo=Pl=ur=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,fc(m,n,g);break;case"selectionchange":if(Mg)break;case"keydown":case"keyup":fc(m,n,g)}var R;if(Oa)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ar?_f(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(If&&n.locale!=="ko"&&(ar||N!=="onCompositionStart"?N==="onCompositionEnd"&&ar&&(R=Tf()):(gn=g,Pa="value"in gn?gn.value:gn.textContent,ar=!0)),C=ji(d,N),0<C.length&&(N=new rc(N,e,null,n,g),m.push({event:N,listeners:C}),R?N.data=R:(R=Cf(n),R!==null&&(N.data=R)))),(R=Ig?_g(e,n):Cg(e,n))&&(d=ji(d,"onBeforeInput"),0<d.length&&(g=new rc("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:d}),g.data=R))}Uf(m,t)})}function Ao(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ji(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=yo(e,n),i!=null&&r.unshift(Ao(e,i,o)),i=yo(e,t),i!=null&&r.push(Ao(e,i,o))),e=e.return}return r}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hc(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,o?(c=yo(n,i),c!=null&&s.unshift(Ao(n,c,u))):o||(c=yo(n,i),c!=null&&s.push(Ao(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var $g=/\r\n?/g,Kg=/\u0000|\uFFFD/g;function gc(e){return(typeof e=="string"?e:""+e).replace($g,`
`).replace(Kg,"")}function qo(e,t,n){if(t=gc(t),gc(e)!==t&&n)throw Error(I(425))}function Ri(){}var Rl=null,Ol=null;function Ll(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dl=typeof setTimeout=="function"?setTimeout:void 0,Wg=typeof clearTimeout=="function"?clearTimeout:void 0,yc=typeof Promise=="function"?Promise:void 0,Vg=typeof queueMicrotask=="function"?queueMicrotask:typeof yc<"u"?function(e){return yc.resolve(null).then(e).catch(Hg)}:Dl;function Hg(e){setTimeout(function(){throw e})}function Bs(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);xo(t)}function kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Ht="__reactFiber$"+Mr,To="__reactProps$"+Mr,sn="__reactContainer$"+Mr,bl="__reactEvents$"+Mr,Gg="__reactListeners$"+Mr,Xg="__reactHandles$"+Mr;function zn(e){var t=e[Ht];if(t)return t;for(var n=e.parentNode;n;){if(t=n[sn]||n[Ht]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vc(e);e!==null;){if(n=e[Ht])return n;e=vc(e)}return t}e=n,n=e.parentNode}return null}function zo(e){return e=e[Ht]||e[sn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function as(e){return e[To]||null}var zl=[],fr=-1;function Rn(e){return{current:e}}function ce(e){0>fr||(e.current=zl[fr],zl[fr]=null,fr--)}function se(e,t){fr++,zl[fr]=e.current,e.current=t}var Nn={},Qe=Rn(Nn),st=Rn(!1),Hn=Nn;function Cr(e,t){var n=e.type.contextTypes;if(!n)return Nn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function lt(e){return e=e.childContextTypes,e!=null}function Oi(){ce(st),ce(Qe)}function Sc(e,t,n){if(Qe.current!==Nn)throw Error(I(168));se(Qe,t),se(st,n)}function $f(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(I(108,Rh(e)||"Unknown",o));return ye({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nn,Hn=Qe.current,se(Qe,e),se(st,st.current),!0}function xc(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=$f(e,t,Hn),r.__reactInternalMemoizedMergedChildContext=e,ce(st),ce(Qe),se(Qe,e)):ce(st),se(st,n)}var qt=null,us=!1,$s=!1;function Kf(e){qt===null?qt=[e]:qt.push(e)}function Qg(e){us=!0,Kf(e)}function On(){if(!$s&&qt!==null){$s=!0;var e=0,t=re;try{var n=qt;for(re=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}qt=null,us=!1}catch(o){throw qt!==null&&(qt=qt.slice(e+1)),mf(Ia,On),o}finally{re=t,$s=!1}}return null}var pr=[],mr=0,Di=null,bi=0,kt=[],At=0,Gn=null,en=1,tn="";function Dn(e,t){pr[mr++]=bi,pr[mr++]=Di,Di=e,bi=t}function Wf(e,t,n){kt[At++]=en,kt[At++]=tn,kt[At++]=Gn,Gn=e;var r=en;e=tn;var o=32-Ft(r)-1;r&=~(1<<o),n+=1;var i=32-Ft(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,en=1<<32-Ft(t)+o|n<<o|r,tn=i+e}else en=1<<i|n<<o|r,tn=e}function Da(e){e.return!==null&&(Dn(e,1),Wf(e,1,0))}function ba(e){for(;e===Di;)Di=pr[--mr],pr[mr]=null,bi=pr[--mr],pr[mr]=null;for(;e===Gn;)Gn=kt[--At],kt[At]=null,tn=kt[--At],kt[At]=null,en=kt[--At],kt[At]=null}var yt=null,gt=null,de=!1,Mt=null;function Vf(e,t){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function wc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,gt=kn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Gn!==null?{id:en,overflow:tn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,yt=e,gt=null,!0):!1;default:return!1}}function Ml(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fl(e){if(de){var t=gt;if(t){var n=t;if(!wc(e,t)){if(Ml(e))throw Error(I(418));t=kn(n.nextSibling);var r=yt;t&&wc(e,t)?Vf(r,n):(e.flags=e.flags&-4097|2,de=!1,yt=e)}}else{if(Ml(e))throw Error(I(418));e.flags=e.flags&-4097|2,de=!1,yt=e}}}function Ec(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function ei(e){if(e!==yt)return!1;if(!de)return Ec(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ll(e.type,e.memoizedProps)),t&&(t=gt)){if(Ml(e))throw Hf(),Error(I(418));for(;t;)Vf(e,t),t=kn(t.nextSibling)}if(Ec(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=kn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=yt?kn(e.stateNode.nextSibling):null;return!0}function Hf(){for(var e=gt;e;)e=kn(e.nextSibling)}function Nr(){gt=yt=null,de=!1}function za(e){Mt===null?Mt=[e]:Mt.push(e)}var Yg=un.ReactCurrentBatchConfig;function Vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=o.refs;s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function ti(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function kc(e){var t=e._init;return t(e._payload)}function Gf(e){function t(f,p){if(e){var y=f.deletions;y===null?(f.deletions=[p],f.flags|=16):y.push(p)}}function n(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function o(f,p){return f=_n(f,p),f.index=0,f.sibling=null,f}function i(f,p,y){return f.index=y,e?(y=f.alternate,y!==null?(y=y.index,y<p?(f.flags|=2,p):y):(f.flags|=2,p)):(f.flags|=1048576,p)}function s(f){return e&&f.alternate===null&&(f.flags|=2),f}function u(f,p,y,x){return p===null||p.tag!==6?(p=Qs(y,f.mode,x),p.return=f,p):(p=o(p,y),p.return=f,p)}function c(f,p,y,x){var _=y.type;return _===lr?g(f,p,y.props.children,x,y.key):p!==null&&(p.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===dn&&kc(_)===p.type)?(x=o(p,y.props),x.ref=Vr(f,p,y),x.return=f,x):(x=wi(y.type,y.key,y.props,null,f.mode,x),x.ref=Vr(f,p,y),x.return=f,x)}function d(f,p,y,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ys(y,f.mode,x),p.return=f,p):(p=o(p,y.children||[]),p.return=f,p)}function g(f,p,y,x,_){return p===null||p.tag!==7?(p=Wn(y,f.mode,x,_),p.return=f,p):(p=o(p,y),p.return=f,p)}function m(f,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qs(""+p,f.mode,y),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Wo:return y=wi(p.type,p.key,p.props,null,f.mode,y),y.ref=Vr(f,null,p),y.return=f,y;case sr:return p=Ys(p,f.mode,y),p.return=f,p;case dn:var x=p._init;return m(f,x(p._payload),y)}if(Zr(p)||Ur(p))return p=Wn(p,f.mode,y,null),p.return=f,p;ti(f,p)}return null}function h(f,p,y,x){var _=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:u(f,p,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wo:return y.key===_?c(f,p,y,x):null;case sr:return y.key===_?d(f,p,y,x):null;case dn:return _=y._init,h(f,p,_(y._payload),x)}if(Zr(y)||Ur(y))return _!==null?null:g(f,p,y,x,null);ti(f,y)}return null}function S(f,p,y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return f=f.get(y)||null,u(p,f,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Wo:return f=f.get(x.key===null?y:x.key)||null,c(p,f,x,_);case sr:return f=f.get(x.key===null?y:x.key)||null,d(p,f,x,_);case dn:var C=x._init;return S(f,p,y,C(x._payload),_)}if(Zr(x)||Ur(x))return f=f.get(y)||null,g(p,f,x,_,null);ti(p,x)}return null}function A(f,p,y,x){for(var _=null,C=null,R=p,N=p=0,W=null;R!==null&&N<y.length;N++){R.index>N?(W=R,R=null):W=R.sibling;var K=h(f,R,y[N],x);if(K===null){R===null&&(R=W);break}e&&R&&K.alternate===null&&t(f,R),p=i(K,p,N),C===null?_=K:C.sibling=K,C=K,R=W}if(N===y.length)return n(f,R),de&&Dn(f,N),_;if(R===null){for(;N<y.length;N++)R=m(f,y[N],x),R!==null&&(p=i(R,p,N),C===null?_=R:C.sibling=R,C=R);return de&&Dn(f,N),_}for(R=r(f,R);N<y.length;N++)W=S(R,f,N,y[N],x),W!==null&&(e&&W.alternate!==null&&R.delete(W.key===null?N:W.key),p=i(W,p,N),C===null?_=W:C.sibling=W,C=W);return e&&R.forEach(function(H){return t(f,H)}),de&&Dn(f,N),_}function k(f,p,y,x){var _=Ur(y);if(typeof _!="function")throw Error(I(150));if(y=_.call(y),y==null)throw Error(I(151));for(var C=_=null,R=p,N=p=0,W=null,K=y.next();R!==null&&!K.done;N++,K=y.next()){R.index>N?(W=R,R=null):W=R.sibling;var H=h(f,R,K.value,x);if(H===null){R===null&&(R=W);break}e&&R&&H.alternate===null&&t(f,R),p=i(H,p,N),C===null?_=H:C.sibling=H,C=H,R=W}if(K.done)return n(f,R),de&&Dn(f,N),_;if(R===null){for(;!K.done;N++,K=y.next())K=m(f,K.value,x),K!==null&&(p=i(K,p,N),C===null?_=K:C.sibling=K,C=K);return de&&Dn(f,N),_}for(R=r(f,R);!K.done;N++,K=y.next())K=S(R,f,N,K.value,x),K!==null&&(e&&K.alternate!==null&&R.delete(K.key===null?N:K.key),p=i(K,p,N),C===null?_=K:C.sibling=K,C=K);return e&&R.forEach(function(Se){return t(f,Se)}),de&&Dn(f,N),_}function E(f,p,y,x){if(typeof y=="object"&&y!==null&&y.type===lr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Wo:e:{for(var _=y.key,C=p;C!==null;){if(C.key===_){if(_=y.type,_===lr){if(C.tag===7){n(f,C.sibling),p=o(C,y.props.children),p.return=f,f=p;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===dn&&kc(_)===C.type){n(f,C.sibling),p=o(C,y.props),p.ref=Vr(f,C,y),p.return=f,f=p;break e}n(f,C);break}else t(f,C);C=C.sibling}y.type===lr?(p=Wn(y.props.children,f.mode,x,y.key),p.return=f,f=p):(x=wi(y.type,y.key,y.props,null,f.mode,x),x.ref=Vr(f,p,y),x.return=f,f=x)}return s(f);case sr:e:{for(C=y.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(f,p.sibling),p=o(p,y.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else t(f,p);p=p.sibling}p=Ys(y,f.mode,x),p.return=f,f=p}return s(f);case dn:return C=y._init,E(f,p,C(y._payload),x)}if(Zr(y))return A(f,p,y,x);if(Ur(y))return k(f,p,y,x);ti(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(f,p.sibling),p=o(p,y),p.return=f,f=p):(n(f,p),p=Qs(y,f.mode,x),p.return=f,f=p),s(f)):n(f,p)}return E}var Pr=Gf(!0),Xf=Gf(!1),zi=Rn(null),Mi=null,hr=null,Ma=null;function Fa(){Ma=hr=Mi=null}function Ua(e){var t=zi.current;ce(zi),e._currentValue=t}function Ul(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){Mi=e,Ma=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ot=!0),e.firstContext=null)}function Nt(e){var t=e._currentValue;if(Ma!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Mi===null)throw Error(I(308));hr=e,Mi.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Mn=null;function Ba(e){Mn===null?Mn=[e]:Mn.push(e)}function Qf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,Ba(t)):(n.next=o.next,o.next=n),t.interleaved=n,ln(e,r)}function ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var fn=!1;function $a(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function An(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,q&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ln(e,n)}return o=r.interleaved,o===null?(t.next=t,Ba(r)):(t.next=o.next,o.next=t),r.interleaved=t,ln(e,n)}function hi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_a(e,n)}}function Ac(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fi(e,t,n,r){var o=e.updateQueue;fn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==s&&(u===null?g.firstBaseUpdate=d:u.next=d,g.lastBaseUpdate=c))}if(i!==null){var m=o.baseState;s=0,g=d=c=null,u=i;do{var h=u.lane,S=u.eventTime;if((r&h)===h){g!==null&&(g=g.next={eventTime:S,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=e,k=u;switch(h=t,S=n,k.tag){case 1:if(A=k.payload,typeof A=="function"){m=A.call(S,m,h);break e}m=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=k.payload,h=typeof A=="function"?A.call(S,m,h):A,h==null)break e;m=ye({},m,h);break e;case 2:fn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[u]:h.push(u))}else S={eventTime:S,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(d=g=S,c=m):g=g.next=S,s|=h;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;h=u,u=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(g===null&&(c=m),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=g,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Qn|=s,e.lanes=s,e.memoizedState=m}}function Tc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(I(191,o));o.call(r)}}}var Mo={},Qt=Rn(Mo),Io=Rn(Mo),_o=Rn(Mo);function Fn(e){if(e===Mo)throw Error(I(174));return e}function Ka(e,t){switch(se(_o,t),se(Io,e),se(Qt,Mo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xl(t,e)}ce(Qt),se(Qt,t)}function jr(){ce(Qt),ce(Io),ce(_o)}function Zf(e){Fn(_o.current);var t=Fn(Qt.current),n=xl(t,e.type);t!==n&&(se(Io,e),se(Qt,n))}function Wa(e){Io.current===e&&(ce(Qt),ce(Io))}var he=Rn(0);function Ui(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ks=[];function Va(){for(var e=0;e<Ks.length;e++)Ks[e]._workInProgressVersionPrimary=null;Ks.length=0}var gi=un.ReactCurrentDispatcher,Ws=un.ReactCurrentBatchConfig,Xn=0,ge=null,Pe=null,be=null,Bi=!1,io=!1,Co=0,Zg=0;function We(){throw Error(I(321))}function Ha(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Bt(e[n],t[n]))return!1;return!0}function Ga(e,t,n,r,o,i){if(Xn=i,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gi.current=e===null||e.memoizedState===null?ty:ny,e=n(r,o),io){i=0;do{if(io=!1,Co=0,25<=i)throw Error(I(301));i+=1,be=Pe=null,t.updateQueue=null,gi.current=ry,e=n(r,o)}while(io)}if(gi.current=$i,t=Pe!==null&&Pe.next!==null,Xn=0,be=Pe=ge=null,Bi=!1,t)throw Error(I(300));return e}function Xa(){var e=Co!==0;return Co=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?ge.memoizedState=be=e:be=be.next=e,be}function Pt(){if(Pe===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=be===null?ge.memoizedState:be.next;if(t!==null)be=t,Pe=e;else{if(e===null)throw Error(I(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},be===null?ge.memoizedState=be=e:be=be.next=e}return be}function No(e,t){return typeof t=="function"?t(e):t}function Vs(e){var t=Pt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=Pe,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=s=null,c=null,d=i;do{var g=d.lane;if((Xn&g)===g)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,s=r):c=c.next=m,ge.lanes|=g,Qn|=g}d=d.next}while(d!==null&&d!==i);c===null?s=r:c.next=u,Bt(r,t.memoizedState)||(ot=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,ge.lanes|=i,Qn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hs(e){var t=Pt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Bt(i,t.memoizedState)||(ot=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Jf(){}function qf(e,t){var n=ge,r=Pt(),o=t(),i=!Bt(r.memoizedState,o);if(i&&(r.memoizedState=o,ot=!0),r=r.queue,Qa(np.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,Po(9,tp.bind(null,n,r,o,t),void 0,null),ze===null)throw Error(I(349));Xn&30||ep(n,t,o)}return o}function ep(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function tp(e,t,n,r){t.value=n,t.getSnapshot=r,rp(t)&&op(e)}function np(e,t,n){return n(function(){rp(t)&&op(e)})}function rp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bt(e,n)}catch{return!0}}function op(e){var t=ln(e,1);t!==null&&Ut(t,e,1,-1)}function Ic(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:e},t.queue=e,e=e.dispatch=ey.bind(null,ge,e),[t.memoizedState,e]}function Po(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function ip(){return Pt().memoizedState}function yi(e,t,n,r){var o=Wt();ge.flags|=e,o.memoizedState=Po(1|t,n,void 0,r===void 0?null:r)}function cs(e,t,n,r){var o=Pt();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var s=Pe.memoizedState;if(i=s.destroy,r!==null&&Ha(r,s.deps)){o.memoizedState=Po(t,n,i,r);return}}ge.flags|=e,o.memoizedState=Po(1|t,n,i,r)}function _c(e,t){return yi(8390656,8,e,t)}function Qa(e,t){return cs(2048,8,e,t)}function sp(e,t){return cs(4,2,e,t)}function lp(e,t){return cs(4,4,e,t)}function ap(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function up(e,t,n){return n=n!=null?n.concat([e]):null,cs(4,4,ap.bind(null,t,e),n)}function Ya(){}function cp(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ha(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function dp(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ha(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function fp(e,t,n){return Xn&21?(Bt(n,t)||(n=yf(),ge.lanes|=n,Qn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ot=!0),e.memoizedState=n)}function Jg(e,t){var n=re;re=n!==0&&4>n?n:4,e(!0);var r=Ws.transition;Ws.transition={};try{e(!1),t()}finally{re=n,Ws.transition=r}}function pp(){return Pt().memoizedState}function qg(e,t,n){var r=In(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mp(e))hp(t,n);else if(n=Qf(e,t,n,r),n!==null){var o=Je();Ut(n,e,r,o),gp(n,t,r)}}function ey(e,t,n){var r=In(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mp(e))hp(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,n);if(o.hasEagerState=!0,o.eagerState=u,Bt(u,s)){var c=t.interleaved;c===null?(o.next=o,Ba(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Qf(e,t,o,r),n!==null&&(o=Je(),Ut(n,e,r,o),gp(n,t,r))}}function mp(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function hp(e,t){io=Bi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function gp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,_a(e,n)}}var $i={readContext:Nt,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useInsertionEffect:We,useLayoutEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useMutableSource:We,useSyncExternalStore:We,useId:We,unstable_isNewReconciler:!1},ty={readContext:Nt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Nt,useEffect:_c,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yi(4194308,4,ap.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qg.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Ic,useDebugValue:Ya,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Ic(!1),t=e[0];return e=Jg.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,o=Wt();if(de){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),ze===null)throw Error(I(349));Xn&30||ep(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,_c(np.bind(null,r,i,e),[e]),r.flags|=2048,Po(9,tp.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Wt(),t=ze.identifierPrefix;if(de){var n=tn,r=en;n=(r&~(1<<32-Ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ny={readContext:Nt,useCallback:cp,useContext:Nt,useEffect:Qa,useImperativeHandle:up,useInsertionEffect:sp,useLayoutEffect:lp,useMemo:dp,useReducer:Vs,useRef:ip,useState:function(){return Vs(No)},useDebugValue:Ya,useDeferredValue:function(e){var t=Pt();return fp(t,Pe.memoizedState,e)},useTransition:function(){var e=Vs(No)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Jf,useSyncExternalStore:qf,useId:pp,unstable_isNewReconciler:!1},ry={readContext:Nt,useCallback:cp,useContext:Nt,useEffect:Qa,useImperativeHandle:up,useInsertionEffect:sp,useLayoutEffect:lp,useMemo:dp,useReducer:Hs,useRef:ip,useState:function(){return Hs(No)},useDebugValue:Ya,useDeferredValue:function(e){var t=Pt();return Pe===null?t.memoizedState=e:fp(t,Pe.memoizedState,e)},useTransition:function(){var e=Hs(No)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Jf,useSyncExternalStore:qf,useId:pp,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Bl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ds={isMounted:function(e){return(e=e._reactInternals)?qn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),o=In(e),i=nn(r,o);i.payload=t,n!=null&&(i.callback=n),t=An(e,i,o),t!==null&&(Ut(t,e,o,r),hi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),o=In(e),i=nn(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=An(e,i,o),t!==null&&(Ut(t,e,o,r),hi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=In(e),o=nn(n,r);o.tag=2,t!=null&&(o.callback=t),t=An(e,o,r),t!==null&&(Ut(t,e,r,n),hi(t,e,r))}};function Cc(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Eo(n,r)||!Eo(o,i):!0}function yp(e,t,n){var r=!1,o=Nn,i=t.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(o=lt(t)?Hn:Qe.current,r=t.contextTypes,i=(r=r!=null)?Cr(e,o):Nn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ds,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Nc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ds.enqueueReplaceState(t,t.state,null)}function $l(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},$a(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Nt(i):(i=lt(t)?Hn:Qe.current,o.context=Cr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Bl(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ds.enqueueReplaceState(o,o.state,null),Fi(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Rr(e,t){try{var n="",r=t;do n+=jh(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Gs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oy=typeof WeakMap=="function"?WeakMap:Map;function vp(e,t,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wi||(Wi=!0,ql=r),Kl(e,t)},n}function Sp(e,t,n){n=nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Kl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Kl(e,t),typeof r!="function"&&(Tn===null?Tn=new Set([this]):Tn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Pc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=vy.bind(null,e,t,n),t.then(e,e))}function jc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nn(-1,1),t.tag=2,An(n,t,1))),n.lanes|=1),e)}var iy=un.ReactCurrentOwner,ot=!1;function Ye(e,t,n,r){t.child=e===null?Xf(t,null,n,r):Pr(t,e.child,n,r)}function Oc(e,t,n,r,o){n=n.render;var i=t.ref;return Ar(t,o),r=Ga(e,t,n,r,i,o),n=Xa(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,an(e,t,o)):(de&&n&&Da(t),t.flags|=1,Ye(e,t,r,o),t.child)}function Lc(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!ou(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,xp(e,t,i,r,o)):(e=wi(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Eo,n(s,r)&&e.ref===t.ref)return an(e,t,o)}return t.flags|=1,e=_n(i,r),e.ref=t.ref,e.return=t,t.child=e}function xp(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Eo(i,r)&&e.ref===t.ref)if(ot=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(ot=!0);else return t.lanes=e.lanes,an(e,t,o)}return Wl(e,t,n,r,o)}function wp(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(yr,mt),mt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(yr,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(yr,mt),mt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,se(yr,mt),mt|=r;return Ye(e,t,o,n),t.child}function Ep(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Wl(e,t,n,r,o){var i=lt(n)?Hn:Qe.current;return i=Cr(t,i),Ar(t,o),n=Ga(e,t,n,r,i,o),r=Xa(),e!==null&&!ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,an(e,t,o)):(de&&r&&Da(t),t.flags|=1,Ye(e,t,n,o),t.child)}function Dc(e,t,n,r,o){if(lt(n)){var i=!0;Li(t)}else i=!1;if(Ar(t,o),t.stateNode===null)vi(e,t),yp(t,n,r),$l(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Nt(d):(d=lt(n)?Hn:Qe.current,d=Cr(t,d));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==d)&&Nc(t,s,r,d),fn=!1;var h=t.memoizedState;s.state=h,Fi(t,r,s,o),c=t.memoizedState,u!==r||h!==c||st.current||fn?(typeof g=="function"&&(Bl(t,n,g,r),c=t.memoizedState),(u=fn||Cc(t,n,u,r,h,c,d))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Yf(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:Dt(t.type,u),s.props=d,m=t.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=lt(n)?Hn:Qe.current,c=Cr(t,c));var S=n.getDerivedStateFromProps;(g=typeof S=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||h!==c)&&Nc(t,s,r,c),fn=!1,h=t.memoizedState,s.state=h,Fi(t,r,s,o);var A=t.memoizedState;u!==m||h!==A||st.current||fn?(typeof S=="function"&&(Bl(t,n,S,r),A=t.memoizedState),(d=fn||Cc(t,n,d,r,h,A,c)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,A,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,A,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=A),s.props=r,s.state=A,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Vl(e,t,n,r,i,o)}function Vl(e,t,n,r,o,i){Ep(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&xc(t,n,!1),an(e,t,i);r=t.stateNode,iy.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Pr(t,e.child,null,i),t.child=Pr(t,null,u,i)):Ye(e,t,u,i),t.memoizedState=r.state,o&&xc(t,n,!0),t.child}function kp(e){var t=e.stateNode;t.pendingContext?Sc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sc(e,t.context,!1),Ka(e,t.containerInfo)}function bc(e,t,n,r,o){return Nr(),za(o),t.flags|=256,Ye(e,t,n,r),t.child}var Hl={dehydrated:null,treeContext:null,retryLane:0};function Gl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ap(e,t,n){var r=t.pendingProps,o=he.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),se(he,o&1),e===null)return Fl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=ms(s,r,0,null),e=Wn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Gl(n),t.memoizedState=Hl,e):Za(t,s));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return sy(e,t,s,r,u,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,u=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=_n(o,c),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=_n(u,i):(i=Wn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Gl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Hl,r}return i=e.child,e=i.sibling,r=_n(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Za(e,t){return t=ms({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ni(e,t,n,r){return r!==null&&za(r),Pr(t,e.child,null,n),e=Za(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sy(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Gs(Error(I(422))),ni(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=ms({mode:"visible",children:r.children},o,0,null),i=Wn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Pr(t,e.child,null,s),t.child.memoizedState=Gl(s),t.memoizedState=Hl,i);if(!(t.mode&1))return ni(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(I(419)),r=Gs(i,r,void 0),ni(e,t,s,r)}if(u=(s&e.childLanes)!==0,ot||u){if(r=ze,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,ln(e,o),Ut(r,e,o,-1))}return ru(),r=Gs(Error(I(421))),ni(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Sy.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,gt=kn(o.nextSibling),yt=t,de=!0,Mt=null,e!==null&&(kt[At++]=en,kt[At++]=tn,kt[At++]=Gn,en=e.id,tn=e.overflow,Gn=t),t=Za(t,r.children),t.flags|=4096,t)}function zc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ul(e.return,t,n)}function Xs(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Tp(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ye(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zc(e,n,t);else if(e.tag===19)zc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(he,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ui(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Xs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ui(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Xs(t,!0,n,null,i);break;case"together":Xs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function an(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Qn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=_n(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=_n(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ly(e,t,n){switch(t.tag){case 3:kp(t),Nr();break;case 5:Zf(t);break;case 1:lt(t.type)&&Li(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;se(zi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?Ap(e,t,n):(se(he,he.current&1),e=an(e,t,n),e!==null?e.sibling:null);se(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Tp(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),se(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,wp(e,t,n)}return an(e,t,n)}var Ip,Xl,_p,Cp;Ip=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Xl=function(){};_p=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Fn(Qt.current);var i=null;switch(n){case"input":o=gl(e,o),r=gl(e,r),i=[];break;case"select":o=ye({},o,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":o=Sl(e,o),r=Sl(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ri)}wl(n,r);var s;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ho.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(u=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ho.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ue("scroll",e),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Cp=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hr(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ay(e,t,n){var r=t.pendingProps;switch(ba(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return lt(t.type)&&Oi(),Ve(t),null;case 3:return r=t.stateNode,jr(),ce(st),ce(Qe),Va(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ei(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(na(Mt),Mt=null))),Xl(e,t),Ve(t),null;case 5:Wa(t);var o=Fn(_o.current);if(n=t.type,e!==null&&t.stateNode!=null)_p(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Ve(t),null}if(e=Fn(Qt.current),ei(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ht]=t,r[To]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(o=0;o<qr.length;o++)ue(qr[o],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":Hu(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":Xu(r,i),ue("invalid",r)}wl(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&qo(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&qo(r.textContent,u,e),o=["children",""+u]):ho.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&ue("scroll",r)}switch(n){case"input":Vo(r),Gu(r,i,!0);break;case"textarea":Vo(r),Qu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ri)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=tf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ht]=t,e[To]=r,Ip(e,t,!1,!1),t.stateNode=e;e:{switch(s=El(n,r),n){case"dialog":ue("cancel",e),ue("close",e),o=r;break;case"iframe":case"object":case"embed":ue("load",e),o=r;break;case"video":case"audio":for(o=0;o<qr.length;o++)ue(qr[o],e);o=r;break;case"source":ue("error",e),o=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),o=r;break;case"details":ue("toggle",e),o=r;break;case"input":Hu(e,r),o=gl(e,r),ue("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=ye({},r,{value:void 0}),ue("invalid",e);break;case"textarea":Xu(e,r),o=Sl(e,r),ue("invalid",e);break;default:o=r}wl(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?of(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&nf(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&go(e,c):typeof c=="number"&&go(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ho.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ue("scroll",e):c!=null&&wa(e,i,c,s))}switch(n){case"input":Vo(e),Gu(e,r,!1);break;case"textarea":Vo(e),Qu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Cn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?xr(e,!!r.multiple,i,!1):r.defaultValue!=null&&xr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)Cp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=Fn(_o.current),Fn(Qt.current),ei(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ht]=t,(i=r.nodeValue!==n)&&(e=yt,e!==null))switch(e.tag){case 3:qo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ht]=t,t.stateNode=r}return Ve(t),null;case 13:if(ce(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&gt!==null&&t.mode&1&&!(t.flags&128))Hf(),Nr(),t.flags|=98560,i=!1;else if(i=ei(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Ht]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),i=!1}else Mt!==null&&(na(Mt),Mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?Re===0&&(Re=3):ru())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return jr(),Xl(e,t),e===null&&ko(t.stateNode.containerInfo),Ve(t),null;case 10:return Ua(t.type._context),Ve(t),null;case 17:return lt(t.type)&&Oi(),Ve(t),null;case 19:if(ce(he),i=t.memoizedState,i===null)return Ve(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Hr(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ui(e),s!==null){for(t.flags|=128,Hr(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(he,he.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Or&&(t.flags|=128,r=!0,Hr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ui(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!de)return Ve(t),null}else 2*Te()-i.renderingStartTime>Or&&n!==1073741824&&(t.flags|=128,r=!0,Hr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,n=he.current,se(he,r?n&1|2:n&1),t):(Ve(t),null);case 22:case 23:return nu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function uy(e,t){switch(ba(t),t.tag){case 1:return lt(t.type)&&Oi(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),ce(st),ce(Qe),Va(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Wa(t),null;case 13:if(ce(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(he),null;case 4:return jr(),null;case 10:return Ua(t.type._context),null;case 22:case 23:return nu(),null;case 24:return null;default:return null}}var ri=!1,Ge=!1,cy=typeof WeakSet=="function"?WeakSet:Set,L=null;function gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Ql(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Mc=!1;function dy(e,t){if(Rl=Ni,e=Of(),La(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,d=0,g=0,m=e,h=null;t:for(;;){for(var S;m!==n||o!==0&&m.nodeType!==3||(u=s+o),m!==i||r!==0&&m.nodeType!==3||(c=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(S=m.firstChild)!==null;)h=m,m=S;for(;;){if(m===e)break t;if(h===n&&++d===o&&(u=s),h===i&&++g===r&&(c=s),(S=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=S}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ol={focusedElem:e,selectionRange:n},Ni=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var k=A.memoizedProps,E=A.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?k:Dt(t.type,k),E);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(x){xe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return A=Mc,Mc=!1,A}function so(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ql(t,n,i)}o=o.next}while(o!==r)}}function fs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Yl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Np(e){var t=e.alternate;t!==null&&(e.alternate=null,Np(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ht],delete t[To],delete t[bl],delete t[Gg],delete t[Xg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pp(e){return e.tag===5||e.tag===3||e.tag===4}function Fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ri));else if(r!==4&&(e=e.child,e!==null))for(Zl(e,t,n),e=e.sibling;e!==null;)Zl(e,t,n),e=e.sibling}function Jl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jl(e,t,n),e=e.sibling;e!==null;)Jl(e,t,n),e=e.sibling}var Fe=null,zt=!1;function cn(e,t,n){for(n=n.child;n!==null;)jp(e,t,n),n=n.sibling}function jp(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(os,n)}catch{}switch(n.tag){case 5:Ge||gr(n,t);case 6:var r=Fe,o=zt;Fe=null,cn(e,t,n),Fe=r,zt=o,Fe!==null&&(zt?(e=Fe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(zt?(e=Fe,n=n.stateNode,e.nodeType===8?Bs(e.parentNode,n):e.nodeType===1&&Bs(e,n),xo(e)):Bs(Fe,n.stateNode));break;case 4:r=Fe,o=zt,Fe=n.stateNode.containerInfo,zt=!0,cn(e,t,n),Fe=r,zt=o;break;case 0:case 11:case 14:case 15:if(!Ge&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ql(n,t,s),o=o.next}while(o!==r)}cn(e,t,n);break;case 1:if(!Ge&&(gr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){xe(n,t,u)}cn(e,t,n);break;case 21:cn(e,t,n);break;case 22:n.mode&1?(Ge=(r=Ge)||n.memoizedState!==null,cn(e,t,n),Ge=r):cn(e,t,n);break;default:cn(e,t,n)}}function Uc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new cy),t.forEach(function(r){var o=xy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Fe=u.stateNode,zt=!1;break e;case 3:Fe=u.stateNode.containerInfo,zt=!0;break e;case 4:Fe=u.stateNode.containerInfo,zt=!0;break e}u=u.return}if(Fe===null)throw Error(I(160));jp(i,s,o),Fe=null,zt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){xe(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rp(t,e),t=t.sibling}function Rp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lt(t,e),Kt(e),r&4){try{so(3,e,e.return),fs(3,e)}catch(k){xe(e,e.return,k)}try{so(5,e,e.return)}catch(k){xe(e,e.return,k)}}break;case 1:Lt(t,e),Kt(e),r&512&&n!==null&&gr(n,n.return);break;case 5:if(Lt(t,e),Kt(e),r&512&&n!==null&&gr(n,n.return),e.flags&32){var o=e.stateNode;try{go(o,"")}catch(k){xe(e,e.return,k)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&qd(o,i),El(u,s);var d=El(u,i);for(s=0;s<c.length;s+=2){var g=c[s],m=c[s+1];g==="style"?of(o,m):g==="dangerouslySetInnerHTML"?nf(o,m):g==="children"?go(o,m):wa(o,g,m,d)}switch(u){case"input":yl(o,i);break;case"textarea":ef(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var S=i.value;S!=null?xr(o,!!i.multiple,S,!1):h!==!!i.multiple&&(i.defaultValue!=null?xr(o,!!i.multiple,i.defaultValue,!0):xr(o,!!i.multiple,i.multiple?[]:"",!1))}o[To]=i}catch(k){xe(e,e.return,k)}}break;case 6:if(Lt(t,e),Kt(e),r&4){if(e.stateNode===null)throw Error(I(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(k){xe(e,e.return,k)}}break;case 3:if(Lt(t,e),Kt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xo(t.containerInfo)}catch(k){xe(e,e.return,k)}break;case 4:Lt(t,e),Kt(e);break;case 13:Lt(t,e),Kt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(eu=Te())),r&4&&Uc(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Ge=(d=Ge)||g,Lt(t,e),Ge=d):Lt(t,e),Kt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!g&&e.mode&1)for(L=e,g=e.child;g!==null;){for(m=L=g;L!==null;){switch(h=L,S=h.child,h.tag){case 0:case 11:case 14:case 15:so(4,h,h.return);break;case 1:gr(h,h.return);var A=h.stateNode;if(typeof A.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(k){xe(r,n,k)}}break;case 5:gr(h,h.return);break;case 22:if(h.memoizedState!==null){$c(m);continue}}S!==null?(S.return=h,L=S):$c(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{o=m.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=rf("display",s))}catch(k){xe(e,e.return,k)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(k){xe(e,e.return,k)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Lt(t,e),Kt(e),r&4&&Uc(e);break;case 21:break;default:Lt(t,e),Kt(e)}}function Kt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Pp(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(go(o,""),r.flags&=-33);var i=Fc(e);Jl(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=Fc(e);Zl(e,u,s);break;default:throw Error(I(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function fy(e,t,n){L=e,Op(e)}function Op(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var o=L,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||ri;if(!s){var u=o.alternate,c=u!==null&&u.memoizedState!==null||Ge;u=ri;var d=Ge;if(ri=s,(Ge=c)&&!d)for(L=o;L!==null;)s=L,c=s.child,s.tag===22&&s.memoizedState!==null?Kc(o):c!==null?(c.return=s,L=c):Kc(o);for(;i!==null;)L=i,Op(i),i=i.sibling;L=o,ri=u,Ge=d}Bc(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,L=i):Bc(e)}}function Bc(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ge||fs(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ge)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Tc(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tc(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&xo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Ge||t.flags&512&&Yl(t)}catch(h){xe(t,t.return,h)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function $c(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Kc(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fs(4,t)}catch(c){xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){xe(t,o,c)}}var i=t.return;try{Yl(t)}catch(c){xe(t,i,c)}break;case 5:var s=t.return;try{Yl(t)}catch(c){xe(t,s,c)}}}catch(c){xe(t,t.return,c)}if(t===e){L=null;break}var u=t.sibling;if(u!==null){u.return=t.return,L=u;break}L=t.return}}var py=Math.ceil,Ki=un.ReactCurrentDispatcher,Ja=un.ReactCurrentOwner,Ct=un.ReactCurrentBatchConfig,q=0,ze=null,Ce=null,Ue=0,mt=0,yr=Rn(0),Re=0,jo=null,Qn=0,ps=0,qa=0,lo=null,rt=null,eu=0,Or=1/0,Zt=null,Wi=!1,ql=null,Tn=null,oi=!1,yn=null,Vi=0,ao=0,ea=null,Si=-1,xi=0;function Je(){return q&6?Te():Si!==-1?Si:Si=Te()}function In(e){return e.mode&1?q&2&&Ue!==0?Ue&-Ue:Yg.transition!==null?(xi===0&&(xi=yf()),xi):(e=re,e!==0||(e=window.event,e=e===void 0?16:Af(e.type)),e):1}function Ut(e,t,n,r){if(50<ao)throw ao=0,ea=null,Error(I(185));Do(e,n,r),(!(q&2)||e!==ze)&&(e===ze&&(!(q&2)&&(ps|=n),Re===4&&mn(e,Ue)),at(e,r),n===1&&q===0&&!(t.mode&1)&&(Or=Te()+500,us&&On()))}function at(e,t){var n=e.callbackNode;Yh(e,t);var r=Ci(e,e===ze?Ue:0);if(r===0)n!==null&&Ju(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ju(n),t===1)e.tag===0?Qg(Wc.bind(null,e)):Kf(Wc.bind(null,e)),Vg(function(){!(q&6)&&On()}),n=null;else{switch(vf(r)){case 1:n=Ia;break;case 4:n=hf;break;case 16:n=_i;break;case 536870912:n=gf;break;default:n=_i}n=Bp(n,Lp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Lp(e,t){if(Si=-1,xi=0,q&6)throw Error(I(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var r=Ci(e,e===ze?Ue:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hi(e,r);else{t=r;var o=q;q|=2;var i=bp();(ze!==e||Ue!==t)&&(Zt=null,Or=Te()+500,Kn(e,t));do try{gy();break}catch(u){Dp(e,u)}while(!0);Fa(),Ki.current=i,q=o,Ce!==null?t=0:(ze=null,Ue=0,t=Re)}if(t!==0){if(t===2&&(o=_l(e),o!==0&&(r=o,t=ta(e,o))),t===1)throw n=jo,Kn(e,0),mn(e,r),at(e,Te()),n;if(t===6)mn(e,r);else{if(o=e.current.alternate,!(r&30)&&!my(o)&&(t=Hi(e,r),t===2&&(i=_l(e),i!==0&&(r=i,t=ta(e,i))),t===1))throw n=jo,Kn(e,0),mn(e,r),at(e,Te()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:bn(e,rt,Zt);break;case 3:if(mn(e,r),(r&130023424)===r&&(t=eu+500-Te(),10<t)){if(Ci(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Dl(bn.bind(null,e,rt,Zt),t);break}bn(e,rt,Zt);break;case 4:if(mn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Ft(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*py(r/1960))-r,10<r){e.timeoutHandle=Dl(bn.bind(null,e,rt,Zt),r);break}bn(e,rt,Zt);break;case 5:bn(e,rt,Zt);break;default:throw Error(I(329))}}}return at(e,Te()),e.callbackNode===n?Lp.bind(null,e):null}function ta(e,t){var n=lo;return e.current.memoizedState.isDehydrated&&(Kn(e,t).flags|=256),e=Hi(e,t),e!==2&&(t=rt,rt=n,t!==null&&na(t)),e}function na(e){rt===null?rt=e:rt.push.apply(rt,e)}function my(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Bt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function mn(e,t){for(t&=~qa,t&=~ps,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ft(t),r=1<<n;e[n]=-1,t&=~r}}function Wc(e){if(q&6)throw Error(I(327));Tr();var t=Ci(e,0);if(!(t&1))return at(e,Te()),null;var n=Hi(e,t);if(e.tag!==0&&n===2){var r=_l(e);r!==0&&(t=r,n=ta(e,r))}if(n===1)throw n=jo,Kn(e,0),mn(e,t),at(e,Te()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bn(e,rt,Zt),at(e,Te()),null}function tu(e,t){var n=q;q|=1;try{return e(t)}finally{q=n,q===0&&(Or=Te()+500,us&&On())}}function Yn(e){yn!==null&&yn.tag===0&&!(q&6)&&Tr();var t=q;q|=1;var n=Ct.transition,r=re;try{if(Ct.transition=null,re=1,e)return e()}finally{re=r,Ct.transition=n,q=t,!(q&6)&&On()}}function nu(){mt=yr.current,ce(yr)}function Kn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Wg(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(ba(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oi();break;case 3:jr(),ce(st),ce(Qe),Va();break;case 5:Wa(r);break;case 4:jr();break;case 13:ce(he);break;case 19:ce(he);break;case 10:Ua(r.type._context);break;case 22:case 23:nu()}n=n.return}if(ze=e,Ce=e=_n(e.current,null),Ue=mt=t,Re=0,jo=null,qa=ps=Qn=0,rt=lo=null,Mn!==null){for(t=0;t<Mn.length;t++)if(n=Mn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Mn=null}return e}function Dp(e,t){do{var n=Ce;try{if(Fa(),gi.current=$i,Bi){for(var r=ge.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Bi=!1}if(Xn=0,be=Pe=ge=null,io=!1,Co=0,Ja.current=null,n===null||n.return===null){Re=1,jo=t,Ce=null;break}e:{var i=e,s=n.return,u=n,c=t;if(t=Ue,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,g=u,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var h=g.alternate;h?(g.updateQueue=h.updateQueue,g.memoizedState=h.memoizedState,g.lanes=h.lanes):(g.updateQueue=null,g.memoizedState=null)}var S=jc(s);if(S!==null){S.flags&=-257,Rc(S,s,u,i,t),S.mode&1&&Pc(i,d,t),t=S,c=d;var A=t.updateQueue;if(A===null){var k=new Set;k.add(c),t.updateQueue=k}else A.add(c);break e}else{if(!(t&1)){Pc(i,d,t),ru();break e}c=Error(I(426))}}else if(de&&u.mode&1){var E=jc(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),Rc(E,s,u,i,t),za(Rr(c,u));break e}}i=c=Rr(c,u),Re!==4&&(Re=2),lo===null?lo=[i]:lo.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=vp(i,c,t);Ac(i,f);break e;case 1:u=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Tn===null||!Tn.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=Sp(i,u,t);Ac(i,x);break e}}i=i.return}while(i!==null)}Mp(n)}catch(_){t=_,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function bp(){var e=Ki.current;return Ki.current=$i,e===null?$i:e}function ru(){(Re===0||Re===3||Re===2)&&(Re=4),ze===null||!(Qn&268435455)&&!(ps&268435455)||mn(ze,Ue)}function Hi(e,t){var n=q;q|=2;var r=bp();(ze!==e||Ue!==t)&&(Zt=null,Kn(e,t));do try{hy();break}catch(o){Dp(e,o)}while(!0);if(Fa(),q=n,Ki.current=r,Ce!==null)throw Error(I(261));return ze=null,Ue=0,Re}function hy(){for(;Ce!==null;)zp(Ce)}function gy(){for(;Ce!==null&&!Bh();)zp(Ce)}function zp(e){var t=Up(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?Mp(e):Ce=t,Ja.current=null}function Mp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=uy(n,t),n!==null){n.flags&=32767,Ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Ce=null;return}}else if(n=ay(n,t,mt),n!==null){Ce=n;return}if(t=t.sibling,t!==null){Ce=t;return}Ce=t=e}while(t!==null);Re===0&&(Re=5)}function bn(e,t,n){var r=re,o=Ct.transition;try{Ct.transition=null,re=1,yy(e,t,n,r)}finally{Ct.transition=o,re=r}return null}function yy(e,t,n,r){do Tr();while(yn!==null);if(q&6)throw Error(I(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Zh(e,i),e===ze&&(Ce=ze=null,Ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oi||(oi=!0,Bp(_i,function(){return Tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ct.transition,Ct.transition=null;var s=re;re=1;var u=q;q|=4,Ja.current=null,dy(e,n),Rp(n,e),zg(Ol),Ni=!!Rl,Ol=Rl=null,e.current=n,fy(n),$h(),q=u,re=s,Ct.transition=i}else e.current=n;if(oi&&(oi=!1,yn=e,Vi=o),i=e.pendingLanes,i===0&&(Tn=null),Vh(n.stateNode),at(e,Te()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Wi)throw Wi=!1,e=ql,ql=null,e;return Vi&1&&e.tag!==0&&Tr(),i=e.pendingLanes,i&1?e===ea?ao++:(ao=0,ea=e):ao=0,On(),null}function Tr(){if(yn!==null){var e=vf(Vi),t=Ct.transition,n=re;try{if(Ct.transition=null,re=16>e?16:e,yn===null)var r=!1;else{if(e=yn,yn=null,Vi=0,q&6)throw Error(I(331));var o=q;for(q|=4,L=e.current;L!==null;){var i=L,s=i.child;if(L.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(L=d;L!==null;){var g=L;switch(g.tag){case 0:case 11:case 15:so(8,g,i)}var m=g.child;if(m!==null)m.return=g,L=m;else for(;L!==null;){g=L;var h=g.sibling,S=g.return;if(Np(g),g===d){L=null;break}if(h!==null){h.return=S,L=h;break}L=S}}}var A=i.alternate;if(A!==null){var k=A.child;if(k!==null){A.child=null;do{var E=k.sibling;k.sibling=null,k=E}while(k!==null)}}L=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,L=s;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:so(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,L=f;break e}L=i.return}}var p=e.current;for(L=p;L!==null;){s=L;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,L=y;else e:for(s=p;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:fs(9,u)}}catch(_){xe(u,u.return,_)}if(u===s){L=null;break e}var x=u.sibling;if(x!==null){x.return=u.return,L=x;break e}L=u.return}}if(q=o,On(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(os,e)}catch{}r=!0}return r}finally{re=n,Ct.transition=t}}return!1}function Vc(e,t,n){t=Rr(n,t),t=vp(e,t,1),e=An(e,t,1),t=Je(),e!==null&&(Do(e,1,t),at(e,t))}function xe(e,t,n){if(e.tag===3)Vc(e,e,n);else for(;t!==null;){if(t.tag===3){Vc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Tn===null||!Tn.has(r))){e=Rr(n,e),e=Sp(t,e,1),t=An(t,e,1),e=Je(),t!==null&&(Do(t,1,e),at(t,e));break}}t=t.return}}function vy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ue&n)===n&&(Re===4||Re===3&&(Ue&130023424)===Ue&&500>Te()-eu?Kn(e,0):qa|=n),at(e,t)}function Fp(e,t){t===0&&(e.mode&1?(t=Xo,Xo<<=1,!(Xo&130023424)&&(Xo=4194304)):t=1);var n=Je();e=ln(e,t),e!==null&&(Do(e,t,n),at(e,n))}function Sy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Fp(e,n)}function xy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Fp(e,n)}var Up;Up=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)ot=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ot=!1,ly(e,t,n);ot=!!(e.flags&131072)}else ot=!1,de&&t.flags&1048576&&Wf(t,bi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vi(e,t),e=t.pendingProps;var o=Cr(t,Qe.current);Ar(t,n),o=Ga(null,t,r,e,o,n);var i=Xa();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(r)?(i=!0,Li(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,$a(t),o.updater=ds,t.stateNode=o,o._reactInternals=t,$l(t,r,e,n),t=Vl(null,t,r,!0,i,n)):(t.tag=0,de&&i&&Da(t),Ye(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vi(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Ey(r),e=Dt(r,e),o){case 0:t=Wl(null,t,r,e,n);break e;case 1:t=Dc(null,t,r,e,n);break e;case 11:t=Oc(null,t,r,e,n);break e;case 14:t=Lc(null,t,r,Dt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dt(r,o),Wl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dt(r,o),Dc(e,t,r,o,n);case 3:e:{if(kp(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Yf(e,t),Fi(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Rr(Error(I(423)),t),t=bc(e,t,r,n,o);break e}else if(r!==o){o=Rr(Error(I(424)),t),t=bc(e,t,r,n,o);break e}else for(gt=kn(t.stateNode.containerInfo.firstChild),yt=t,de=!0,Mt=null,n=Xf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===o){t=an(e,t,n);break e}Ye(e,t,r,n)}t=t.child}return t;case 5:return Zf(t),e===null&&Fl(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Ll(r,o)?s=null:i!==null&&Ll(r,i)&&(t.flags|=32),Ep(e,t),Ye(e,t,s,n),t.child;case 6:return e===null&&Fl(t),null;case 13:return Ap(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):Ye(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dt(r,o),Oc(e,t,r,o,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,se(zi,r._currentValue),r._currentValue=s,i!==null)if(Bt(i.value,s)){if(i.children===o.children&&!st.current){t=an(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=nn(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?c.next=c:(c.next=g.next,g.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ul(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(I(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Ul(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ye(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ar(t,n),o=Nt(o),r=r(o),t.flags|=1,Ye(e,t,r,n),t.child;case 14:return r=t.type,o=Dt(r,t.pendingProps),o=Dt(r.type,o),Lc(e,t,r,o,n);case 15:return xp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dt(r,o),vi(e,t),t.tag=1,lt(r)?(e=!0,Li(t)):e=!1,Ar(t,n),yp(t,r,o),$l(t,r,o,n),Vl(null,t,r,!0,e,n);case 19:return Tp(e,t,n);case 22:return wp(e,t,n)}throw Error(I(156,t.tag))};function Bp(e,t){return mf(e,t)}function wy(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(e,t,n,r){return new wy(e,t,n,r)}function ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ey(e){if(typeof e=="function")return ou(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ka)return 11;if(e===Aa)return 14}return 2}function _n(e,t){var n=e.alternate;return n===null?(n=It(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function wi(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")ou(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case lr:return Wn(n.children,o,i,t);case Ea:s=8,o|=8;break;case fl:return e=It(12,n,t,o|2),e.elementType=fl,e.lanes=i,e;case pl:return e=It(13,n,t,o),e.elementType=pl,e.lanes=i,e;case ml:return e=It(19,n,t,o),e.elementType=ml,e.lanes=i,e;case Yd:return ms(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Xd:s=10;break e;case Qd:s=9;break e;case ka:s=11;break e;case Aa:s=14;break e;case dn:s=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=It(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Wn(e,t,n,r){return e=It(7,e,r,t),e.lanes=n,e}function ms(e,t,n,r){return e=It(22,e,r,t),e.elementType=Yd,e.lanes=n,e.stateNode={isHidden:!1},e}function Qs(e,t,n){return e=It(6,e,null,t),e.lanes=n,e}function Ys(e,t,n){return t=It(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ky(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ps(0),this.expirationTimes=Ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function iu(e,t,n,r,o,i,s,u,c){return e=new ky(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=It(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$a(i),e}function Ay(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function $p(e){if(!e)return Nn;e=e._reactInternals;e:{if(qn(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(lt(n))return $f(e,n,t)}return t}function Kp(e,t,n,r,o,i,s,u,c){return e=iu(n,r,!0,e,o,i,s,u,c),e.context=$p(null),n=e.current,r=Je(),o=In(n),i=nn(r,o),i.callback=t??null,An(n,i,o),e.current.lanes=o,Do(e,o,r),at(e,r),e}function hs(e,t,n,r){var o=t.current,i=Je(),s=In(o);return n=$p(n),t.context===null?t.context=n:t.pendingContext=n,t=nn(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=An(o,t,s),e!==null&&(Ut(e,o,s,i),hi(e,o,s)),s}function Gi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Hc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function su(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}function Ty(){return null}var Wp=typeof reportError=="function"?reportError:function(e){console.error(e)};function lu(e){this._internalRoot=e}gs.prototype.render=lu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));hs(e,t,null,null)};gs.prototype.unmount=lu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Yn(function(){hs(null,e,null,null)}),t[sn]=null}};function gs(e){this._internalRoot=e}gs.prototype.unstable_scheduleHydration=function(e){if(e){var t=wf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pn.length&&t!==0&&t<pn[n].priority;n++);pn.splice(n,0,e),n===0&&kf(e)}};function au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ys(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Gc(){}function Iy(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var d=Gi(s);i.call(d)}}var s=Kp(t,r,e,0,null,!1,!1,"",Gc);return e._reactRootContainer=s,e[sn]=s.current,ko(e.nodeType===8?e.parentNode:e),Yn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var d=Gi(c);u.call(d)}}var c=iu(e,0,!1,null,null,!1,!1,"",Gc);return e._reactRootContainer=c,e[sn]=c.current,ko(e.nodeType===8?e.parentNode:e),Yn(function(){hs(t,c,n,r)}),c}function vs(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var u=o;o=function(){var c=Gi(s);u.call(c)}}hs(t,s,e,o)}else s=Iy(n,t,e,o,r);return Gi(s)}Sf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Jr(t.pendingLanes);n!==0&&(_a(t,n|1),at(t,Te()),!(q&6)&&(Or=Te()+500,On()))}break;case 13:Yn(function(){var r=ln(e,1);if(r!==null){var o=Je();Ut(r,e,1,o)}}),su(e,1)}};Ca=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var n=Je();Ut(t,e,134217728,n)}su(e,134217728)}};xf=function(e){if(e.tag===13){var t=In(e),n=ln(e,t);if(n!==null){var r=Je();Ut(n,e,t,r)}su(e,t)}};wf=function(){return re};Ef=function(e,t){var n=re;try{return re=e,t()}finally{re=n}};Al=function(e,t,n){switch(t){case"input":if(yl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=as(r);if(!o)throw Error(I(90));Jd(r),yl(r,o)}}}break;case"textarea":ef(e,n);break;case"select":t=n.value,t!=null&&xr(e,!!n.multiple,t,!1)}};af=tu;uf=Yn;var _y={usingClientEntryPoint:!1,Events:[zo,dr,as,sf,lf,tu]},Gr={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Cy={bundleType:Gr.bundleType,version:Gr.version,rendererPackageName:Gr.rendererPackageName,rendererConfig:Gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ff(e),e===null?null:e.stateNode},findFiberByHostInstance:Gr.findFiberByHostInstance||Ty,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ii=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ii.isDisabled&&ii.supportsFiber)try{os=ii.inject(Cy),Xt=ii}catch{}}St.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_y;St.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!au(t))throw Error(I(200));return Ay(e,t,null,n)};St.createRoot=function(e,t){if(!au(e))throw Error(I(299));var n=!1,r="",o=Wp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=iu(e,1,!1,null,null,n,!1,r,o),e[sn]=t.current,ko(e.nodeType===8?e.parentNode:e),new lu(t)};St.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=ff(t),e=e===null?null:e.stateNode,e};St.flushSync=function(e){return Yn(e)};St.hydrate=function(e,t,n){if(!ys(t))throw Error(I(200));return vs(null,e,t,!0,n)};St.hydrateRoot=function(e,t,n){if(!au(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Wp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Kp(t,null,e,1,n??null,o,!1,i,s),e[sn]=t.current,ko(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new gs(t)};St.render=function(e,t,n){if(!ys(t))throw Error(I(200));return vs(null,e,t,!1,n)};St.unmountComponentAtNode=function(e){if(!ys(e))throw Error(I(40));return e._reactRootContainer?(Yn(function(){vs(null,null,e,!1,function(){e._reactRootContainer=null,e[sn]=null})}),!0):!1};St.unstable_batchedUpdates=tu;St.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ys(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return vs(e,t,n,!1,r)};St.version="18.3.1-next-f1338f8080-20240426";function Vp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vp)}catch(e){console.error(e)}}Vp(),Wd.exports=St;var Ny=Wd.exports,Hp,Xc=Ny;Hp=Xc.createRoot,Xc.hydrateRoot;const Py="modulepreload",jy=function(e){return"/"+e},Qc={},Gp=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=jy(c),c in Qc)return;Qc[c]=!0;const d=c.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":Py,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((h,S)=>{m.addEventListener("load",h),m.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return o.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},a={bg:"#05070A",border:"#213043",muted:"#32435A",accent:"#39DDB6",text:"#EAF1F8",dim:"#8FA0B5",danger:"#FF5D7A",dLow:"#311520",warn:"#F7B267",wLow:"#322515",ok:"#39DDB6",purple:"#8F7BFF"},D={fontFamily:"'IBM Plex Mono','SFMono-Regular',Menlo,Monaco,monospace"},Tt=(e,t=4)=>parseFloat(e||0).toFixed(t),Fo=e=>e?`${e.slice(0,18)}...${e.slice(-6)}`:"",Ry=/^[qpzry9x8gf2tvdw0s3jn54khce6mua7l]+$/i,Xp=["kaspa","kaspatest","kaspadev","kaspasim"],Ro=(e,t=Xp)=>{const n=String(e||"").trim().toLowerCase(),r=n.indexOf(":");if(r<=0||r===n.length-1)return!1;const o=n.slice(0,r),i=n.slice(r+1);return!t.map(s=>s.toLowerCase()).includes(o)||i.length<61||i.length>63?!1:Ry.test(i)},Oy=(e,t=Xp)=>{const n=String(e||"").trim();if(!Ro(n,t))throw new Error(`Invalid Kaspa address for allowed prefixes: ${t.join(", ")}`);const r=n.toLowerCase(),o=r.indexOf(":"),i=r.slice(0,o),s=r.slice(o+1);return`${i}:${s}`},Ly=e=>{const t=String(e||"").toLowerCase();return t==="mainnet"?"kaspa":t.startsWith("testnet")?"kaspatest":t.startsWith("devnet")?"kaspadev":t.startsWith("simnet")?"kaspasim":"kaspa"},uo=(e,t)=>{const n=Oy(e),r=n.indexOf(":"),o=n.slice(r+1);return`${Ly(t)}:${o}`},Dy={USD:1,EUR:.92,GBP:.79,JPY:150,CAD:1.36};function by(e,t){const n=Dy[t];return e*n}function zy(e,t){const n=by(e,t),r=2;return new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:r,minimumFractionDigits:r}).format(n)}const ve={agents:"forgeos.session.agents.v2",activeAgent:"forgeos.session.activeAgent.v2",walletMeta:"forgeos.wallet.meta.v2",network:"forgeos.network",lastProvider:"forgeos.wallet.lastProvider.mainnet",autoLockMinutes:"forgeos.autolock.minutes.v1",persistUnlockSession:"forgeos.unlock.persist-session.v1",displayCurrency:"forgeos.display.currency.v1",hidePortfolioBalances:"forgeos.privacy.hide-balances.v1",kaspaRpcProviderPresetMap:"forgeos.kaspa.rpc-provider.v1",customKaspaRpcMap:"forgeos.kaspa.custom-rpc.v1"},My=1,Fy=24*60,Yc=-1,ra="official";function Qp(e){if(e===Yc)return Yc;if(typeof e!="number"||!Number.isFinite(e))return 15;const t=Math.floor(e);return Math.min(Fy,Math.max(My,t))}function tt(){return typeof chrome<"u"&&chrome.storage?chrome.storage.local:null}function Yp(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"&&n.protocol!=="http:"?null:t.replace(/\/+$/,"")}catch{return null}}function Uy(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();if(!o)continue;const i=Yp(r);i&&(t[o]=i)}return t}function Zp(e){return e==="igra"?"igra":e==="kasplex"?"kasplex":e==="custom"?"custom":ra}function By(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();o&&(t[o]=Zp(r))}return t}async function $y(){const e=tt();return e?new Promise(t=>{e.get(ve.agents,n=>{try{const r=n[ve.agents];if(!r)return t([]);const o=typeof r=="string"?JSON.parse(r):r;t(Array.isArray(o)?o:[])}catch{t([])}})}):[]}async function Zc(){const e=tt();return e?new Promise(t=>{e.get(ve.walletMeta,n=>{try{const r=n[ve.walletMeta];if(!r)return t(null);const o=typeof r=="string"?JSON.parse(r):r;t(o!=null&&o.address?o:null)}catch{t(null)}})}):null}async function oa(e){const t=tt();if(t)return new Promise(n=>{t.set({[ve.walletMeta]:JSON.stringify(e)},n)})}async function uu(){const e=tt();return e?new Promise(t=>{e.get(ve.network,n=>t(n[ve.network]||"mainnet"))}):"mainnet"}async function Ky(e){const t=tt();if(t)return new Promise(n=>{t.set({[ve.network]:e},n)})}async function Wy(){const e=tt();return e?new Promise(t=>{e.get(ve.autoLockMinutes,n=>{t(Qp(n[ve.autoLockMinutes]))})}):15}async function Vy(e){const t=tt();if(t)return new Promise(n=>{t.set({[ve.autoLockMinutes]:Qp(e)},n)})}async function Hy(){const e=tt();return e?new Promise(t=>{e.get(ve.persistUnlockSession,n=>{t(n[ve.persistUnlockSession]===!0)})}):!1}async function Gy(e){const t=tt();if(t)return new Promise(n=>{t.set({[ve.persistUnlockSession]:e===!0},n)})}async function Xy(){const e=tt();return e?new Promise(t=>{e.get(ve.hidePortfolioBalances,n=>{t(n[ve.hidePortfolioBalances]===!0)})}):!1}async function Qy(e){const t=tt();if(t)return new Promise(n=>{t.set({[ve.hidePortfolioBalances]:e===!0},n)})}async function Jp(){const e=tt();return e?new Promise(t=>{e.get(ve.kaspaRpcProviderPresetMap,n=>{try{const r=n[ve.kaspaRpcProviderPresetMap],o=typeof r=="string"?JSON.parse(r):r;t(By(o))}catch{t({})}})}):{}}async function qp(e){const t=String(e||"").trim();return t?(await Jp())[t]??ra:ra}async function Zs(e,t){const n=tt();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await Jp();return o[r]=Zp(t),new Promise(i=>{n.set({[ve.kaspaRpcProviderPresetMap]:JSON.stringify(o)},i)})}async function em(){const e=tt();return e?new Promise(t=>{e.get(ve.customKaspaRpcMap,n=>{try{const r=n[ve.customKaspaRpcMap],o=typeof r=="string"?JSON.parse(r):r;t(Uy(o))}catch{t({})}})}):{}}async function tm(e){const t=String(e||"").trim();return t?(await em())[t]??null:null}async function Jc(e,t){const n=tt();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await em();if(t===null||t.trim()==="")delete o[r];else{const i=Yp(t);if(!i)throw new Error("INVALID_RPC_ENDPOINT");o[r]=i}return new Promise(i=>{n.set({[ve.customKaspaRpcMap]:JSON.stringify(o)},i)})}const si={mainnet:["https://api.kaspa.org"],"testnet-10":["https://api-tn10.kaspa.org"],"testnet-11":["https://api-tn11.kaspa.org"],"testnet-12":["https://api-tn12.kaspa.org"]};function _t(e,t){var o,i;const n=(i=(o=import.meta)==null?void 0:o.env)==null?void 0:i[e];if(typeof n!="string"||!n.trim())return t;const r=n.split(/[,\s]+/).map(s=>s.trim()).filter(Boolean).filter((s,u,c)=>c.indexOf(s)===u);return r.length?r:t}const vn={mainnet:_t("VITE_KASPA_MAINNET_API_ENDPOINTS",si.mainnet),"testnet-10":_t("VITE_KASPA_TN10_API_ENDPOINTS",si["testnet-10"]),"testnet-11":_t("VITE_KASPA_TN11_API_ENDPOINTS",si["testnet-11"]),"testnet-12":_t("VITE_KASPA_TN12_API_ENDPOINTS",si["testnet-12"])},Yy={mainnet:_t("VITE_KASPA_IGRA_MAINNET_API_ENDPOINTS",[]),"testnet-10":_t("VITE_KASPA_IGRA_TN10_API_ENDPOINTS",[]),"testnet-11":_t("VITE_KASPA_IGRA_TN11_API_ENDPOINTS",[]),"testnet-12":_t("VITE_KASPA_IGRA_TN12_API_ENDPOINTS",[])},Zy={mainnet:_t("VITE_KASPA_KASPLEX_MAINNET_API_ENDPOINTS",[]),"testnet-10":_t("VITE_KASPA_KASPLEX_TN10_API_ENDPOINTS",[]),"testnet-11":_t("VITE_KASPA_KASPLEX_TN11_API_ENDPOINTS",[]),"testnet-12":_t("VITE_KASPA_KASPLEX_TN12_API_ENDPOINTS",[])};vn.mainnet[0],vn["testnet-10"][0],vn["testnet-11"][0],vn["testnet-12"][0];const Jy=12e3,qy=2,e0=600;function nm(e){return e===408||e===429||e>=500}const t0=4,n0=3e4,co={},Js={};function Oo(e){return Js[e]||(Js[e]={lastOkAt:0,lastFailAt:0,consecutiveFails:0,lastLatencyMs:0,lastStatus:0,lastError:""}),Js[e]}function r0(e,t,n=200){const r=Oo(e);r.lastOkAt=Date.now(),r.consecutiveFails=0,r.lastLatencyMs=t,r.lastStatus=n,r.lastError=""}function qc(e,t,n=0){const r=Oo(e);r.lastFailAt=Date.now(),r.consecutiveFails+=1,r.lastStatus=n,r.lastError=t}function Xi(e){co[e]||(co[e]={state:"closed",failures:0,openAt:0});const t=co[e];return t.state==="open"&&Date.now()-t.openAt>n0&&(t.state="half-open"),t}function o0(e){const t=co[e];t&&(t.failures=0,t.state="closed")}function i0(e){const t=co[e];t&&(t.failures++,t.failures>=t0&&(t.state="open",t.openAt=Date.now()))}function s0(e){const t=n=>(vn[n]??vn.mainnet).map(o=>{const i=Xi(o),s=Oo(o);return{base:o,circuit:i.state,failures:i.failures,lastOkAt:s.lastOkAt,lastFailAt:s.lastFailAt,consecutiveFails:s.consecutiveFails,lastLatencyMs:s.lastLatencyMs,lastStatus:s.lastStatus,lastError:s.lastError}});return e?t(e):{mainnet:t("mainnet"),"testnet-10":t("testnet-10"),"testnet-11":t("testnet-11"),"testnet-12":t("testnet-12")}}function qs(e){return[...e].sort((n,r)=>{const o=Xi(n),i=Xi(r);if(o.state==="open"&&i.state!=="open")return 1;if(i.state==="open"&&o.state!=="open")return-1;const s=Oo(n),u=Oo(r);return s.lastOkAt!==u.lastOkAt?u.lastOkAt-s.lastOkAt:s.consecutiveFails!==u.consecutiveFails?s.consecutiveFails-u.consecutiveFails:0})}function l0(e,t){const n=vn[e]??vn.mainnet;if(t==="igra"){const r=Yy[e]??[];return r.length?r:n}if(t==="kasplex"){const r=Zy[e]??[];return r.length?r:n}return n}async function a0(e){let t="official";try{t=await qp(e)}catch{t="official"}const n=[...l0(e,t)];if(t!=="custom")return qs(n);let r=null;try{r=await tm(e)}catch{r=null}if(r){const o=n.filter(i=>i!==r);return qs([r,...o])}return qs(n)}async function u0(e,t,n){if(Xi(e).state==="open")throw new Sn(`Circuit open for ${e}  backing off`,503);let o=null;for(let i=0;i<=qy;i++){i>0&&await new Promise(d=>setTimeout(d,e0*2**(i-1)));const s=new AbortController,u=setTimeout(()=>s.abort(),Jy),c=Date.now();try{const d=await fetch(`${e}${t}`,{...n,signal:s.signal});if(clearTimeout(u),!d.ok){const m=await d.text().catch(()=>"");throw qc(e,`HTTP ${d.status}`,d.status),new Sn(`HTTP ${d.status}: ${m.slice(0,120)}`,d.status)}const g=await d.json();return o0(e),r0(e,Date.now()-c,d.status),g}catch(d){if(clearTimeout(u),d instanceof Sn&&!nm(d.status))throw d;const g=d instanceof Error?d.message:String(d);qc(e,g),o=d instanceof Error?d:new Error(String(d))}}throw i0(e),o??new Sn("Unknown API error",0)}async function er(e,t,n){const r=await a0(e);let o=null;for(const i of r)try{return await u0(i,t,n)}catch(s){if(s instanceof Sn&&!nm(s.status))throw s;o=s instanceof Error?s:new Error(String(s))}throw o??new Sn("Unknown API error",0)}class Sn extends Error{constructor(t,n){super(t),this.status=n,this.name="KaspaApiError"}}const c0={mainnet:10,"testnet-10":10,"testnet-11":32,"testnet-12":10};async function d0(e,t="mainnet"){return er(t,`/addresses/${encodeURIComponent(e)}/utxos`)}async function f0(e,t="mainnet"){const n=await er(t,`/addresses/${encodeURIComponent(e)}/balance`);return BigInt((n==null?void 0:n.balance)??0)}async function p0(e="mainnet"){try{const t=await er(e,"/info/price?stringOnly=false");return(t==null?void 0:t.price)??0}catch{return 0}}async function m0(e="mainnet"){var t;try{const n=await er(e,"/info/fee-estimate");return((t=n==null?void 0:n.priorityBucket)==null?void 0:t.feerate)??1}catch{return 1}}async function ia(e,t,n="mainnet"){const r=await m0(n),o=239+142*e+51*t;return BigInt(Math.max(Math.ceil(o*r),1e3))}async function h0(e,t="mainnet"){const n=await er(t,"/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=(n==null?void 0:n.transactionId)??(n==null?void 0:n.txid)??"";if(!r)throw new Sn("Broadcast succeeded but no txId returned",200);return r}async function rm(e,t="mainnet"){try{return await er(t,`/transactions/${e}`)}catch(n){if(n instanceof Sn&&n.status===404)return null;throw n}}async function g0(e="mainnet"){try{return await er(e,"/info/blockdag")}catch{return null}}async function y0(e,t="mainnet"){const n=await f0(e,t);return Number(n)/1e8}async function v0(e="mainnet"){return p0(e)}const Ze=Object.freeze({path:"m/44'/111'",account:0,chain:0,index:0}),cu=Object.freeze(["m/44'/111'","m/44'/972'"]);function ed(e,t){const n=typeof e=="number"?e:Number(e);return!Number.isFinite(n)||n<0?t:Math.floor(n)}function S0(e){const t=String(e??"").trim();return t?t.startsWith("m")?t:`m/${t}`:Ze.path}function it(e){return{path:S0(e==null?void 0:e.path),account:ed(e==null?void 0:e.account,Ze.account),chain:(e==null?void 0:e.chain)===1?1:0,index:ed(e==null?void 0:e.index,Ze.index)}}function bt(e){const t=it(e);return`${t.path}/${t.account}'/${t.chain}/${t.index}`}function du(e){return e===1?"change":"receive"}function x0(e){const n=String(e||"").trim().match(/^(m(?:\/\d+'?)*)\/(\d+)'\s*\/([01])\s*\/(\d+)$/i);if(!n)throw new Error("Invalid derivation path. Expected format like m/44'/111'/0'/0/0");return it({path:n[1],account:Number(n[2]),chain:Number(n[3]),index:Number(n[4])})}const w0=6e5,E0=["encrypt","decrypt"];async function om(e,t){const n=new TextEncoder,r=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:w0,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,E0)}function td(e){return crypto.getRandomValues(new Uint8Array(e))}function el(e){if(e.length%2!==0)throw new Error("Invalid hex string length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n>>1]=parseInt(e.slice(n,n+2),16);return t}function tl(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}async function k0(e,t,n){const r=await crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,n);return new Uint8Array(r)}async function A0(e,t,n){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,n);return new Uint8Array(r)}const sa="forgeos.vault.v1",Qi="forgeos.vault.session-cache.v1",fu=-1,pu=15;let ut=null;function im(e){return!Number.isFinite(e)||e<=0?Number.POSITIVE_INFINITY:Date.now()+e*6e4}function T0(e){return Number.isFinite(e)?e:fu}function I0(e){return e===fu?Number.POSITIVE_INFINITY:typeof e!="number"||!Number.isFinite(e)?null:e}function Yi(e){try{if(!Number.isFinite(e)||e<=0){chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"});return}chrome.runtime.sendMessage({type:"SCHEDULE_AUTOLOCK",minutes:e})}catch{}}function Pn(){return ut?Date.now()>ut.autoLockAt?(Ss(),Fr(),null):ut:null}function Ss(){if(ut){try{ut.mnemonic=""}catch{}ut=null}}function mu(){return chrome.storage.local}function hu(){var t;return((t=chrome.storage)==null?void 0:t.session)??null}async function gu(){return new Promise(e=>{mu().get(sa,t=>{try{const n=t[sa];if(!n)return e(null);e(JSON.parse(n))}catch{e(null)}})})}async function _0(e){return new Promise(t=>{mu().set({[sa]:JSON.stringify(e)},t)})}async function yu(e){const t=hu();if(t)return new Promise(n=>{t.set({[Qi]:{version:1,mnemonic:e.mnemonic,mnemonicPassphrase:e.mnemonicPassphrase,derivation:e.derivation,address:e.address,network:e.network,autoLockAt:T0(e.autoLockAt)}},n)})}async function Fr(){const e=hu();if(e)return new Promise(t=>{e.remove(Qi,t)})}async function C0(){const e=hu();return e?new Promise(t=>{e.get(Qi,n=>{const r=n==null?void 0:n[Qi];if(!r||typeof r!="object"){t(null);return}const o=I0(r.autoLockAt);if(o===null){t(null);return}const i=typeof r.mnemonic=="string"?r.mnemonic:"",s=typeof r.address=="string"?r.address:"",u=typeof r.network=="string"?r.network:"";if(!i||!s||!u){t(null);return}t({mnemonic:i,mnemonicPassphrase:typeof r.mnemonicPassphrase=="string"?r.mnemonicPassphrase:void 0,derivation:it(r.derivation??Ze),address:s,network:u,autoLockAt:o})})}):null}async function sm(){return await gu()!==null}async function Zi(e,t,n,r,o={}){var S;const i=td(32),s=td(12),u=await om(t,i),c=it(o.derivation??Ze),d={version:1,mnemonic:e,mnemonicPassphrase:o.mnemonicPassphrase||void 0,derivation:c,address:n,network:r,derivationPath:`${c.path}/${c.account}'`,addressIndex:c.index},g=new TextEncoder().encode(JSON.stringify(d)),m=await k0(u,s,g),h={version:1,kdf:"pbkdf2",salt:tl(i),iterations:6e5,hash:"SHA-256",iv:tl(s),ciphertext:tl(m),createdAt:((S=await gu())==null?void 0:S.createdAt)??Date.now(),updatedAt:Date.now()};await _0(h)}async function Zn(e,t=pu,n={}){const r=await gu();if(!r)throw new Error("NO_VAULT");const o=el(r.salt),i=el(r.iv),s=el(r.ciphertext),u=await om(e,o);let c;try{c=await A0(u,i,s)}catch{throw new Error("INVALID_PASSWORD")}const d=JSON.parse(new TextDecoder().decode(c));return ut={mnemonic:d.mnemonic,mnemonicPassphrase:typeof d.mnemonicPassphrase=="string"?d.mnemonicPassphrase:void 0,derivation:it(d.derivation??{path:"m/44'/111'",account:0,chain:0,index:typeof d.addressIndex=="number"?d.addressIndex:0}),address:d.address,network:d.network,autoLockAt:im(t)},Yi(t),n.persistSession?await yu(ut):await Fr(),ut}async function lm(){const e=await C0();if(!e)return null;if(Date.now()>e.autoLockAt)return await Fr(),null;if(ut=e,Number.isFinite(e.autoLockAt)){const t=Math.max(0,(e.autoLockAt-Date.now())/6e4);Yi(t)}else Yi(fu);return ut}async function am(e){if(!e){await Fr();return}const t=Pn();t&&await yu(t)}function um(){Ss(),Fr();try{chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"})}catch{}}async function cm(e,t){if(t.length<8)throw new Error("WEAK_PASSWORD");const n=await Zn(e);await Zi(n.mnemonic,t,n.address,n.network,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation}),Ss(),await Zn(t)}async function dm(){Ss(),await Fr(),await new Promise(e=>mu().clear(e))}function Ei(e=pu,t={}){ut&&(ut.autoLockAt=im(e),Yi(e),t.persistSession&&yu(ut))}const N0=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_AUTO_LOCK_MINUTES:pu,changePassword:cm,createVault:Zi,extendSession:Ei,getSession:Pn,lockWallet:um,resetWallet:dm,restoreSessionFromCache:lm,setSessionPersistence:am,unlockVault:Zn,vaultExists:sm},Symbol.toStringTag,{value:"Module"})),P0="/kaspa_wasm_bg.wasm";let li=null,ai=null;function j0(e){var t,n,r,o;return e!=null&&e.Mnemonic?e:(t=e==null?void 0:e.default)!=null&&t.Mnemonic?e.default:(n=e==null?void 0:e.k)!=null&&n.Mnemonic?e.k:(o=(r=e==null?void 0:e.k)==null?void 0:r.default)!=null&&o.Mnemonic?e.k.default:e}async function R0(){globalThis.__forgeosKaspaWasmBytes||(ai||(ai=(async()=>{const e=await fetch(P0);if(!e.ok)throw new Error(`WASM_FETCH_FAILED: ${e.status} ${e.statusText}`);const t=await e.arrayBuffer();globalThis.__forgeosKaspaWasmBytes=new Uint8Array(t)})().catch(e=>{throw ai=null,e})),await ai)}async function vu(){return li||(li=(async()=>{try{await R0();const e=await Gp(()=>import("../../kaspa_wasm.js").then(r=>r.k),[]),t=j0(e),n=t.default||t.init;if(typeof n=="function")try{await n()}catch{}return t}catch(e){const t=e instanceof Error?e.message:String(e);throw new Error(`KASPA_WASM_INIT_FAILED: ${t}`)}})().catch(e=>{throw li=null,e})),li}const O0=new Set([12,15,18,21,24]),fm=vu;function Su(e){return e.trim().toLowerCase().split(/\s+/).join(" ")}function xu(e){const t=e.trim().split(/\s+/).filter(Boolean);if(!O0.has(t.length))throw new Error(`Seed phrase must be a valid BIP39 length (12/15/18/21/24 words; got ${t.length}).`)}async function wu(e,t){const n=await fm(),{Mnemonic:r,XPrv:o}=n,s=new r(e).toSeed(t.mnemonicPassphrase||void 0),u=new o(s);return{kaspa:n,masterXPrv:u}}function L0(e,t){try{return e.derivePath(t)}catch(n){if(t.startsWith("m/"))try{return e.derivePath(t.slice(2))}catch{}const r=n instanceof Error?n.message:String(n);throw new Error(`DERIVATION_PATH_INVALID: ${t} (${r})`)}}function Eu(e,t){const n=it(t),{XPrivateKey:r}=e.kaspa,i=L0(e.masterXPrv,n.path).intoString("kprv"),s=new r(i,!1,BigInt(n.account));return{privKey:n.chain===1?s.changeKey(n.index):s.receiveKey(n.index),derivation:n}}function pm(e,t){return e.toKeypair().toAddress(t).toString()}async function mm(e,t,n={}){const r=await wu(e,n),{privKey:o,derivation:i}=Eu(r,n.derivation);return{address:pm(o,t),derivation:i}}async function D0(e,t=24){const{Mnemonic:n}=await fm();let r;try{r=n.random(t)}catch{r=n.random()}const o=r.phrase,{address:i,derivation:s}=await mm(o,e,{derivation:Ze});return{phrase:o,address:i,network:e,derivation:s}}async function nd(e,t,n={}){xu(e);const r=Su(e),o=n.mnemonicPassphrase||void 0,{address:i,derivation:s}=await mm(r,t,n);return{phrase:r,address:i,network:t,mnemonicPassphrase:o,derivation:s}}async function b0(e,t,n={}){var A,k;xu(e);const r=Su(e),o=((A=n.basePaths)!=null&&A.length?n.basePaths:[...cu]).map(E=>String(E).trim()).filter(Boolean),[i,s]=n.accountRange??[0,4],[u,c]=n.indexRange??[0,9],d=((k=n.chains)!=null&&k.length?n.chains:[0,1]).filter(E=>E===0||E===1),g=Math.max(1,n.limit??60),m=await wu(r,n),h=[],S=new Set;e:for(let E=Math.max(0,i);E<=Math.max(i,s);E++)for(const f of d)for(let p=Math.max(0,u);p<=Math.max(u,c);p++)for(const y of o){const x=it({path:y,account:E,chain:f,index:p});try{const{privKey:_}=Eu(m,x),C=pm(_,t),R=C.toLowerCase();if(S.has(R))continue;if(S.add(R),h.push({address:C,derivation:x,derivationPath:bt(x),chainLabel:du(x.chain)}),h.length>=g)break e}catch{}}return h}async function z0(e,t,n={}){var m;xu(e);const r=Su(e),o=await wu(r,n),{privKey:i}=Eu(o,n.derivation),s=new TextEncoder().encode(t),{PrivateKey:u}=o.kaspa,c=i.toKeypair();let d;try{const h=c.privateKey??((m=c.toPrivateKey)==null?void 0:m.call(c));d=new u(h)}catch{d=i}const g=d.sign(s);return Array.from(g,h=>h.toString(16).padStart(2,"0")).join("")}const M0=3e4,ku=new Map;function F0(e){return String(e||"").trim().toLowerCase()}function U0(e,t){if(e!==0)return!1;const n=F0(t);return/^20[0-9a-f]{64}ac$/.test(n)}function B0(e,t){return U0(e,t)?"standard":"covenant"}function $0(e){const t=ku.get(e.toLowerCase());return!t||Date.now()-t.lastSyncAt>M0?null:t}function K0(e){ku.delete(e.toLowerCase())}function W0(e){const t=e.utxoEntry.scriptPublicKey.version,n=e.utxoEntry.scriptPublicKey.scriptPublicKey;return{txId:e.outpoint.transactionId,outputIndex:e.outpoint.index,address:e.address,amount:BigInt(e.utxoEntry.amount),scriptPublicKey:n,scriptVersion:t,scriptClass:B0(t,n),blockDaaScore:BigInt(e.utxoEntry.blockDaaScore),isCoinbase:e.utxoEntry.isCoinbase}}async function hm(e,t,n=new Set,r=0n){const i=(await d0(e,t)).map(W0),s=i.reduce((c,d)=>c+d.amount,0n),u={address:e.toLowerCase(),utxos:i,confirmedBalance:s,pendingOutbound:r,lastSyncAt:Date.now()};return ku.set(e.toLowerCase(),u),u}async function Au(e,t,n,r){const o=$0(e);return o||hm(e,t,n,r)}function rd(e,t,n,r=new Set){const o=e.filter(d=>!r.has(`${d.txId}:${d.outputIndex}`)),i=o.filter(d=>(d.scriptClass??"standard")==="standard").sort((d,g)=>g.amount>d.amount?1:g.amount<d.amount?-1:0),s=t+n;let u=0n;const c=[];for(const d of i)if(c.push(d),u+=d.amount,u>=s)break;if(u<s)throw o.reduce((g,m)=>g+m.amount,0n)>=s?new Error("COVENANT_ONLY_FUNDS"):new Error("INSUFFICIENT_FUNDS");return{selected:c,total:u}}function Un(e){return Number(e)/1e8}function V0(e){return BigInt(Math.floor(e*1e8))}const la="forgeos.pending.txs.v1",H0=7*24*60*60*1e3;let Gt=[],od=!1;function gm(e){return["CONFIRMED","FAILED","CANCELLED"].includes(e.state)}async function ym(){return new Promise(e=>{const t=Gt.map(Q0);chrome.storage.local.set({[la]:JSON.stringify(t)},e)})}async function Tu(){return od?Gt:(od=!0,new Promise(e=>{chrome.storage.local.get(la,t=>{try{const n=t[la];if(!n){e([]);return}const r=JSON.parse(n).map(Y0),o=Date.now()-H0;Gt=r.filter(i=>!(gm(i)&&i.builtAt<o))}catch{Gt=[]}e(Gt)})}))}async function vm(e){await Tu(),Gt.push(e),await ym()}async function ht(e){await Tu();const t=Gt.findIndex(n=>n.id===e.id);t>=0?Gt[t]=e:Gt.push(e),await ym()}async function G0(e){return await Tu(),Gt.filter(t=>t.fromAddress.toLowerCase()===e.toLowerCase()&&!gm(t))}async function X0(e){const t=await G0(e),n=new Set;for(const r of t)for(const o of r.inputs)n.add(`${o.txId}:${o.outputIndex}`);return n}function Q0(e){return{...e,fee:e.fee.toString(),changeOutput:e.changeOutput?{...e.changeOutput,amount:e.changeOutput.amount.toString()}:null,outputs:e.outputs.map(t=>({...t,amount:t.amount.toString()})),inputs:e.inputs.map(t=>({...t,amount:t.amount.toString(),blockDaaScore:t.blockDaaScore.toString()}))}}function Y0(e){return{...e,fee:BigInt(e.fee),changeOutput:e.changeOutput?{...e.changeOutput,amount:BigInt(e.changeOutput.amount)}:null,outputs:e.outputs.map(t=>({...t,amount:BigInt(t.amount)})),inputs:e.inputs.map(t=>({...t,amount:BigInt(t.amount),blockDaaScore:BigInt(t.blockDaaScore),scriptClass:t.scriptClass==="covenant"?"covenant":"standard"}))}}var Nd;const nl=((Nd=import.meta)==null?void 0:Nd.env)??{};function Iu(e,t,n,r){const o=Number(nl==null?void 0:nl[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}const Z0=Iu("VITE_EXT_TX_FEE_SAFETY_BPS",11500,1e4,3e4),id=BigInt(Iu("VITE_EXT_TX_FEE_MIN_SOMPI",1e3,1,1e9)),sd=BigInt(Iu("VITE_EXT_TX_FEE_MAX_SOMPI",2e8,1e3,5e9));function ld(e){const t=(e*BigInt(Z0)+9999n)/10000n;return t<id?id:t>sd?sd:t}function J0(e){return null}const q0=vu;async function Sm(e,t,n,r){const o=V0(n);if(o<=0n)throw new Error("AMOUNT_TOO_SMALL");const i=J0(),s=o+(i??0n),u=i?3:2,c=await X0(e),d=await Au(e,r),g=ld(await ia(1,u,r)),{selected:m,total:h}=rd(d.utxos,s,g,c),S=ld(await ia(m.length,u,r));let A=m,k=h;if(h<s+S){const x=rd(d.utxos,s,S,c);A=x.selected,k=x.total}const E=k-s-S,f=[{address:t,amount:o}],p=E>0n?{address:e,amount:E}:null;return{id:crypto.randomUUID(),state:"BUILDING",fromAddress:e,network:r,inputs:A,outputs:f,changeOutput:p,fee:S,platformFee:i??void 0,builtAt:Date.now()}}async function ev(e){const t=await q0(),n=t.UtxoEntry,r=e.inputs.map(d=>{const g={address:d.address,outpoint:{transactionId:d.txId,index:d.outputIndex},amount:d.amount,scriptPublicKey:{version:d.scriptVersion,scriptPublicKey:d.scriptPublicKey},blockDaaScore:d.blockDaaScore,isCoinbase:d.isCoinbase};if(n)try{return new n(g)}catch{return g}return g}),o=e.outputs.map(d=>({address:d.address,amount:d.amount})),i={entries:r,outputs:o,changeAddress:e.fromAddress,priorityFee:{sompi:e.fee},networkId:e.network},s=t.Generator;if(!s)throw new Error("WASM_GENERATOR_UNAVAILABLE: kaspa-wasm Generator class not found. Ensure kaspa-wasm  0.13.0 is installed.");const c=new s(i).next();if(!c)throw new Error("GENERATOR_EMPTY: Generator produced no transaction. Check UTXO availability.");return c}const tv={mainnet:"kaspa:","testnet-10":"kaspatest:","testnet-11":"kaspatest:","testnet-12":"kaspatest:"};async function xm(e){var c,d;const t=[];let n;try{const g=e.inputs.filter(h=>(h.scriptClass??"standard")==="covenant");g.length>0&&t.push(`COVENANT_INPUT_UNSUPPORTED: ${g.length} covenant UTXO(s) require covenant-aware spend logic`),n=await Au(e.fromAddress,e.network);const m=new Set(n.utxos.map(h=>`${h.txId}:${h.outputIndex}`));for(const h of e.inputs){const S=`${h.txId}:${h.outputIndex}`;m.has(S)||t.push(`UTXO_SPENT: input ${S} no longer available`)}}catch{t.push("UTXO_FETCH_FAILED: could not verify input availability")}let r;try{r=await ia(e.inputs.length,e.outputs.length+(e.changeOutput?1:0),e.network),e.fee<r&&t.push(`FEE_TOO_LOW: estimated ${e.fee.toString()} sompi, network requires ${r.toString()} sompi`)}catch{r=e.fee}const o=e.inputs.reduce((g,m)=>g+m.amount,0n),i=e.outputs.reduce((g,m)=>g+m.amount,0n),s=((c=e.changeOutput)==null?void 0:c.amount)??0n;o!==i+s+e.fee&&t.push(`BALANCE_MISMATCH: inputs=${o} != outputs=${i} + change=${s} + fee=${e.fee}`);for(const g of e.outputs)Ro(g.address)||t.push(`INVALID_ADDRESS: "${g.address}" is not a valid Kaspa address`);e.changeOutput&&!Ro(e.changeOutput.address)&&t.push(`INVALID_CHANGE_ADDRESS: "${e.changeOutput.address}"`);const u=tv[e.network];if(u){for(const g of e.outputs)g.address.toLowerCase().startsWith(u)||t.push(`NETWORK_MISMATCH: output address "${g.address}" does not match network "${e.network}"`);e.changeOutput&&!e.changeOutput.address.toLowerCase().startsWith(u)&&t.push(`NETWORK_MISMATCH: change address "${e.changeOutput.address}" does not match network "${e.network}"`)}return{valid:t.length===0,estimatedFee:r??e.fee,changeAmount:((d=e.changeOutput)==null?void 0:d.amount)??0n,errors:t}}const nv=vu;async function wm(e){const t=Pn();if(!t||!t.mnemonic)throw new Error("WALLET_LOCKED");const n=await nv(),{Mnemonic:r,XPrv:o,XPrivateKey:i}=n;let s=null;try{const u=it(t.derivation??Ze),d=new r(t.mnemonic).toSeed(t.mnemonicPassphrase||void 0),g=new o(d);let m=g;try{m=g.derivePath(u.path)}catch(y){if(u.path.startsWith("m/"))m=g.derivePath(u.path.slice(2));else throw y}const h=m.intoString("kprv"),S=new i(h,!1,BigInt(u.account)),A=u.chain===1?S.changeKey(u.index):S.receiveKey(u.index),k=A.toKeypair();if(s=k.privateKey??(typeof k.toPrivateKey=="function"?k.toPrivateKey():null),!s){const y=n.PrivateKey,x=typeof A.toString=="function"?A.toString("hex"):null;y&&x&&(s=new y(x))}if(!s)throw new Error("PRIVKEY_UNAVAILABLE: Could not extract PrivateKey from keypair. Verify kaspa-wasm version compatibility.");const E=await ev(e);await E.sign([s]);let f;typeof E.serializeToObject=="function"?f=JSON.stringify({transaction:E.serializeToObject()}):typeof E.toJSON=="function"?f=E.toJSON():f=JSON.stringify({transaction:E});const p=E.id;return{...e,state:"SIGNED",signedTxPayload:f,txId:p,signedAt:Date.now()}}catch(u){const c=u instanceof Error?u.message:String(u);throw new Error(`SIGN_FAILED: ${c}`)}finally{s=null}}const rv=1e3,ov=5*6e4;async function Em(e){if(e.txId)return console.info(`[broadcast] tx ${e.id} already has txId=${e.txId}; skipping re-broadcast`),{...e,state:"CONFIRMING"};if(!e.signedTxPayload)throw new Error("NOT_SIGNED");let t;try{t=JSON.parse(e.signedTxPayload)}catch{throw new Error("BROADCAST_FAILED: signedTxPayload is not valid JSON")}let n;try{n=await h0(t,e.network)}catch(o){const i=o instanceof Error?o.message:String(o),s={...e,state:"FAILED",error:`BROADCAST_FAILED: ${i}`};throw await ht(s),new Error(`BROADCAST_FAILED: ${i}`)}const r={...e,state:"BROADCASTING",txId:n,broadcastAt:Date.now(),signedTxPayload:void 0};return await ht(r),K0(e.fromAddress),{...r,state:"CONFIRMING"}}async function iv(e,t=()=>{}){if(!e.txId)throw new Error("NO_TXID: cannot poll without txId");const n=Date.now()+ov;let r={...e,state:"CONFIRMING"};for(;Date.now()<n;){await sv(rv);try{const o=await rm(e.txId,e.network);if(o!=null&&o.acceptingBlockHash)return r={...r,state:"CONFIRMED",confirmations:1,confirmedAt:Date.now(),signedTxPayload:void 0},await ht(r),t(r),r}catch{}}throw r={...r,state:"FAILED",error:"CONFIRM_TIMEOUT: transaction not confirmed within 5 minutes"},await ht(r),t(r),new Error(r.error)}function sv(e){return new Promise(t=>setTimeout(t,e))}async function lv(e,t){const n=await Em(e);return t(n),iv(n,t).catch(()=>{}),n}const ad=!0,av=!1,km={tokens:{KAS:{id:"KAS",symbol:"KAS",name:"Kaspa",decimals:8,assetId:null,enabled:!0,disabledReason:null},USDT:{id:"USDT",symbol:"USDT",name:"Tether USD",decimals:6,assetId:null,enabled:ad,disabledReason:null},USDC:{id:"USDC",symbol:"USDC",name:"USD Coin",decimals:6,assetId:null,enabled:ad,disabledReason:null},ZRX:{id:"ZRX",symbol:"0x",name:"0x Protocol",decimals:18,assetId:null,enabled:av,disabledReason:"0x route is disabled in this wallet build."}}};function ud(e){var t;return((t=km.tokens[e])==null?void 0:t.enabled)??!1}function Am(){return Object.values(km.tokens)}const uv={default:a.border,accent:a.accent,warn:a.warn,danger:a.danger,purple:a.purple,success:a.ok},cv={default:"rgba(143,160,181,0.08)",accent:"rgba(57,221,182,0.12)",warn:"rgba(247,178,103,0.12)",danger:"rgba(255,93,122,0.12)",purple:"rgba(143,123,255,0.12)",success:"rgba(57,221,182,0.1)"},Bn={padding:"13px 15px 15px",display:"flex",flexDirection:"column",gap:11,minWidth:0};function Lr(){return{backgroundColor:a.bg,backgroundImage:["radial-gradient(120% 95% at 50% -8%, rgba(57,221,182,0.18) 0%, rgba(57,221,182,0.05) 40%, transparent 72%)","radial-gradient(88% 86% at 92% 100%, rgba(57,221,182,0.12) 0%, transparent 70%)","radial-gradient(80% 90% at 8% 88%, rgba(23,64,74,0.3) 0%, transparent 74%)","linear-gradient(165deg, #0b141f 0%, #070e16 52%, #05090f 100%)","repeating-linear-gradient(0deg, transparent 0px, transparent 31px, rgba(57,221,182,0.06) 32px)","repeating-linear-gradient(90deg, transparent 0px, transparent 31px, rgba(57,221,182,0.05) 32px)"].join(", "),backgroundSize:"auto, auto, auto, auto, 32px 32px, 32px 32px",backgroundPosition:"center, center, center, center, center, center"}}function je(e="default",t=!1){const n=uv[e],r=cv[e];return{background:"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)",border:`1px solid ${e==="default"?a.border:`${n}32`}`,borderRadius:12,padding:t?"10px 12px":"12px 14px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.04), 0 10px 22px rgba(0,0,0,0.22)",position:"relative",overflow:"hidden",minWidth:0,overflowWrap:"anywhere",backgroundImage:[`radial-gradient(circle at 100% 0%, ${r}, transparent 46%)`,"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)"].join(", ")}}function me(){return{background:"linear-gradient(180deg, rgba(5,7,10,0.62), rgba(7,11,16,0.72))",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0,overflowWrap:"anywhere"}}const He={fontSize:8,color:a.dim,letterSpacing:"0.14em",fontWeight:700,...D},Vn={fontSize:10,color:a.text,fontWeight:700,letterSpacing:"0.08em",...D};function Tm(e=1){return{height:1,background:`rgba(33,48,67,${.9*e})`}}function ee(e=a.dim,t=!1){return{background:t?"linear-gradient(180deg, rgba(14,22,32,0.9), rgba(9,14,20,0.9))":"rgba(16,25,35,0.55)",border:`1px solid ${e===a.dim?a.border:`${e}40`}`,borderRadius:8,color:e,cursor:"pointer",fontSize:10,fontWeight:700,letterSpacing:"0.08em",...D,boxShadow:t?"0 6px 14px rgba(0,0,0,0.18)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function $n(e=!0){return{background:e?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:"rgba(33,48,67,0.55)",color:e?"#04110E":a.dim,border:"none",borderRadius:8,cursor:e?"pointer":"not-allowed",fontSize:10,fontWeight:700,letterSpacing:"0.08em",...D,boxShadow:e?"0 8px 18px rgba(57,221,182,0.16)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function Im(e=!1){return{width:"100%",boxSizing:"border-box",background:"linear-gradient(180deg, rgba(8,13,20,0.82), rgba(9,14,21,0.9))",border:`1px solid ${e?a.danger:a.border}`,borderRadius:8,padding:"9px 11px",color:a.text,fontSize:10,...D,outline:"none",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0}}const cd={mainnet:"https://explorer.kaspa.org","testnet-10":"https://explorer-tn10.kaspa.org","testnet-11":"https://explorer-tn11.kaspa.org","testnet-12":"https://explorer-tn12.kaspa.org"};function dv({address:e,balance:t,usdPrice:n,network:r,hideBalances:o=!1,onOpenSwap:i,mode:s,onModeConsumed:u,onBalanceInvalidated:c}){const[d,g]=w.useState("idle"),[m,h]=w.useState(!1),[S,A]=w.useState(""),[k,E]=w.useState(""),[f,p]=w.useState(null),[y,x]=w.useState([]),[_,C]=w.useState(null),[R,N]=w.useState(null),[W,K]=w.useState(!1),[H,Se]=w.useState([]),[le,we]=w.useState(!1),[Oe,Ie]=w.useState(null),[J,P]=w.useState(null),[z,F]=w.useState(0);w.useEffect(()=>{s==="send"&&(g("form"),h(!1),u==null||u()),s==="receive"&&(h(!0),g("idle"),u==null||u())},[s]),w.useEffect(()=>{let v=!0;const j=async(Ne=!1)=>{if(!e){if(!v)return;Se([]),Ie(null),P(null),we(!1);return}if(v){we(!0),Ne&&Ie(null);try{const nt=Ne?await hm(e,r):await Au(e,r);if(!v)return;const Ot=[...nt.utxos].sort((ft,tr)=>ft.amount===tr.amount?0:ft.amount>tr.amount?-1:1);Se(Ot),P(Date.now()),Ie(null)}catch(nt){if(!v)return;Ie(nt instanceof Error?nt.message:"Failed to load UTXOs.")}finally{v&&we(!1)}}};j(!0).catch(()=>{});const $=window.setInterval(()=>{j(!1).catch(()=>{})},25e3);return()=>{v=!1,clearInterval($)}},[e,r,z]);const G=Pn(),B=!!(G!=null&&G.mnemonic),te=r==="mainnet"?"kaspa:":"kaspatest:",ne=Ro(S)&&S.toLowerCase().startsWith(te),Z=parseFloat(k),fe=Z>0&&(t===null||Z<=t),O=ne&&fe,ae=async()=>{if(!e||!O)return;g("building"),x([]),N(null);let v;try{v=await Sm(e,S.trim(),Z,r),await vm(v),p(v)}catch(j){const $=j instanceof Error?j.message:String(j);N($==="INSUFFICIENT_FUNDS"?"Insufficient balance including fees.":$==="COVENANT_ONLY_FUNDS"?"Funds are currently locked in covenant outputs. Standard send only spends standard UTXOs.":`Build failed: ${$}`),g("error");return}g("dry_run");try{const j=await xm(v);if(!j.valid){x(j.errors),g("error"),await ht({...v,state:"DRY_RUN_FAIL",error:j.errors.join("; ")});return}const $={...v,state:"DRY_RUN_OK",fee:j.estimatedFee};p($),await ht($)}catch(j){N(`Validation failed: ${j instanceof Error?j.message:String(j)}`),g("error");return}g("confirm")},_e=async()=>{if(!f||!B)return;g("signing");let v;try{v=await wm(f),p(v),await ht(v)}catch(j){const $=j instanceof Error?j.message:String(j);N($==="WALLET_LOCKED"?"Wallet locked  please unlock first.":`Signing failed: ${$}`),g("error");return}g("broadcast");try{await lv(v,async j=>{p(j),await ht(j),j.state==="CONFIRMED"&&(C(j.txId??null),g("done"),F($=>$+1),c==null||c()),j.state==="FAILED"&&(N(j.error??"Transaction failed."),g("error"))})}catch(j){N(j instanceof Error?j.message:"Transaction timed out awaiting confirmation."),g("error")}},oe=async()=>{f&&await ht({...f,state:"CANCELLED"}),$e()},$e=()=>{g("idle"),p(null),x([]),N(null),C(null)},Yt=async()=>{if(e)try{await navigator.clipboard.writeText(e),K(!0),setTimeout(()=>K(!1),2e3)}catch{}},Le=[...Am()].sort((v,j)=>v.id==="KAS"?-1:j.id==="KAS"?1:0),ct={KAS:"../icons/kaspa-logo.png",USDT:"../icons/usdt.png",USDC:"../icons/usdc.png"},Ee={KAS:t??0,USDT:0,USDC:0,ZRX:0},dt=cd[r]??cd.mainnet,wt=e?`${dt}/addresses/${e}`:dt,$t=H.reduce((v,j)=>v+j.amount,0n),jt=Un($t),Ke=H.length?Un(H[0].amount):0,Rt=H.filter(v=>(v.scriptClass??"standard")==="covenant").length,U=H.length-Rt,T=J?new Date(J).toLocaleTimeString([],{hour12:!1}):"",M=v=>o?"":v,Y=(v,j)=>o?" KAS":`${Tt(v,j)} KAS`,pe=(v,j)=>o?"$":`$${Tt(v,j)}`;return l.jsxs("div",{style:Bn,children:[l.jsxs("div",{style:{...je("purple"),background:"linear-gradient(165deg, rgba(10,18,28,0.96) 0%, rgba(7,13,22,0.93) 52%, rgba(5,10,18,0.94) 100%)",border:`1px solid ${a.accent}3A`,boxShadow:"inset 0 1px 0 rgba(255,255,255,0.06), 0 12px 26px rgba(0,0,0,0.28), 0 0 24px rgba(57,221,182,0.09)"},children:[l.jsx("div",{style:{position:"absolute",top:-32,right:-26,width:130,height:130,borderRadius:"50%",background:"radial-gradient(circle, rgba(57,221,182,0.26) 0%, rgba(57,221,182,0.05) 48%, transparent 75%)",pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",backgroundImage:"repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(57,221,182,0.05) 24px), repeating-linear-gradient(90deg, transparent 0px, transparent 23px, rgba(57,221,182,0.04) 24px)",opacity:.45}}),l.jsx("div",{style:{marginBottom:11,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,position:"relative"},children:l.jsx("div",{style:He,children:"TOKEN BALANCES"})}),Le.map((v,j)=>{const $=ct[v.id]??ct.KAS,Ne=v.id==="KAS",nt=Ne?48:30,Ot=Ne?40:20,ft=Ee[v.id]??0,tr=v.id==="KAS"?Tt(ft,4):Tt(ft,2),Es=M(tr);return l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(160deg, rgba(15,24,36,0.86), rgba(8,14,22,0.88))",border:`1px solid ${a.border}`,borderRadius:12,padding:"10px 11px",marginTop:j>0?8:0,opacity:Ne||v.enabled?1:.58,position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:nt,height:nt,borderRadius:"50%",flexShrink:0,background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",border:"none",boxShadow:"none",overflow:"hidden"},children:l.jsx("img",{src:$,alt:`${v.symbol} logo`,style:{width:Ot,height:Ot,objectFit:"contain",borderRadius:"50%",filter:"none"}})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,letterSpacing:"0.05em",...D},children:v.symbol}),l.jsx("div",{style:{fontSize:9,color:a.dim,letterSpacing:"0.03em"},children:v.name})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:18,fontWeight:700,color:a.text},children:Es}),!v.enabled&&v.disabledReason&&l.jsx("div",{style:{fontSize:8,color:a.dim,maxWidth:140,lineHeight:1.35,marginTop:3},children:v.disabledReason})]})]},v.id)}),e&&l.jsx("div",{style:{marginTop:11,textAlign:"right",position:"relative",zIndex:1},children:l.jsx("button",{onClick:()=>chrome.tabs.create({url:wt}),style:{...ee(a.accent,!0),padding:"6px 9px",fontSize:9,color:a.accent},children:"EXPLORER "})})]}),l.jsxs("div",{style:je("default"),children:[l.jsxs("div",{style:{marginBottom:9,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsx("div",{style:He,children:"UTXO SET"}),l.jsx("button",{onClick:()=>F(v=>v+1),disabled:le,style:{...ee(a.accent,!0),padding:"5px 8px",fontSize:8,color:a.accent},children:le?"SYNC":"REFRESH"})]}),l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:9},children:[l.jsxs("div",{style:{...me(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"COUNT"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...D},children:H.length})]}),l.jsxs("div",{style:{...me(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"TOTAL"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...D},children:Y(jt,4)})]}),l.jsxs("div",{style:{...me(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"LARGEST"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...D},children:Y(Ke,4)})]})]}),Rt>0&&l.jsxs("div",{style:{...me(),fontSize:8,color:a.warn,padding:"8px 10px",marginBottom:8,lineHeight:1.45},children:["Covenant outputs detected: ",Rt,". Standard send currently uses spendable UTXOs only (",U," available)."]}),le&&H.length===0&&l.jsxs("div",{style:{...me(),fontSize:8,color:a.dim,padding:"9px 10px"},children:["Fetching UTXOs from ",r,""]}),!le&&H.length===0&&!Oe&&l.jsxs("div",{style:{...me(),fontSize:8,color:a.dim,padding:"9px 10px"},children:["No UTXOs found for this wallet on ",r,"."]}),Oe&&l.jsx("div",{style:{...me(),fontSize:8,color:a.danger,padding:"9px 10px",marginBottom:H.length?8:0},children:Oe}),H.length>0&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[H.slice(0,6).map((v,j)=>{const $=Un(v.amount);return l.jsx("div",{style:{...me(),padding:"8px 9px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsxs("div",{style:{minWidth:0},children:[l.jsxs("div",{style:{fontSize:8,color:a.dim,...D,letterSpacing:"0.04em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["#",j+1," ",v.txId.slice(0,16),":",v.outputIndex]}),l.jsxs("div",{style:{fontSize:8,color:a.muted,marginTop:2},children:["DAA ",v.blockDaaScore.toString()," ",v.isCoinbase?" COINBASE":""," ",(v.scriptClass??"standard")==="covenant"?" COVENANT":""]})]}),l.jsx("div",{style:{fontSize:11,color:a.accent,fontWeight:700,...D},children:Y($,4)})]})},`${v.txId}:${v.outputIndex}`)}),H.length>6&&l.jsxs("div",{style:{fontSize:8,color:a.dim,textAlign:"right",paddingTop:1},children:["+",H.length-6," more UTXOs"]})]}),l.jsx("div",{style:{...Tm(),margin:"9px 0 6px"}}),l.jsxs("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.06em",textAlign:"right"},children:["UPDATED ",T]})]}),d==="idle"&&!m&&e&&l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:()=>g("form"),style:rl(),children:"SEND"}),l.jsx("button",{onClick:()=>h(!0),style:rl(),children:"RECEIVE"}),l.jsx("button",{onClick:()=>i?i():chrome.tabs.create({url:"https://forge-os.xyz"}),style:rl(),children:"SWAP"})]}),d==="form"&&l.jsxs("div",{style:vr(),children:[l.jsxs("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between",marginBottom:6},children:[l.jsx("div",{style:Vn,children:"SEND KAS"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[t!==null&&l.jsxs("div",{style:{fontSize:8,color:a.dim},children:["Bal: ",Y(t,2),n>0?`  ${pe(t*n,2)}`:""]}),l.jsx("button",{onClick:()=>g("idle"),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:""})]})]}),!B&&l.jsx("div",{style:{...me(),fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.4},children:"External wallet: signing opens in Forge-OS."}),l.jsx("input",{value:S,onChange:v=>A(v.target.value),placeholder:`Recipient ${te}qp`,style:dd(!!(S&&!ne))}),S&&!ne&&l.jsx("div",{style:{fontSize:8,color:a.danger},children:S.toLowerCase().startsWith(te)?"Invalid Kaspa address":`Must start with "${te}" on ${r}`}),l.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[l.jsx("input",{value:k,onChange:v=>E(v.target.value),placeholder:"Amount (KAS)",type:"number",min:"0",style:{...dd(!1),paddingRight:48}}),t!==null&&t>0&&l.jsx("button",{onClick:()=>{const v=Math.max(0,t-.01);E(v>0?String(parseFloat(v.toFixed(4))):"")},style:{position:"absolute",right:6,background:`${a.accent}20`,border:`1px solid ${a.accent}50`,borderRadius:4,padding:"2px 6px",color:a.accent,fontSize:8,fontWeight:700,cursor:"pointer",...D,letterSpacing:"0.06em"},children:"MAX"})]}),Z>0&&n>0&&l.jsxs("div",{style:{fontSize:8,color:a.dim},children:[" ",pe(Z*n,2)]}),l.jsx("button",{onClick:B?ae:()=>chrome.tabs.create({url:`https://forge-os.xyz?send=1&to=${encodeURIComponent(S)}&amount=${encodeURIComponent(k)}`}),disabled:!O,style:ol(O),children:B?"PREVIEW SEND ":"OPEN IN FORGE-OS "})]}),(d==="building"||d==="dry_run")&&l.jsx(il,{icon:"",title:d==="building"?"SELECTING INPUTS":"VALIDATING",sub:d==="building"?"Fetching UTXOs and estimating network fee.":"Running 5 security checks.",color:a.accent}),d==="confirm"&&f&&l.jsx(fv,{tx:f,usdPrice:n,onConfirm:_e,onCancel:oe}),d==="signing"&&l.jsx(il,{icon:"",title:"SIGNING",sub:"Deriving key and signing inputs with kaspa-wasm.",color:a.warn}),d==="broadcast"&&l.jsx(il,{icon:"",title:"BROADCASTING",sub:`Polling for confirmation. TxID: ${f!=null&&f.txId?f.txId.slice(0,20)+"":"pending"}`,color:a.accent}),d==="done"&&l.jsxs("div",{style:{...vr(),background:`${a.ok}0A`,borderColor:`${a.ok}30`},children:[l.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700,marginBottom:6},children:" TRANSACTION CONFIRMED"}),_&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"Transaction ID"}),l.jsx("div",{style:{fontSize:8,color:a.text,wordBreak:"break-all",marginBottom:8},children:_}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`${dt}/txs/${_}`}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...D},children:"View on Explorer "})]}),l.jsx("button",{onClick:$e,style:{...ol(!0),marginTop:10,background:`${a.ok}20`,color:a.ok},children:"DONE"})]}),d==="error"&&l.jsxs("div",{style:{...vr(),background:a.dLow,borderColor:`${a.danger}40`},children:[l.jsx("div",{style:{fontSize:9,color:a.danger,fontWeight:700,marginBottom:6},children:"TRANSACTION FAILED"}),R&&l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:R}),y.map((v,j)=>l.jsxs("div",{style:{fontSize:8,color:a.danger,marginBottom:2},children:[" ",v]},j)),l.jsx("button",{onClick:$e,style:{...ol(!0),marginTop:8,background:a.dLow,border:`1px solid ${a.danger}50`,color:a.danger},children:"TRY AGAIN"})]}),m&&e&&l.jsxs("div",{style:vr(),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[l.jsx("div",{style:Vn,children:"RECEIVE KAS"}),l.jsx("button",{onClick:()=>h(!1),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:""})]}),l.jsx("div",{style:{...me(),fontSize:8,color:a.dim,lineHeight:1.6,wordBreak:"break-all",marginBottom:6},children:e}),l.jsx("button",{onClick:Yt,style:{...ee(W?a.ok:a.dim,!0),padding:"7px 8px",color:W?a.ok:a.dim,width:"100%"},children:W?" COPIED":"COPY ADDRESS"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:4},children:"Send KAS to this address from any Kaspa wallet. Transactions confirm at BlockDAG speed."})]})]})}const vr=()=>({...je("default"),display:"flex",flexDirection:"column",gap:7}),dd=e=>({...Im(e)}),rl=e=>({...ee(a.dim,!0),flex:1,padding:"8px 0",textTransform:"uppercase",letterSpacing:"0.1em"}),ol=e=>({...$n(e),padding:"9px",width:"100%"});function il({icon:e,title:t,sub:n,color:r}){return l.jsxs("div",{style:{...vr(),textAlign:"center"},children:[l.jsx("div",{style:{fontSize:20},children:e}),l.jsx("div",{style:{fontSize:9,color:r,fontWeight:700,letterSpacing:"0.1em"},children:t}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:n})]})}function fv({tx:e,usdPrice:t,onConfirm:n,onCancel:r}){var m;const o=e.outputs[0],i=o?Un(o.amount):0,s=Un(e.fee),u=e.platformFee?Un(e.platformFee):0,c=e.changeOutput?Un(e.changeOutput.amount):0,d=i+s+u,g=(h,S,A=a.text,k)=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:5},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim},children:[h,k&&l.jsx("span",{style:{fontSize:8,color:a.muted,marginLeft:4},children:k})]}),l.jsx("span",{style:{fontSize:9,color:A,fontWeight:700},children:S})]});return l.jsxs("div",{style:{...vr(),borderColor:`${a.accent}30`},children:[l.jsx("div",{style:{...Vn,color:a.accent},children:"CONFIRM TRANSACTION"}),l.jsxs("div",{style:me(),children:[g("TO",(m=e.outputs[0])!=null&&m.address?e.outputs[0].address.slice(0,22)+"":""),g("AMOUNT",`${Tt(i,4)} KAS${t>0?`  $${Tt(i*t,2)}`:""}`),g("NETWORK FEE",`${Tt(s,8)} KAS`,a.warn," miners"),u>0&&g("PLATFORM FEE",`${Tt(u,6)} KAS`,a.dim," treasury"),c>0&&g("CHANGE",`${Tt(c,4)} KAS`,a.dim),l.jsx("div",{style:{...Tm(),margin:"6px 0"}}),g("TOTAL COST",`${Tt(d,4)} KAS`,a.accent)]}),l.jsx("div",{style:{fontSize:8,color:a.warn,lineHeight:1.5},children:" Kaspa transactions are irreversible once confirmed."}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:r,style:{...ee(a.dim,!0),flex:1,padding:"8px 0"},children:"CANCEL"}),l.jsx("button",{onClick:n,style:{...$n(!0),flex:2,padding:"8px 0"},children:"SIGN & SEND "})]})]})}function fo(e){return e&&typeof e=="object"?e:{}}function Jt(...e){for(const t of e)if(typeof t=="string"&&t.trim())return t.trim();return""}function fd(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.replace(/[$,\s]/g,""),n=Number(t);if(Number.isFinite(n))return n}return 0}function rr(e){if(typeof e=="number"&&Number.isFinite(e)&&e>0)return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t)&&t>0)return t}return 0}function pv(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t.startsWith("kaspa:")?"mainnet":t.startsWith("kaspatest:")?"testnet":null}function po(e,t="unknown"){const n=String(e??"").trim().toLowerCase().replace(/_/g,"-");if(n.includes("mainnet")||n==="main"||n==="livenet")return"mainnet";if(n.includes("testnet-12")||n==="tn12")return"testnet-12";if(n.includes("testnet-11")||n==="tn11")return"testnet-11";if(n.includes("testnet-10")||n==="tn10")return"testnet-10";if(n==="testnet"||n.startsWith("tn")||n.startsWith("testnet"))return"testnet";if(n==="kaspa")return"mainnet";if(n==="kaspatest")return"testnet";const r=String(t??"").trim().toLowerCase().replace(/_/g,"-");return r==="mainnet"?"mainnet":r==="testnet-12"||r==="tn12"?"testnet-12":r==="testnet-10"||r==="tn10"?"testnet-10":r==="testnet-11"||r==="tn11"?"testnet-11":r.startsWith("testnet")||r.startsWith("tn")?"testnet":"unknown"}function mv(e,t){const n=fo(e.wallet),r=fo(e.deployTx),o=fo(e.meta),i=Jt(e.network,n.network,r.network,o.network);if(i)return po(i,"unknown");const s=Jt(n.address,e.address,r.from,r.to),u=pv(s);return po(u||t,"unknown")}function hv(e){const t=e.toLowerCase();return t==="autonomous"||t==="auto"||t==="bot"}function gv(e){const t=e.toLowerCase();return t==="active"||t==="running"||t==="live"}function yv(e,t){const n=fo(e),r=fo(n.wallet),o=Date.now(),i=Jt(n.agentId,n.id,n.name)||`agent_${o}_${Math.random().toString(36).slice(2,8)}`,s=Jt(n.name,n.agentName)||"Agent",u=Jt(n.strategyLabel,n.strategy,n.strategyTemplate)||"",c=Jt(n.risk)||"",g=Jt(n.capitalLimit,n.capital_limit)||null,m=Jt(n.execMode,n.mode)||"manual",h=Jt(n.status)||"idle",S=mv(n,t),A=fd(n.pnlUsd)||fd(n.pnl),k=Math.max(rr(n.updatedAt),rr(n.lastActionTime),rr(n.lastDecisionTs),rr(n.lastSeenAt),rr(n.deployedAt),rr(r.updatedAt)),E=k>0&&o-k<=5*60*1e3,f=hv(m),p=gv(h)||f||E;return{id:i,name:s,strategy:u,risk:c,capitalLimitKas:g,execMode:m,status:h,isBot:f,isActive:p,pnlUsd:A,network:S,updatedAt:k,raw:n}}function vv(e,t){const n=[];for(const r of e){const o=yv(r,t);if(o&&n.push(o),n.length>=64)break}return n.sort((r,o)=>r.isActive!==o.isActive?r.isActive?-1:1:o.updatedAt-r.updatedAt),n}function Sv(e,t,n){if(t==="all")return!0;if(t==="mainnet")return e==="mainnet";if(t==="testnet-12")return e==="testnet-12"||e==="testnet";if(t==="testnet-10")return e==="testnet-10"||e==="testnet";if(t==="testnet-11")return e==="testnet-11"||e==="testnet";const r=po(n,"unknown");return r==="mainnet"?e==="mainnet":r==="testnet-12"?e==="testnet-12"||e==="testnet":r==="testnet-10"?e==="testnet-10"||e==="testnet":r==="testnet-11"?e==="testnet-11"||e==="testnet":r==="testnet"?e==="testnet"||e==="testnet-10"||e==="testnet-11"||e==="testnet-12":!0}function xv(e,t,n,r){return e.filter(o=>!(!Sv(o.network,t,r)||n==="bots"&&!o.isBot||n==="manual"&&o.isBot))}function _m(e){return e==="mainnet"?"MAINNET":e==="testnet-12"?"TN12":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet"?"TESTNET":"UNKNOWN"}const wv="forgeos.session.agents.v2";function sl(e,t){if(!e||e<=0)return"No recent heartbeat";const n=Math.max(0,t-e);return n<1e3?"just now":n<6e4?`${Math.floor(n/1e3)}s ago`:n<36e5?`${Math.floor(n/6e4)}m ago`:n<864e5?`${Math.floor(n/36e5)}h ago`:`${Math.floor(n/864e5)}d ago`}function pd(e,t){if(e==="current"){const n=po(t,"unknown");return`CURRENT (${_m(n)})`}return e==="mainnet"?"MAINNET":e==="testnet-12"?"TN12":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":"ALL"}function md(e){return e==="all"?"ALL MODES":e==="bots"?"BOTS":"MANUAL"}function Ev({network:e}){const[t,n]=w.useState([]),[r,o]=w.useState(!0),[i,s]=w.useState("current"),[u,c]=w.useState("all"),[d,g]=w.useState(0),[m,h]=w.useState(Date.now()),S=w.useCallback(async()=>{const E=await $y();n(vv(E,e)),g(Date.now()),o(!1)},[e]);w.useEffect(()=>{S().catch(()=>o(!1))},[S]),w.useEffect(()=>{const E=setInterval(()=>{S().catch(()=>{}),h(Date.now())},5e3);return()=>clearInterval(E)},[S]),w.useEffect(()=>{const E=(f,p)=>{p==="local"&&wv in f&&S().catch(()=>{})};return chrome.storage.onChanged.addListener(E),()=>chrome.storage.onChanged.removeListener(E)},[S]),w.useEffect(()=>{const E=f=>{(f==null?void 0:f.type)==="FORGEOS_AGENTS_UPDATED"&&S().catch(()=>{})};return chrome.runtime.onMessage.addListener(E),()=>chrome.runtime.onMessage.removeListener(E)},[S]);const A=w.useMemo(()=>xv(t,i,u,e),[t,u,e,i]),k=w.useMemo(()=>{const E=A.length,f=A.filter(x=>x.isBot).length,p=A.filter(x=>x.isActive).length,y=A.reduce((x,_)=>x+_.pnlUsd,0);return{total:E,bots:f,active:p,pnlUsd:y}},[A]);return r?l.jsx("div",{style:{...Bn,paddingTop:20,fontSize:9,color:a.dim,textAlign:"center"},children:"Loading agents"}):A.length===0?l.jsxs("div",{style:{...Bn,gap:10},children:[l.jsxs("div",{style:je("default",!0),children:[l.jsx("div",{style:{...He,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET FILTERS"}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","testnet-12","all"].map(E=>{const f=E===i;return l.jsx("button",{onClick:()=>s(E),style:{...ee(f?a.accent:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.accent}55`:a.border},children:pd(E,e)},E)})}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(E=>{const f=E===u;return l.jsx("button",{onClick:()=>c(E),style:{...ee(f?a.ok:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.ok}55`:a.border},children:md(E)},E)})})]}),l.jsxs("div",{style:{...Bn,...je("accent"),padding:"20px 18px",textAlign:"center",gap:14,alignItems:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}14`,border:`1px solid ${a.accent}35`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,boxShadow:"0 8px 18px rgba(57,221,182,0.12)"},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{...Vn,fontSize:11,marginBottom:6},children:"No Agents In This Filter"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6,maxWidth:220},children:"Live refresh runs every 5 seconds. Switch filters or deploy a new bot on Forge-OS."}),l.jsxs("div",{style:{fontSize:8,color:a.muted,marginTop:7},children:["Last sync ",d>0?sl(d,m):"never"]})]}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:10,padding:"10px 20px",color:"#04110E",fontSize:9,fontWeight:700,cursor:"pointer",...D,letterSpacing:"0.1em",boxShadow:"0 8px 18px rgba(57,221,182,0.16)"},children:"OPEN FORGE-OS "})]})]}):l.jsxs("div",{style:{...Bn,paddingTop:10,gap:8},children:[l.jsxs("div",{style:je("default",!0),children:[l.jsx("div",{style:{...He,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET OPTIONS"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:6,marginBottom:8},children:[l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"VISIBLE"}),l.jsx("div",{style:{fontSize:10,color:a.text,fontWeight:700},children:k.total})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"BOTS"}),l.jsx("div",{style:{fontSize:10,color:a.accent,fontWeight:700},children:k.bots})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"ACTIVE"}),l.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700},children:k.active})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"P&L USD"}),l.jsxs("div",{style:{fontSize:10,color:k.pnlUsd>=0?a.ok:a.danger,fontWeight:700},children:[k.pnlUsd>=0?"+":"-","$",Tt(Math.abs(k.pnlUsd),2)]})]})]}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","testnet-12","all"].map(E=>{const f=E===i;return l.jsx("button",{onClick:()=>s(E),style:{...ee(f?a.accent:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.accent}55`:a.border},children:pd(E,e)},E)})}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(E=>{const f=E===u;return l.jsx("button",{onClick:()=>c(E),style:{...ee(f?a.ok:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.ok}55`:a.border},children:md(E)},E)})})]}),l.jsxs("div",{style:{...He,marginBottom:2},children:["LIVE UPDATE  LAST SYNC ",d>0?sl(d,m).toUpperCase():"NEVER"]}),A.map(E=>{const f=E.pnlUsd>=0,p=String(E.execMode||"manual").toUpperCase(),y=E.isActive?a.ok:a.warn;return l.jsxs("div",{style:{...je(E.isActive?"accent":"default",!0),borderColor:E.isActive?`${a.accent}40`:a.border,padding:"10px 12px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6,gap:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:0},children:[l.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:y,flexShrink:0}}),l.jsx("span",{style:{fontSize:10,fontWeight:700,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:E.name})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,flexWrap:"wrap",justifyContent:"flex-end"},children:[l.jsx("span",{style:{fontSize:8,color:a.dim,...D,background:"rgba(16,25,35,0.65)",border:`1px solid ${a.border}`,borderRadius:3,padding:"2px 5px"},children:_m(E.network)}),l.jsx("span",{style:{fontSize:8,color:E.isBot?a.accent:a.dim,...D,background:E.isBot?`${a.accent}18`:"rgba(16,25,35,0.65)",border:`1px solid ${E.isBot?`${a.accent}50`:a.border}`,borderRadius:3,padding:"2px 5px"},children:E.isBot?"BOT":"MANUAL"}),l.jsx("span",{style:{fontSize:8,color:E.isActive?a.ok:a.warn,fontWeight:700,...D,background:E.isActive?`${a.ok}15`:`${a.warn}15`,border:`1px solid ${E.isActive?a.ok:a.warn}30`,borderRadius:3,padding:"2px 5px"},children:p})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"STRATEGY"}),l.jsx("div",{style:{fontSize:8,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:E.strategy})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"P&L (USD)"}),l.jsxs("div",{style:{fontSize:8,color:f?a.ok:a.danger,fontWeight:700},children:[f?"+":"","$",Tt(Math.abs(E.pnlUsd),2)]})]}),E.capitalLimitKas&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"CAPITAL"}),l.jsxs("div",{style:{fontSize:8,color:a.text},children:[E.capitalLimitKas," KAS"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"LAST HEARTBEAT"}),l.jsx("div",{style:{fontSize:8,color:a.text},children:sl(E.updatedAt,m)})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"RISK"}),l.jsx("div",{style:{fontSize:8,color:a.text},children:String(E.risk||"").toUpperCase()})]})]})]},E.id)}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{...ee(a.dim,!0),padding:"8px 10px",marginTop:2},children:"MANAGE LIVE ON FORGE-OS "})]})}function kv({address:e,network:t,isManagedWallet:n,autoLockMinutes:r,persistUnlockSessionEnabled:o,onAutoLockMinutesChange:i,onPersistUnlockSessionChange:s,onLock:u}){const[c,d]=w.useState("none"),[g,m]=w.useState([]),[h,S]=w.useState(""),[A,k]=w.useState(null),[E,f]=w.useState(!1),[p,y]=w.useState(""),[x,_]=w.useState(""),[C,R]=w.useState(""),[N,W]=w.useState(null),[K,H]=w.useState(!1),[Se,le]=w.useState(!1),[we,Oe]=w.useState(!1),[Ie,J]=w.useState(!1),[P,z]=w.useState("official"),[F,G]=w.useState(""),[B,te]=w.useState(!1),[ne,Z]=w.useState(null),[fe,O]=w.useState(!1),ae={official:"OFFICIAL",igra:"IGRA",kasplex:"KASPLEX",custom:"CUSTOM"},_e=n?"managed":e?"watch-only":"none",oe=[{label:"1m",value:1},{label:"15m",value:15},{label:"1h",value:60},{label:"4h",value:240},{label:"Never",value:-1}];w.useEffect(()=>{let U=!0;return te(!0),Z(null),O(!1),Promise.all([tm(t),qp(t)]).then(([T,M])=>{U&&(G(T??""),z(M))}).catch(()=>{U&&Z("Failed to load RPC settings.")}).finally(()=>{U&&te(!1)}),()=>{U=!1}},[t]);const $e=async U=>{U.preventDefault(),k(null),f(!0);try{const T=await Zn(h,r,{persistSession:o});m(T.mnemonic.split(" ")),S("")}catch(T){const M=T instanceof Error?T.message:String(T);k(M==="INVALID_PASSWORD"?"Incorrect password.":"Authentication failed."),S("")}finally{f(!1)}},Yt=()=>{m([]),S(""),k(null),d("none")},Le=async U=>{if(U.preventDefault(),W(null),x.length<8){W("New password must be at least 8 characters.");return}if(x!==C){W("New passwords do not match.");return}if(x===p){W("New password must differ from current password.");return}le(!0);try{await cm(p,x),H(!0),y(""),_(""),R("")}catch(T){const M=T instanceof Error?T.message:String(T);W(M==="INVALID_PASSWORD"?"Current password is incorrect.":M==="WEAK_PASSWORD"?"New password is too short (min 8 chars).":"Failed to change password. Try again.")}finally{le(!1)}},ct=async()=>{if(!we){Oe(!0);return}await dm(),u()},Ee=(U=!1)=>({...Im(U)}),dt=()=>{d("none"),m([]),S(""),k(null),y(""),_(""),R(""),W(null),H(!1),Oe(!1)},wt=async U=>{J(!0);try{await i(U)}finally{J(!1)}},$t=async()=>{J(!0);try{await s(!o)}finally{J(!1)}},jt=async U=>{te(!0),Z(null),O(!1);try{await Zs(t,U),z(U),O(!0)}catch{Z("Failed to save RPC provider preset.")}finally{te(!1)}},Ke=async()=>{te(!0),Z(null),O(!1);try{await Jc(t,F.trim()||null),await Zs(t,"custom"),z("custom"),O(!0),F.trim()||G("")}catch(U){const T=U instanceof Error?U.message:String(U);Z(T==="INVALID_RPC_ENDPOINT"?"Invalid endpoint URL. Use http(s)://...":"Failed to save custom RPC endpoint.")}finally{te(!1)}},Rt=async()=>{te(!0),Z(null),O(!1);try{await Jc(t,null),await Zs(t,"official"),z("official"),G(""),O(!0)}catch{Z("Failed to clear custom RPC endpoint.")}finally{te(!1)}};return l.jsxs("div",{style:Bn,children:[l.jsxs("div",{style:je("default"),children:[l.jsx("div",{style:{...He,marginBottom:8},children:"CONNECTION STATUS"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"PROVIDER"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5},children:[l.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:e?a.ok:a.warn}}),l.jsx("span",{style:{fontSize:9,color:a.text,fontWeight:700},children:_e.toUpperCase()})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"NETWORK"}),l.jsx("span",{style:{fontSize:8,color:t==="mainnet"?a.warn:a.ok,fontWeight:700,background:t==="mainnet"?`${a.warn}15`:`${a.ok}15`,border:`1px solid ${t==="mainnet"?a.warn:a.ok}30`,borderRadius:3,padding:"2px 6px"},children:t.toUpperCase()})]}),e&&l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"ADDRESS"}),l.jsx("div",{style:{...me(),fontSize:8,color:a.text,padding:"7px 9px"},children:Fo(e)})]})]})]}),l.jsxs("div",{style:je("default"),children:[l.jsx("div",{style:{...He,marginBottom:8},children:"KASPA RPC ENDPOINT"}),l.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:7},children:["Active network: ",l.jsx("span",{style:{color:a.text,fontWeight:700},children:t.toUpperCase()})]}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},children:Object.keys(ae).map(U=>{const T=P===U;return l.jsx("button",{onClick:()=>{jt(U)},disabled:B,style:{...ee(T?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:T?a.accent:a.dim,opacity:B?.7:1},children:ae[U]},U)})}),l.jsx("input",{value:F,onChange:U=>{G(U.target.value),O(!1),Z(null)},placeholder:t==="mainnet"?"https://your-mainnet-kaspa-rpc.example":"https://your-kaspa-rpc.example",disabled:B||P!=="custom",style:{...Ee(!!ne),marginBottom:7}}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:()=>{Ke()},disabled:B||P!=="custom",style:{...ee(a.accent,!0),flex:1,padding:"7px 8px",color:a.accent,opacity:B?.7:1},children:B?"SAVING":"SAVE RPC"}),l.jsx("button",{onClick:()=>{Rt()},disabled:B,style:{...ee(a.dim,!0),flex:1,padding:"7px 8px",color:a.dim,opacity:B?.7:1},children:"CLEAR"})]}),ne&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:ne}),!ne&&fe&&l.jsx("div",{style:{fontSize:8,color:a.ok,marginTop:6},children:"Saved RPC settings for this network."}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:6},children:"Presets are stored per network. Igra/Kasplex pools read from env (`VITE_KASPA_IGRA_*` / `VITE_KASPA_KASPLEX_*`) and fall back to Official if unset."})]}),n&&l.jsxs("div",{style:je("default"),children:[l.jsx("div",{style:{...He,marginBottom:8},children:"SESSION SETTINGS"}),l.jsxs("div",{style:{marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5,letterSpacing:"0.08em"},children:"AUTO-LOCK"}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:oe.map(U=>l.jsx("button",{disabled:Ie,onClick:()=>{wt(U.value)},style:{...ee(r===U.value?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:r===U.value?a.accent:a.dim,opacity:Ie?.7:1},children:U.label},U.value))})]}),l.jsx("button",{onClick:()=>{$t()},disabled:Ie,style:{...ee(o?a.ok:a.dim,!0),width:"100%",padding:"8px 10px",color:o?a.ok:a.dim,textAlign:"left",opacity:Ie?.7:1},children:o?" KEEP UNLOCKED WHEN POPUP CLOSES":"KEEP UNLOCKED WHEN POPUP CLOSES"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:6},children:"Stores an unlocked session only in browser session memory; lock manually on shared devices."})]}),n&&l.jsxs(l.Fragment,{children:[c==="none"&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:7},children:[l.jsx("button",{onClick:()=>d("reveal"),style:ll(a.accent),children:" REVEAL SEED PHRASE"}),l.jsx("button",{onClick:()=>d("change_pw"),style:ll(a.dim),children:" CHANGE PASSWORD"}),l.jsx("button",{onClick:()=>d("reset"),style:ll(a.danger),children:" RESET WALLET"})]}),c==="reveal"&&l.jsxs("div",{style:{...je("warn")},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:{...Vn,color:a.warn},children:"SEED PHRASE"}),l.jsx("button",{onClick:Yt,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:" close"})]}),g.length===0?l.jsxs("form",{onSubmit:$e,children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:"Enter your password to view your seed phrase. Never share it  anyone with this phrase controls your wallet."}),l.jsx("input",{type:"password",value:h,onChange:U=>S(U.target.value),placeholder:"Your password",disabled:E,style:{...Ee(!!A),marginBottom:6}}),A&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:6},children:A}),l.jsx("button",{type:"submit",disabled:!h||E,style:{...ee(h&&!E?a.warn:a.dim,!0),width:"100%",padding:"7px 0",color:h&&!E?a.warn:a.dim,cursor:h&&!E?"pointer":"not-allowed"},children:E?"AUTHENTICATING":"SHOW SEED PHRASE"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{...me(),display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:8},children:g.map((U,T)=>l.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:4,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim,flexShrink:0},children:[T+1,"."]}),l.jsx("span",{style:{fontSize:8,color:a.text,fontWeight:600},children:U})]},T))}),l.jsx("div",{style:{fontSize:8,color:a.warn,lineHeight:1.4},children:" Store offline. Never photograph or share digitally."})]})]}),c==="change_pw"&&l.jsxs("div",{style:je("default"),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:Vn,children:"CHANGE PASSWORD"}),l.jsx("button",{onClick:dt,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:" close"})]}),K?l.jsx("div",{style:{fontSize:8,color:a.ok,textAlign:"center",padding:"8px 0"},children:" Password updated successfully."}):l.jsxs("form",{onSubmit:Le,style:{display:"flex",flexDirection:"column",gap:7},children:[l.jsx("input",{type:"password",value:p,onChange:U=>y(U.target.value),placeholder:"Current password",disabled:Se,style:Ee()}),l.jsx("input",{type:"password",value:x,onChange:U=>_(U.target.value),placeholder:"New password (min 8 chars)",disabled:Se,style:Ee()}),l.jsx("input",{type:"password",value:C,onChange:U=>R(U.target.value),placeholder:"Confirm new password",disabled:Se,style:Ee()}),N&&l.jsx("div",{style:{fontSize:8,color:a.danger},children:N}),l.jsx("button",{type:"submit",disabled:!p||!x||!C||Se,style:{...$n(p&&x&&C&&!Se),padding:"8px 0",cursor:p&&x&&C&&!Se?"pointer":"not-allowed"},children:Se?"RE-ENCRYPTING":"UPDATE PASSWORD"})]})]}),c==="reset"&&l.jsxs("div",{style:{...je("danger"),backgroundColor:a.dLow},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:{...Vn,color:a.danger},children:" RESET WALLET"}),l.jsx("button",{onClick:dt,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:" cancel"})]}),l.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:10},children:["This will permanently delete your encrypted vault from this extension. Your on-chain funds are NOT affected. You can re-import using your seed phrase.",l.jsx("strong",{style:{color:a.warn},children:" Make sure your seed phrase is backed up before proceeding."})]}),l.jsx("button",{onClick:ct,style:{...ee(a.danger,!0),width:"100%",padding:"8px 0",background:we?a.danger:"rgba(49,21,32,0.65)",border:`1px solid ${a.danger}${we?"90":"50"}`,color:we?"#fff":a.danger},children:we?" CONFIRM  PERMANENTLY DELETE VAULT":"RESET WALLET"}),we&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:5,textAlign:"center"},children:"This cannot be undone. Your seed phrase is your only recovery option."})]})]}),l.jsxs("div",{style:{...me(),padding:"10px 12px"},children:[l.jsx("div",{style:{...He,marginBottom:6},children:"SECURITY NOTES"}),["Seed phrase encrypted with AES-256-GCM before storage.","Password derived with PBKDF2-SHA256 (600,000 iterations).","Plaintext secrets never touch chrome.storage.","All signing happens locally  nothing is transmitted to servers."].map((U,T,M)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:T<M.length-1?4:0},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:U})]},T))]}),n&&c==="none"&&l.jsx("button",{onClick:u,style:{...ee(a.dim,!0),padding:"8px 0"},children:" LOCK WALLET"})]})}function ll(e){return{...ee(e,!0),padding:"10px 12px",color:e,textAlign:"left",letterSpacing:"0.08em"}}var Pd;const ie=((Pd=import.meta)==null?void 0:Pd.env)??{};function hd(e,t){const n=ie==null?void 0:ie[e];return typeof n!="string"?t:n.trim().toLowerCase()==="true"?!0:n.trim().toLowerCase()==="false"?!1:t}function Xr(e,t,n,r){const o=ie==null?void 0:ie[e],i=Number(o);return Number.isFinite(i)?Math.min(r,Math.max(n,Math.floor(i))):t}function Av(e,t){const n=String((ie==null?void 0:ie[e])??"").trim();if(!n)return t;const r=n.split(/[,\s]+/).map(i=>Number(i)).filter(i=>Number.isInteger(i)&&i>0),o=[...new Set(r)];return o.length?o:t}function Tv(e,t){const n=String((ie==null?void 0:ie[e])??"").trim().toLowerCase();return n==="kaspa_native"||n==="evm_0x"||n==="blocked"?n:t}const Q={enabled:hd("VITE_SWAP_ENABLED",!0),routeSource:Tv("VITE_SWAP_ROUTE_SOURCE","kaspa_native"),maxSlippageBps:Xr("VITE_SWAP_MAX_SLIPPAGE_BPS",500,1,2e3),defaultSlippageBps:Xr("VITE_SWAP_DEFAULT_SLIPPAGE_BPS",50,1,2e3),dexEndpoint:String((ie==null?void 0:ie.VITE_SWAP_DEX_ENDPOINT)??"").trim()||null,evmChainIdAllowlist:Av("VITE_SWAP_EVM_CHAIN_IDS",[1]),requireExternalEvmSigner:hd("VITE_SWAP_REQUIRE_EXTERNAL_EVM_SIGNER",!0),zeroExQuoteEndpoint:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_QUOTE_ENDPOINT)??"https://api.0x.org/swap/allowance-holder/quote").trim()||null,zeroExApiKey:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_API_KEY)??"").trim(),zeroExExpectedSettlerTo:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_EXPECTED_SETTLER_TO)??"").trim(),zeroExExpectedAllowanceSpender:String((ie==null?void 0:ie.VITE_SWAP_ZEROX_EXPECTED_ALLOWANCE_SPENDER)??"").trim(),settlementRequiredConfirmations:Xr("VITE_SWAP_SETTLEMENT_CONFIRMATIONS",2,1,128),settlementPollIntervalMs:Xr("VITE_SWAP_SETTLEMENT_POLL_MS",4e3,500,6e4),settlementTimeoutMs:Xr("VITE_SWAP_SETTLEMENT_TIMEOUT_MS",24e4,15e3,36e5)};function hn(e){switch(e){case"kaspa_native":return"Kaspa Native";case"evm_0x":return"0x EVM";case"blocked":default:return"Blocked"}}function Iv(e,t){return e==="KAS"||t==="KAS"}function _v(e,t){return e==="ZRX"||t==="ZRX"}function Cm(e,t,n=Q.routeSource){return n==="blocked"?{source:n,label:hn(n),allowed:!1,reason:"Swap routes are currently disabled on Kaspa.",requiresEvmSigner:!1}:n==="kaspa_native"?_v(e,t)?{source:n,label:hn(n),allowed:!1,reason:"0x token routes are not enabled on Kaspa-native swap.",requiresEvmSigner:!1}:{source:n,label:hn(n),allowed:!0,reason:null,requiresEvmSigner:!1}:Iv(e,t)?{source:n,label:hn(n),allowed:!1,reason:"0x routes are EVM-domain only and cannot use native Kaspa balances directly.",requiresEvmSigner:!0}:{source:n,label:hn(n),allowed:!0,reason:null,requiresEvmSigner:!0}}function Cv(e=Q.routeSource){return e==="blocked"?{source:e,label:hn(e),allowed:!1,reason:"Swap routes are currently disabled on Kaspa.",requiresEvmSigner:!1}:e==="evm_0x"?{source:e,label:hn(e),allowed:!0,reason:null,requiresEvmSigner:!0}:{source:e,label:hn(e),allowed:!0,reason:null,requiresEvmSigner:!1}}function Nv(){return Cv(Q.routeSource)}function gd(e){return e.trim().toLowerCase()}function Pv(e,t){return!e||!t?!1:gd(e)===gd(t)}const _u="forgeos.swap.evm.sidecar.v1";function jv(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Nm(e){if(typeof e!="string")return"";const t=e.trim();return/^0x[a-fA-F0-9]{40}$/.test(t)?t:""}function xs(e){if(typeof e=="number"&&Number.isInteger(e)&&e>0)return e;if(typeof e=="string"){const t=e.trim().toLowerCase();if(!t)return 0;if(t.startsWith("0x")){const r=Number.parseInt(t.slice(2),16);return Number.isInteger(r)&&r>0?r:0}const n=Number(t);return Number.isInteger(n)&&n>0?n:0}return 0}function Cu(){return typeof window<"u"&&typeof window.localStorage<"u"}function Pm(e){const t=e;if(!t)return null;const n=Nm(t.address),r=xs(t.chainId),o=t.walletType==="metamask"?"metamask":null,i=typeof t.connectedAt=="number"&&Number.isFinite(t.connectedAt)?t.connectedAt:0,s=typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:i;return!o||!n||r<=0?null:{walletType:o,address:n,chainId:r,connectedAt:i||Date.now(),updatedAt:s||Date.now()}}function aa(){if(!Cu())return null;const e=jv(window.localStorage.getItem(_u));return Pm(e)}function Rv(e){const t=Date.now(),n=Pm({...e,connectedAt:e.connectedAt??t,updatedAt:e.updatedAt??t});if(!n)throw new Error("EVM_SIDECAR_INVALID_SESSION");return Cu()&&window.localStorage.setItem(_u,JSON.stringify(n)),n}function Ov(){Cu()&&window.localStorage.removeItem(_u)}function jm(e){return Q.evmChainIdAllowlist.includes(e)}function ws(){const e=globalThis==null?void 0:globalThis.ethereum;return e&&typeof e.request=="function"?e:null}async function Lv(){const e=ws();if(!e)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const t=await e.request({method:"eth_requestAccounts"}),n=Array.isArray(t)?t:[],r=Nm(n[0]);if(!r)throw new Error("EVM_SIDECAR_CONNECT_FAILED: No EVM account returned.");const o=await e.request({method:"eth_chainId"}),i=xs(o);if(i<=0)throw new Error("EVM_SIDECAR_CHAIN_INVALID: Could not determine chain ID.");if(!jm(i))throw new Error(`EVM_SIDECAR_CHAIN_NOT_ALLOWED: chainId ${i} not allowed.`);return Rv({walletType:"metamask",address:r,chainId:i})}async function Dv(e){const t=ws();if(!t)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const n=await t.request({method:"eth_sendTransaction",params:[e]});if(typeof n!="string"||!n.startsWith("0x"))throw new Error("EVM_TX_HASH_INVALID");return n}async function bv(e){const t=ws();if(!t)return null;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]});return!n||typeof n!="object"?null:n}async function zv(){const e=ws();if(!e)return null;const t=await e.request({method:"eth_blockNumber"}),n=xs(t);return n>0?n:null}function Mv(e){const t=e.status;if(typeof t=="number")return t===1?"success":"revert";if(typeof t=="string"){const n=t.trim().toLowerCase();if(n==="0x1"||n==="1")return"success";if(n==="0x0"||n==="0")return"revert"}return"unknown"}function Fv(e){return xs(e.blockNumber)}function ui(e){return e.trim().toLowerCase()}const Uv={1:{USDC:"0xA0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",ZRX:"0xE41d2489571d322189246DaFA5ebDe1F4699F498"}};function yd(e,t){if(e==="KAS")return null;const r=(Uv[t]??{})[e];return typeof r=="string"&&r?r:null}function Bv(e,t,n){const r=yd(e.tokenIn,t.chainId),o=yd(e.tokenOut,t.chainId);if(!r||!o)throw new Error("ZEROX_TOKEN_UNSUPPORTED: token pair is not mapped for selected EVM chain.");return{endpoint:n.endpoint,apiKey:n.apiKey,expectedSettlerTo:n.expectedSettlerTo,expectedAllowanceSpender:n.expectedAllowanceSpender,slippageBps:e.slippageBps,sellTokenAddress:r,buyTokenAddress:o,sellAmount:e.amountIn.toString()}}async function $v(e,t,n){var d;const r=new URLSearchParams({sellToken:e.sellTokenAddress,buyToken:e.buyTokenAddress,sellAmount:e.sellAmount,slippageBps:String(e.slippageBps)}),o=`${e.endpoint}?${r.toString()}`,i={Accept:"application/json","Content-Type":"application/json"};e.apiKey&&(i["0x-api-key"]=e.apiKey);const s=await fetch(o,{method:"GET",headers:i}),u=await s.json().catch(()=>({}));if(!s.ok){const g=typeof(u==null?void 0:u.reason)=="string"?u.reason:`HTTP ${s.status}`;throw new Error(`ZEROX_QUOTE_FAILED: ${g}`)}const c=Kv(u,{allowedChainIds:t,expectedChainId:n,expectedSettlerTo:e.expectedSettlerTo,expectedAllowanceSpender:e.expectedAllowanceSpender});if((d=u.issues)!=null&&d.simulationIncomplete&&c.push("ZEROX_SIMULATION_INCOMPLETE"),c.length>0)throw new Error(`ZEROX_POLICY_REJECTED: ${c.join(", ")}`);return u}function Kv(e,t){var i,s,u;const n=[],r=Number(e.chainId??0);(!Number.isFinite(r)||!t.allowedChainIds.includes(r))&&n.push("ZEROX_CHAIN_NOT_ALLOWED"),t.expectedChainId&&r!==t.expectedChainId&&n.push("ZEROX_CHAIN_SESSION_MISMATCH"),e.liquidityAvailable||n.push("ZEROX_NO_LIQUIDITY");const o=typeof((i=e.transaction)==null?void 0:i.to)=="string"?e.transaction.to:"";if((!o||ui(o)!==ui(t.expectedSettlerTo))&&n.push("ZEROX_SETTLER_MISMATCH"),t.expectedAllowanceSpender){const c=typeof((u=(s=e.issues)==null?void 0:s.allowance)==null?void 0:u.spender)=="string"?e.issues.allowance.spender:"";(!c||ui(c)!==ui(t.expectedAllowanceSpender))&&n.push("ZEROX_ALLOWANCE_SPENDER_MISMATCH")}return(!e.minBuyAmount||!/^\d+$/.test(String(e.minBuyAmount)))&&n.push("ZEROX_MIN_BUY_AMOUNT_INVALID"),n}var jd;const Ir=((jd=import.meta)==null?void 0:jd.env)??{},Wv=12e3,Vv="/quote",Hv="/execute",Gv="/status";function Xv(e,t,n,r){const o=Number(Ir==null?void 0:Ir[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}function Nu(e,t){return String((Ir==null?void 0:Ir[e])??"").trim()||t}const Qv=Xv("VITE_SWAP_KASPA_NATIVE_TIMEOUT_MS",Wv,1e3,6e4),Yv=Nu("VITE_SWAP_KASPA_NATIVE_QUOTE_PATH",Vv),Zv=Nu("VITE_SWAP_KASPA_NATIVE_EXECUTE_PATH",Hv),Jv=Nu("VITE_SWAP_KASPA_NATIVE_STATUS_PATH",Gv);function Rm(e){return String(e||"").trim().replace(/\/+$/,"")}function qv(e){const t=String(e||"").trim();return t?t.startsWith("/")?t:`/${t}`:"/"}function Pu(e,t){const n=Rm(e);if(!n)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");return`${n}${qv(t)}`}async function ju(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),t.timeoutMs??Qv);try{const o=await fetch(e,{method:t.method,headers:{"Content-Type":"application/json"},...t.body?{body:JSON.stringify(t.body)}:{},signal:n.signal}),i=await o.text().catch(()=>"");let s=null;if(i)try{s=JSON.parse(i)}catch{throw new Error(`KASPA_NATIVE_HTTP_${o.status}: invalid JSON response`)}if(!o.ok){const u=typeof(s==null?void 0:s.error)=="string"?s.error:`HTTP ${o.status}`;throw new Error(`KASPA_NATIVE_HTTP_${o.status}: ${u}`)}return{status:o.status,data:s}}catch(o){throw(o==null?void 0:o.name)==="AbortError"?new Error("KASPA_NATIVE_TIMEOUT: request timed out"):o instanceof Error?o:new Error(String(o))}finally{clearTimeout(r)}}function eS(e){return typeof e=="bigint"?e.toString():typeof e=="number"&&Number.isFinite(e)&&e>=0?String(Math.floor(e)):typeof e=="string"&&/^\d+$/.test(e.trim())?e.trim():""}function vd(e,t){const n=eS(e);if(!n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be an integer string`);const r=BigInt(n);if(r<0n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be >= 0`);return r}function Ji(e){const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?t:null}function tS(e){const t=Ji(e.priceImpactBps);if(t!==null&&t>=0)return t/1e4;const n=Ji(e.priceImpact);if(n!==null&&n>=0&&n<=1)return n;throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing price impact")}function nS(e){if(!Array.isArray(e))return[];const t=e.map(n=>String(n||"").trim()).filter(Boolean);return t.length?t:[]}function rS(e){return e==="mainnet"?"kaspa:":"kaspatest:"}function oS(e,t){const n=String(e||"").trim().toLowerCase();if(!Ro(n))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address is invalid");const r=rS(t);if(!n.startsWith(r))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address network mismatch")}function iS(e,t,n,r){const o=e??{},i=typeof o.quoteId=="string"?o.quoteId.trim():"";if(!i)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing quoteId");const s=typeof o.settlementAddress=="string"?o.settlementAddress.trim():"";if(!s)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing settlementAddress");oS(s,r);const u=vd(o.minAmountOut??o.amountOut,"amountOut"),c=vd(o.feeAmount??o.fee??"0","feeAmount"),d=tS(o),g=nS(o.route),m=Ji(o.validUntil);if(m===null||m<=Date.now())throw new Error("KASPA_NATIVE_QUOTE_INVALID: quote is missing or expired");if(g.length===0)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing route");return{tokenIn:t.tokenIn,tokenOut:t.tokenOut,amountIn:t.amountIn,amountOut:u,priceImpact:d,fee:c,route:g,validUntil:m,dexEndpoint:n,routeSource:"kaspa_native",rawQuote:{...o,quoteId:i,settlementAddress:s,network:r}}}function sS(e){const t=e.rawQuote??{},n=typeof t.quoteId=="string"?t.quoteId.trim():"",r=typeof t.settlementAddress=="string"?t.settlementAddress.trim():"";if(!n||!r)throw new Error("KASPA_NATIVE_QUOTE_META_INVALID");return{quoteId:n,settlementAddress:r}}async function lS(e,t){const n=Pu(t.endpoint,Yv),r={tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn.toString(),slippageBps:e.slippageBps,network:t.network,walletAddress:t.walletAddress};e.customTokenOut&&(r.tokenOutAddress=e.customTokenOut.address,r.tokenOutStandard=e.customTokenOut.standard,r.tokenOutSymbol=e.customTokenOut.symbol,r.tokenOutName=e.customTokenOut.name,r.tokenOutDecimals=e.customTokenOut.decimals);const{data:o}=await ju(n,{method:"POST",body:r});return iS(o,e,Rm(t.endpoint),t.network)}async function aS(e){const t=Pu(e.endpoint,Zv),n={quoteId:e.quoteId,network:e.network,depositTxId:e.depositTxId,walletAddress:e.walletAddress,amountIn:e.amountIn.toString()},{data:r}=await ju(t,{method:"POST",body:n}),o=r??{};if(o.accepted===!1)throw new Error(typeof o.error=="string"?o.error:"KASPA_NATIVE_EXECUTION_REJECTED");const i=typeof o.state=="string"?o.state.toLowerCase().trim():"";if(["failed","rejected","error"].includes(i))throw new Error(typeof o.error=="string"?o.error:`KASPA_NATIVE_EXECUTION_${i.toUpperCase()}`)}function uS(e){const t=e.toLowerCase().trim();return["confirmed","completed","success","settled"].includes(t)?"confirmed":["failed","reverted","rejected","expired","error"].includes(t)?"failed":"pending"}async function cS(e){const t=Pu(e.endpoint,Jv),n=new URLSearchParams({quoteId:e.quoteId,depositTxId:e.depositTxId,network:e.network}),r=`${t}?${n.toString()}`;try{const{status:o,data:i}=await ju(r,{method:"GET"});if(o===404)return{state:"pending",confirmations:0,error:null,settlementTxId:null};const s=i??{},u=String(s.state??s.status??"pending"),c=uS(u),d=Math.max(0,Math.floor(Ji(s.confirmations)??0)),g=typeof s.error=="string"?s.error:null,m=typeof s.settlementTxId=="string"?s.settlementTxId:typeof s.txId=="string"?s.txId:null;return{state:c,confirmations:d,error:g,settlementTxId:m}}catch(o){if(String((o==null?void 0:o.message)||"").includes("HTTP 404"))return{state:"pending",confirmations:0,error:null,settlementTxId:null};throw o}}const dS={REQUESTED:["QUOTED","FAILED_TIMEOUT"],QUOTED:["SIGNED","FAILED_TIMEOUT","FAILED_BRIDGE"],SIGNED:["SUBMITTED","FAILED_TIMEOUT","FAILED_BRIDGE"],SUBMITTED:["SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT"],PENDING_CONFIRMATION:["PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"],CONFIRMED:[],FAILED_REVERT:[],FAILED_TIMEOUT:[],FAILED_BRIDGE:[]};function Om(e,t,n=Date.now()){return{id:e,routeSource:t,state:"REQUESTED",createdAt:n,updatedAt:n,txHash:null,bridgeTransferId:null,confirmations:0,error:null}}function Xe(e,t,n={},r=Date.now()){if(!dS[e.state].includes(t))throw new Error(`INVALID_SETTLEMENT_TRANSITION: ${e.state} -> ${t}`);return{...e,...n,state:t,updatedAt:r}}const ua="forgeos.swap.settlements.v1",Lm=200;function Dm(){return chrome.storage.local}async function fS(){return new Promise(e=>{Dm().get(ua,t=>e((t==null?void 0:t[ua])??null))})}async function pS(e){return new Promise(t=>{Dm().set({[ua]:e},t)})}function mS(e){return["REQUESTED","QUOTED","SIGNED","SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"].includes(String(e))}function hS(e){const t=e;if(!t)return null;const n=typeof t.id=="string"?t.id:"",r=typeof t.routeSource=="string"?t.routeSource:"",o=t.state;return!n||!mS(o)||r!=="blocked"&&r!=="kaspa_native"&&r!=="evm_0x"?null:{id:n,routeSource:r,state:o,createdAt:typeof t.createdAt=="number"&&Number.isFinite(t.createdAt)?t.createdAt:Date.now(),updatedAt:typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:Date.now(),txHash:typeof t.txHash=="string"?t.txHash:null,bridgeTransferId:typeof t.bridgeTransferId=="string"?t.bridgeTransferId:null,confirmations:typeof t.confirmations=="number"&&Number.isFinite(t.confirmations)?t.confirmations:0,error:typeof t.error=="string"?t.error:null}}function gS(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){const r=hS(n);r&&t.push(r)}return t.sort((n,r)=>r.updatedAt-n.updatedAt),t.slice(0,Lm)}async function mo(){const e=await fS();return gS(e)}async function Ae(e){const t=await mo(),n=[e,...t.filter(r=>r.id!==e.id)].sort((r,o)=>o.updatedAt-r.updatedAt).slice(0,Lm);await pS(n)}function Ru(e){return e.state==="SUBMITTED"||e.state==="PENDING_CONFIRMATION"}function bm(e){return`${e}_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function zm(){const e=aa();return e&&jm(e.chainId)?e:null}const yS=["mainnet","testnet-10","testnet-11","testnet-12"],vS=1e8;function SS(e){const t=Number(e)/vS;if(!Number.isFinite(t)||t<=0)throw new Error("KASPA_NATIVE_EXECUTION_INVALID_AMOUNT");return t}async function Ou(){const e=await uu().catch(()=>"mainnet");return e==="mainnet"||e==="testnet-10"||e==="testnet-11"||e==="testnet-12"?e:"mainnet"}function Sr(e,t,n="FAILED_BRIDGE"){return Xe(e,n,{error:t})}async function xS(e){for(const t of yS){const n=await rm(e,t).catch(()=>null);if(n!=null&&n.acceptingBlockHash)return!0}return!1}function Mm(){return Q.zeroExQuoteEndpoint?Q.zeroExExpectedSettlerTo?{ok:!0,reason:null}:{ok:!1,reason:"0x settler target is not configured."}:{ok:!1,reason:"0x quote endpoint is not configured."}}function Fm(){if(!Q.enabled)return{enabled:!1,reason:"Swap functionality not yet active on Kaspa."};if(Q.routeSource==="blocked")return{enabled:!1,reason:"Swap routes are currently disabled on Kaspa."};if(Q.routeSource==="kaspa_native")return{enabled:!0,reason:null};const e=Mm();return e.ok?{enabled:!0,reason:null}:{enabled:!1,reason:e.reason}}function wS(e){const t=[],n=e.customTokenOut??null,r=!!n,o=r?"USDC":e.tokenOut;!r&&e.tokenIn===e.tokenOut&&t.push("Token in and token out must be different.");const i=Cm(e.tokenIn,o,Q.routeSource);if(!i.allowed&&i.reason&&t.push(i.reason),ud(e.tokenIn)||t.push(`${e.tokenIn} is not currently available.`),!r&&!ud(e.tokenOut)&&t.push(`${e.tokenOut} is not currently available.`),r&&(String((n==null?void 0:n.address)??"").trim()||t.push("Custom token address is required."),(n==null?void 0:n.standard)!=="krc20"&&(n==null?void 0:n.standard)!=="krc721"&&t.push("Custom token standard must be KRC20 or KRC721.")),e.amountIn<=0n&&t.push("Amount must be greater than zero."),(e.slippageBps<0||e.slippageBps>Q.maxSlippageBps)&&t.push(`Slippage must be between 0 and ${Q.maxSlippageBps} bps (${Q.maxSlippageBps/100}%).`),i.source==="evm_0x"){const s=Mm();!s.ok&&s.reason&&t.push(s.reason)}return i.source==="kaspa_native"?(Q.dexEndpoint||t.push("Kaspa-native DEX endpoint is not configured."),e.tokenIn!=="KAS"&&t.push("Kaspa-native swap currently supports KAS as the input token.")):r&&t.push("Custom KRC token output requires kaspa-native swap route."),t}async function ES(e){var i,s,u,c,d,g,m;if(!Fm().enabled)return null;const n=wS(e);if(n.length>0)throw new Error(`SWAP_VALIDATION: ${n.join("; ")}`);const r=e.customTokenOut?"USDC":e.tokenOut,o=Cm(e.tokenIn,r,Q.routeSource);if(o.source==="kaspa_native"){const h=Q.dexEndpoint;if(!h)throw new Error("KASPA_NATIVE_ROUTE_UNAVAILABLE: dex endpoint is not configured.");const S=Pn();if(!(S!=null&&S.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const A=await Ou(),k=uo(S.address,A);return{...await lS(e,{endpoint:h,network:A,walletAddress:k}),customTokenOut:e.customTokenOut??null}}if(o.source==="evm_0x"){const h=zm();if(!h)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");const S=Bv(e,h,{endpoint:Q.zeroExQuoteEndpoint||"",apiKey:Q.zeroExApiKey||void 0,expectedSettlerTo:Q.zeroExExpectedSettlerTo,expectedAllowanceSpender:Q.zeroExExpectedAllowanceSpender||void 0}),A=await $v(S,Q.evmChainIdAllowlist,h.chainId),k=BigInt(A.minBuyAmount||A.buyAmount||"0"),E=typeof((i=A.transaction)==null?void 0:i.to)=="string"?A.transaction.to:"",f=typeof((s=A.transaction)==null?void 0:s.data)=="string"?A.transaction.data:"";if(!E||!f)throw new Error("ZEROX_QUOTE_INVALID: missing transaction payload.");return{tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn,amountOut:k,priceImpact:0,fee:0n,route:((c=(u=A.route)==null?void 0:u.fills)==null?void 0:c.map(p=>String((p==null?void 0:p.source)||"0x")))||["0x"],validUntil:Date.now()+3e4,dexEndpoint:Q.zeroExQuoteEndpoint||"https://api.0x.org",routeSource:"evm_0x",transaction:{to:E,data:f,value:typeof((d=A.transaction)==null?void 0:d.value)=="string"?A.transaction.value:"0x0"},allowanceSpender:(m=(g=A.issues)==null?void 0:g.allowance)==null?void 0:m.spender,rawQuote:A,customTokenOut:e.customTokenOut??null}}throw new Error(`SWAP_ROUTE_UNSUPPORTED: ${o.source}`)}async function kS(e){if(!e.txHash||e.routeSource!=="evm_0x"||!Ru(e))return e;if(e.createdAt+Q.settlementTimeoutMs<=Date.now()){const u=Xe(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Ae(u),u}const t=await bv(e.txHash).catch(()=>null);if(!t)return e;if(Mv(t)==="revert"){const u=Xe(e,"FAILED_REVERT",{error:"EVM transaction reverted."});return await Ae(u),u}const r=Fv(t),o=await zv().catch(()=>null),i=r&&o&&o>=r?o-r+1:e.confirmations||1;if(i>=Q.settlementRequiredConfirmations){const u=Xe(e,"CONFIRMED",{confirmations:i,error:null});return await Ae(u),u}const s=Xe(e,"PENDING_CONFIRMATION",{confirmations:i});return await Ae(s),s}async function Um(e){if(!e.txHash||e.routeSource!=="kaspa_native"||!Ru(e))return e;if(e.createdAt+Q.settlementTimeoutMs<=Date.now()){const s=Xe(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Ae(s),s}const t=e.bridgeTransferId||"";if(!t){const s=Sr(e,"KASPA_NATIVE_SETTLEMENT_MISSING_QUOTE_ID");return await Ae(s),s}const n=Q.dexEndpoint;if(!n)return e;let r;try{const s=await Ou();r=await cS({endpoint:n,network:s,quoteId:t,depositTxId:e.txHash})}catch{return e}if(r.state==="failed"){const s=Sr(e,r.error||"KASPA_NATIVE_EXECUTION_FAILED");return await Ae(s),s}const o=await xS(e.txHash);if(o&&r.state==="confirmed"){const s=Xe(e,"CONFIRMED",{confirmations:Math.max(1,r.confirmations||1),error:null});return await Ae(s),s}const i=Xe(e,"PENDING_CONFIRMATION",{confirmations:o?1:0});return await Ae(i),i}async function Bm(e){return e.routeSource==="evm_0x"?kS(e):e.routeSource==="kaspa_native"?Um(e):e}async function Sd(){const t=(await mo()).filter(r=>Ru(r)&&(r.routeSource==="evm_0x"||r.routeSource==="kaspa_native")),n=[];for(const r of t)n.push(await Bm(r));return n}async function AS(){return Lv()}async function TS(e){if(!e.transaction)throw new Error("SWAP_EXECUTION_UNSUPPORTED: missing EVM transaction payload.");const t=zm();if(!t)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");if(!Pv(e.transaction.to,Q.zeroExExpectedSettlerTo))throw new Error("ZEROX_SETTLER_MISMATCH: refusing to execute unexpected transaction target.");const n=bm("swap");let r=Om(n,"evm_0x");r=Xe(r,"QUOTED"),await Ae(r),r=Xe(r,"SIGNED"),await Ae(r);let o="";try{o=await Dv({from:t.address,to:e.transaction.to,data:e.transaction.data,value:e.transaction.value||"0x0"})}catch(u){const c=Xe(r,"FAILED_BRIDGE",{error:u instanceof Error?u.message:String(u)});return await Ae(c),c}r=Xe(r,"SUBMITTED",{txHash:o,confirmations:0,error:null}),await Ae(r);const i=Date.now()+Q.settlementTimeoutMs;for(;Date.now()<i;){if(r=await Bm(r),r.state==="CONFIRMED"||r.state==="FAILED_REVERT"||r.state==="FAILED_BRIDGE")return r;await new Promise(c=>setTimeout(c,Q.settlementPollIntervalMs))}const s=Xe(r,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Ae(s),s}async function IS(e){if(e.routeSource!=="kaspa_native")throw new Error("KASPA_NATIVE_ROUTE_REQUIRED");if(e.tokenIn!=="KAS")throw new Error("KASPA_NATIVE_INPUT_UNSUPPORTED: only KAS input is supported.");if(Date.now()>e.validUntil)throw new Error("KASPA_NATIVE_QUOTE_EXPIRED");const t=Q.dexEndpoint;if(!t)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");const n=Pn();if(!(n!=null&&n.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const r=await Ou(),o=uo(n.address,r),i=sS(e),s=SS(e.amountIn),u=bm("swap");let c=Om(u,"kaspa_native");c=Xe(c,"QUOTED"),await Ae(c),c=Xe(c,"SIGNED"),await Ae(c);let d="";try{let h=await Sm(o,i.settlementAddress,s,r);await vm(h);const S=await xm(h);if(!S.valid){const E=S.errors.join("; ");await ht({...h,state:"DRY_RUN_FAIL",error:E});const f=Sr(c,`KASPA_NATIVE_DRY_RUN_FAILED: ${E}`);return await Ae(f),f}h={...h,state:"DRY_RUN_OK",fee:S.estimatedFee},await ht(h);const A=await wm(h);await ht(A);const k=await Em(A);await ht(k),d=k.txId||A.txId||""}catch(h){const S=Sr(c,h instanceof Error?h.message:String(h));return await Ae(S),S}if(!d){const h=Sr(c,"KASPA_NATIVE_EXECUTION_NO_TXID");return await Ae(h),h}c=Xe(c,"SUBMITTED",{txHash:d,bridgeTransferId:i.quoteId,confirmations:0,error:null}),await Ae(c);try{await aS({endpoint:t,network:r,quoteId:i.quoteId,depositTxId:d,walletAddress:o,amountIn:e.amountIn})}catch{}const g=Date.now()+Q.settlementTimeoutMs;for(;Date.now()<g;){if(c=await Um(c),c.state==="CONFIRMED"||c.state==="FAILED_REVERT"||c.state==="FAILED_BRIDGE"||c.state==="FAILED_TIMEOUT")return c;await new Promise(h=>setTimeout(h,Q.settlementPollIntervalMs))}const m=Sr(c,"Swap timed out waiting for confirmations.","FAILED_TIMEOUT");return await Ae(m),m}async function _S(e){if(e.routeSource==="kaspa_native")return IS(e);if(e.routeSource==="evm_0x")return TS(e);throw new Error(`SWAP_EXECUTION_UNSUPPORTED: ${e.routeSource||"unknown route"}`)}var Rd;const rn=((Rd=import.meta)==null?void 0:Rd.env)??{},CS=3500,NS=2e4,PS=512,Vt=new Map,xd=100,jS=0,RS=200,OS=12,LS=35,DS=55,bS=8,zS=2,MS=12e4,FS=1500,US=3e4,wd=new Map;function al(e){const t=String((rn==null?void 0:rn[e])??"").trim();if(!t)return[];const n=t.split(/[,\s]+/).map(r=>r.trim().replace(/\/+$/,"")).filter(Boolean);return[...new Set(n)]}function Uo(e,t){const n=String((rn==null?void 0:rn[e])??"").trim();if(!n)return t;const r=Number(n);return Number.isFinite(r)?Math.max(0,Math.floor(r)):t}function Bo(e,t){const n=String((rn==null?void 0:rn[e])??"").trim();if(!n)return t;const r=Number(n);return Number.isFinite(r)?Math.max(0,r):t}function BS(){return Uo("VITE_SWAP_KRC_TOKEN_METADATA_CACHE_TTL_MS",NS)}function $S(){return Math.max(1,Uo("VITE_SWAP_KRC_TOKEN_METADATA_CACHE_MAX_ENTRIES",PS))}function KS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_SUCCESS_REWARD",OS)}function WS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_FAILURE_PENALTY",LS)}function VS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_TIMEOUT_PENALTY",DS)}function HS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_MISS_PENALTY",bS)}function GS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_LATENCY_PENALTY_PER_100MS",zS)}function XS(){return Uo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_DECAY_TAU_MS",MS)}function QS(){return Uo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_BACKOFF_BASE_MS",FS)}function YS(){return Uo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_BACKOFF_MAX_MS",US)}function ZS(e){return e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet-12"?"TN12":"MAINNET"}function JS(e){const t=ZS(e),n=al("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINTS"),r=al(`VITE_KASPA_KASPLEX_${t}_API_ENDPOINTS`),o=al("VITE_KASPA_KASPLEX_API_ENDPOINTS");return[...new Set([...n,...r,...o])]}function qS(e,t={},n=CS){const r=new AbortController,o=setTimeout(()=>r.abort(),n);return fetch(e,{...t,signal:r.signal}).finally(()=>clearTimeout(o))}function ca(e){return e&&typeof e=="object"&&!Array.isArray(e)?e:null}function ex(e){const t=["token","data","result","item","collection","metadata"];for(const n of t){const r=ca(e[n]);if(r)return r}return null}function ir(e,t){for(const n of t){const r=e[n];if(typeof r=="string"&&r.trim())return r.trim()}return""}function tx(e,t){for(const n of t){const r=e[n],o=typeof r=="number"?r:Number(r);if(Number.isFinite(o))return o}return null}function qi(e){return String(e||"").trim().toLowerCase()}function nx(e,t,n){return`${n}|${t}|${qi(e)}`}function es(e){return{...e}}function rx(e){const t=Vt.get(e);return t?t.expiresAt<=Date.now()?(Vt.delete(e),null):(Vt.delete(e),Vt.set(e,t),es(t.token)):null}function Ed(e,t){const n=BS();if(n<=0)return;Vt.has(e)&&Vt.delete(e),Vt.set(e,{token:es(t),expiresAt:Date.now()+n});const r=$S();for(;Vt.size>r;){const o=Vt.keys().next().value;if(typeof o!="string")break;Vt.delete(o)}}function ki(e){return Math.max(jS,Math.min(RS,e))}function $m(e,t=Date.now()){let n=wd.get(e);if(!n)return n={score:xd,consecutiveFailures:0,backoffUntil:0,lastUpdatedAt:t},wd.set(e,n),n;const r=Math.max(0,t-n.lastUpdatedAt),o=XS();if(o>0&&r>0){const i=1-Math.exp(-r/o);n.score=ki(n.score+(xd-n.score)*i)}return n.lastUpdatedAt=t,n}function ox(e){const t=GS();return t<=0?0:Math.max(0,e)/100*t}function ix(e,t,n,r=Date.now()){const o=$m(e,r),i=ox(n);if(t==="success"){o.consecutiveFailures=0,o.backoffUntil=0,o.score=ki(o.score+KS()-i);return}if(t==="miss"){o.score=ki(o.score-HS()-i*.5),o.consecutiveFailures=Math.max(0,o.consecutiveFailures-1);return}const s=t==="timeout"?VS():WS();o.consecutiveFailures+=1,o.score=ki(o.score-s-i);const u=QS(),c=YS(),d=Math.min(c,u*Math.pow(2,Math.max(0,o.consecutiveFailures-1)));o.backoffUntil=r+d}function sx(e,t=Date.now()){const n=[],r=[];for(const o of e){const i=$m(o,t);i.backoffUntil>t?r.push({endpoint:o,score:i.score,backoffUntil:i.backoffUntil}):n.push({endpoint:o,score:i.score})}return n.sort((o,i)=>i.score-o.score),n.length>0?n.map(o=>o.endpoint):(r.sort((o,i)=>o.backoffUntil-i.backoffUntil||i.score-o.score),r.length>0?[r[0].endpoint]:[])}function lx(e,t){const n=t==="krc721"?0:8;return Number.isFinite(e)?Math.max(0,Math.min(18,Math.floor(e))):n}function ax(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return t>>>0}function kd(e,t=64,n=52){return`hsl(${e%360} ${t}% ${n}%)`}function Km(e,t){const n=qi(e),r=ax(`${t}:${n}`),o=kd(r),i=kd(r>>3),s=t==="krc721"?"721":"20",u=n.slice(0,6).toUpperCase(),c=`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0%' stop-color='${o}'/><stop offset='100%' stop-color='${i}'/></linearGradient></defs><rect width='120' height='120' rx='24' fill='url(#g)'/><text x='60' y='56' text-anchor='middle' font-family='IBM Plex Mono, monospace' font-size='18' fill='white'>${s}</text><text x='60' y='78' text-anchor='middle' font-family='IBM Plex Mono, monospace' font-size='10' fill='white'>${u}</text></svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(c)}`}function ux(e,t){const n=String(e??"").trim().toLowerCase();return n.includes("721")?"krc721":n.includes("20")?"krc20":n==="nft"?"krc721":n==="ft"?"krc20":t}function cx(e,t,n){const o=ir(e,["address","tokenAddress","contractAddress","contract","id","assetId"])||t,i=ux(ir(e,["standard","type","tokenType","protocol"]),n),s=ir(e,["symbol","ticker","tick","tokenSymbol"])||o.slice(0,6).toUpperCase(),u=ir(e,["name","collectionName","tokenName","title"])||s,c=tx(e,["decimals","decimal","precision"]),d=lx(c??(i==="krc721"?0:8),i),g=ir(e,["logo","logoUrl","image","imageUrl","icon","iconUrl"])||Km(o,i);return{address:o,standard:i,symbol:s,name:u,decimals:d,logoUri:g}}function dx(e){const t=[],n=ca(e);if(!n)return t;t.push(n);const r=ex(n);r&&t.push(r);for(const o of["tokens","items","results","data"]){const i=n[o];if(Array.isArray(i))for(const s of i){const u=ca(s);u&&t.push(u)}}return t}function fx(e,t){const n=qi(t);if(!n)return e[0]??null;for(const r of e){const o=qi(ir(r,["address","tokenAddress","contractAddress","contract","id","assetId"]));if(o&&o===n)return r}return e[0]??null}function px(e,t){const n=encodeURIComponent(e);return t==="krc721"?[`/krc721/tokens/${n}`,`/krc721/collections/${n}`,`/krc721/${n}`,`/tokens/${n}`,`/token/${n}`,`/v1/krc721/${n}`]:[`/krc20/tokens/${n}`,`/krc20/token/${n}`,`/krc20/${n}`,`/tokens/${n}`,`/token/${n}`,`/v1/krc20/${n}`]}async function mx(e,t,n){const r=Date.now(),o=e.replace(/\/+$/,""),i=px(t,n);let s=!1,u=!1;for(const c of i)try{const d=await qS(`${o}${c}`,{method:"GET"});if(!d.ok){(d.status>=500||d.status===429)&&(s=!0);continue}const g=await d.json().catch(()=>null);if(!g){s=!0;continue}const m=dx(g);if(m.length===0)continue;const h=fx(m,t);if(!h)continue;return{token:cx(h,t,n),outcome:"success",elapsedMs:Math.max(0,Date.now()-r)}}catch(d){d instanceof Error&&d.name==="AbortError"?u=!0:s=!0}return{token:null,outcome:u?"timeout":s?"failure":"miss",elapsedMs:Math.max(0,Date.now()-r)}}async function hx(e,t,n){const r=String(e||"").trim();if(!r)throw new Error("Token address is required.");const o=nx(r,t,n),i=rx(o);if(i)return i;const s=sx(JS(n));for(const c of s){const d=await mx(c,r,t);if(ix(c,d.outcome,d.elapsedMs),d.token)return Ed(o,d.token),es(d.token)}const u={address:r,standard:t,symbol:r.slice(0,6).toUpperCase(),name:t==="krc721"?"KRC721 Token":"KRC20 Token",decimals:t==="krc721"?0:8,logoUri:Km(r,t)};return Ed(o,u),es(u)}function gx(e,t){const n=String(e||"").trim();if(!n||!/^\d+(\.\d+)?$/.test(n))return null;const[r,o=""]=n.split("."),i=r.replace(/^0+(?=\d)/,"")||"0",s=o.slice(0,t).padEnd(t,"0"),u=`${i}${s}`.replace(/^0+(?=\d)/,"")||"0";try{return BigInt(u)}catch{return null}}function yx(){const[e,t]=w.useState(()=>aa()),[n,r]=w.useState(null),[o,i]=w.useState([]),[s,u]=w.useState(null),[c,d]=w.useState(!1),[g,m]=w.useState(!1),[h,S]=w.useState(!1),[A,k]=w.useState(!1),[E,f]=w.useState(!1),p=Fm(),y=Nv(),x=Am(),[_,C]=w.useState("KAS"),[R,N]=w.useState("USDC"),[W,K]=w.useState(""),[H,Se]=w.useState(Q.defaultSlippageBps),[le,we]=w.useState(""),[Oe,Ie]=w.useState("krc20"),[J,P]=w.useState(null),[z,F]=w.useState(!1),[G,B]=w.useState(null),[te,ne]=w.useState(!1),[Z,fe]=w.useState(!1),O=!p.enabled,ae=Q.routeSource==="evm_0x",_e=le.trim().toLowerCase(),oe=_e?x.filter(v=>`${v.symbol} ${v.name} ${v.id}`.toLowerCase().includes(_e)).slice(0,8):[],$e=x.find(v=>v.id===R)??null;w.useEffect(()=>{t(aa()),Sd().catch(()=>{}),mo().then(i).catch(()=>{})},[]),w.useEffect(()=>{const v=setInterval(()=>{Sd().then(()=>mo().then(j=>i(j.slice(0,4)))).catch(()=>{})},Q.settlementPollIntervalMs);return()=>clearInterval(v)},[]);const Yt=async()=>{const v=await mo();i(v.slice(0,4))},Le=()=>{r(null),u(null),f(!1)},ct=async()=>{u(null);const v=x.find($=>$.id===_),j=gx(W,(v==null?void 0:v.decimals)??8);if(!j||j<=0n){u("Enter a valid amount.");return}m(!0);try{const $=await ES({tokenIn:_,tokenOut:R,amountIn:j,slippageBps:H,customTokenOut:J});if(!$){u(p.reason??"Swap is currently unavailable.");return}r($)}catch($){u($ instanceof Error?$.message:String($))}finally{m(!1)}},Ee=async v=>{B(null),u(null);const j=String(v||"").trim();if(!j){B("Paste a token address first.");return}F(!0);try{const $=await uu().catch(()=>"mainnet"),Ne=await hx(j,Oe,$);we(j),P(Ne),N("USDC"),fe(!1),Le()}catch($){P(null),B($ instanceof Error?$.message:String($))}finally{F(!1)}},dt=()=>{P(null),B(null),fe(!1),Le()},wt=async()=>{var v;if(B(null),u(null),!((v=navigator==null?void 0:navigator.clipboard)!=null&&v.readText)){B("Clipboard read is unavailable in this browser.");return}ne(!0);try{const $=(await navigator.clipboard.readText()).trim();if(!$){B("Clipboard is empty.");return}await Ee($)}catch(j){B(j instanceof Error?j.message:"Failed to read clipboard.")}finally{ne(!1)}},$t=v=>{N(v),P(null),B(null),fe(!1),we(""),Le()},jt=async()=>{B(null),u(null);const v=le.trim();if(!v){B("Type a token name/symbol or paste a token address.");return}const j=v.toLowerCase(),$=x.find(Ne=>Ne.id.toLowerCase()===j||Ne.symbol.toLowerCase()===j||Ne.name.toLowerCase()===j);if($){if(!$.enabled){B($.disabledReason??`${$.symbol} is not currently available.`);return}$t($.id);return}await Ee(v)},Ke=async()=>{var v;if(J!=null&&J.address&&(v=navigator==null?void 0:navigator.clipboard)!=null&&v.writeText)try{await navigator.clipboard.writeText(J.address),fe(!0),setTimeout(()=>fe(!1),1400)}catch{}},Rt=async()=>{u(null),d(!0);try{const v=await AS();t(v),k(!1)}catch(v){u(v instanceof Error?v.message:String(v))}finally{d(!1)}},U=()=>{Ov(),t(null)},T=async()=>{if(n){u(null),S(!0);try{await _S(n),f(!1),await Yt()}catch(v){u(v instanceof Error?v.message:String(v))}finally{S(!1)}}},M=()=>{if(!new Set(x.filter(j=>j.enabled).map(j=>j.id)).has(R)){u(`Cannot flip while ${R} is disabled for input.`);return}C(R),N(_),dt(),Le()},Y=v=>({width:"100%",boxSizing:"border-box",background:v?"rgba(8,13,20,0.4)":"rgba(8,13,20,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:v?a.dim:a.text,fontSize:11,cursor:v?"not-allowed":"text",...D,outline:"none"}),pe=v=>({...Y(v),cursor:v?"not-allowed":"pointer",appearance:"none"});return l.jsxs("div",{style:Bn,children:[O&&l.jsxs("div",{style:{...je("purple"),display:"flex",alignItems:"flex-start",gap:10},children:[l.jsx("span",{style:{fontSize:18,flexShrink:0},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:9,color:a.purple,fontWeight:700,letterSpacing:"0.1em",marginBottom:4},children:"SWAP UNAVAILABLE"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:p.reason??"Swap functionality not yet active on Kaspa."}),l.jsxs("div",{style:{fontSize:8,color:a.muted,lineHeight:1.4,marginTop:6},children:["Route source: ",y.label]})]})]}),ae&&l.jsxs("div",{style:je("default",!0),children:[l.jsx("div",{style:{...He,marginBottom:6},children:"EVM SIDECAR SIGNER"}),e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Connected: ",e.address.slice(0,8),"",e.address.slice(-6)," (chain ",e.chainId,")"]}),l.jsx("button",{onClick:U,style:{...ee(a.warn),width:"100%",padding:"8px 0"},children:"DISCONNECT EVM SIGNER"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:7},children:"Required for `0x` route. Kaspa managed signer remains isolated."}),A?l.jsxs("div",{style:{...me(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:6},children:"You are connecting an EVM signer domain. Forge-OS Kaspa wallet keys are not shared with this signer."}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:Rt,style:{...$n(!0),flex:1,padding:"7px 0"},disabled:c,children:c?"CONNECTING":"I AGREE, CONNECT"}),l.jsx("button",{onClick:()=>k(!1),style:{...ee(a.dim),flex:1,padding:"7px 0"},disabled:c,children:"CANCEL"})]})]}):l.jsx("button",{onClick:()=>k(!0),style:{...ee(a.accent),width:"100%",padding:"8px 0"},disabled:c,children:"CONNECT METAMASK SIDECAR"})]})]}),l.jsxs("div",{style:je("default"),children:[l.jsx("div",{style:{...He,marginBottom:6},children:"YOU PAY"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("select",{value:_,onChange:v=>{C(v.target.value),Le()},disabled:O,style:{...pe(O),flex:"0 0 100px"},children:x.filter(v=>v.enabled).map(v=>l.jsx("option",{value:v.id,children:v.symbol},v.id))}),l.jsx("input",{type:"number",min:"0",value:W,onChange:v=>K(v.target.value),placeholder:O?"":"0.00",disabled:O,style:{...Y(O),flex:1}})]})]}),l.jsx("div",{style:{textAlign:"center"},children:l.jsx("button",{disabled:O,onClick:M,style:{background:"linear-gradient(180deg, rgba(16,25,35,0.7), rgba(8,13,20,0.7))",border:`1px solid ${a.border}`,borderRadius:"50%",width:28,height:28,color:O?a.muted:a.accent,fontSize:14,cursor:O?"not-allowed":"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 16px rgba(0,0,0,0.16)"},children:""})}),l.jsxs("div",{style:je("default"),children:[l.jsx("div",{style:{...He,marginBottom:6},children:"YOU RECEIVE (ESTIMATED)"}),l.jsxs("div",{style:{...me(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"SEARCH TOKEN (NAME / SYMBOL) OR PASTE KRC ADDRESS"}),l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:6},children:[l.jsx("input",{value:le,onChange:v=>{we(v.target.value),J&&(P(null),fe(!1)),B(null),Le()},onKeyDown:v=>{v.key==="Enter"&&(v.preventDefault(),!O&&!z&&jt().catch(()=>{}))},placeholder:"Search token or paste address",disabled:O,style:{...Y(O),flex:1,padding:"8px 10px",fontSize:9}}),l.jsx("button",{onClick:wt,disabled:O||te||z,style:{...ee(a.dim),padding:"0 10px",fontSize:8,whiteSpace:"nowrap"},children:te?"...":"PASTE"}),l.jsx("button",{onClick:()=>jt(),disabled:O||z,style:{...ee(a.accent),padding:"0 10px",fontSize:8,whiteSpace:"nowrap"},children:z?"...":"SEARCH"})]}),l.jsx("div",{style:{display:"flex",gap:6,marginBottom:6},children:["krc20","krc721"].map(v=>{const j=Oe===v;return l.jsx("button",{onClick:()=>Ie(v),disabled:O,style:{...ee(j?a.accent:a.dim),flex:1,padding:"5px 0",fontSize:8,background:j?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:j?`${a.accent}55`:a.border,color:j?a.accent:a.dim},children:v.toUpperCase()},v)})}),oe.length>0&&l.jsx("div",{style:{...me(),marginTop:6,padding:"6px 7px"},children:oe.map(v=>l.jsxs("button",{onClick:()=>$t(v.id),disabled:!v.enabled,style:{width:"100%",textAlign:"left",background:"none",border:"none",color:v.enabled?a.text:a.dim,padding:"5px 2px",fontSize:8,cursor:v.enabled?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"space-between",...D},children:[l.jsxs("span",{children:[v.symbol,"  ",v.name]}),l.jsx("span",{style:{color:v.enabled?a.ok:a.warn,fontSize:7},children:v.enabled?"AVAILABLE":"SOON"})]},v.id))}),!_e&&l.jsx("div",{style:{fontSize:8,color:a.muted,marginTop:4},children:"Try: KAS, USDC, USDT, or paste a KRC20/KRC721 token address."}),!J&&$e&&l.jsx("div",{style:{...me(),marginTop:8,padding:"8px 9px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsxs("div",{style:{minWidth:0},children:[l.jsx("div",{style:{fontSize:9,color:a.text,fontWeight:700,letterSpacing:"0.06em"},children:$e.symbol}),l.jsx("div",{style:{fontSize:8,color:a.dim,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:$e.name})]}),l.jsx("div",{style:{fontSize:7,color:$e.enabled?a.ok:a.warn,letterSpacing:"0.06em"},children:$e.enabled?"SELECTED":"DISABLED"})]})}),G&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:G}),J&&l.jsx("div",{style:{...me(),marginTop:8,padding:"8px 9px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,minWidth:0},children:[l.jsx("img",{src:J.logoUri,alt:J.symbol,style:{width:26,height:26,borderRadius:6,objectFit:"cover",flexShrink:0}}),l.jsxs("div",{style:{minWidth:0},children:[l.jsxs("div",{style:{fontSize:9,color:a.text,fontWeight:700,letterSpacing:"0.06em"},children:[J.symbol,"  ",J.standard.toUpperCase()]}),l.jsx("div",{style:{fontSize:8,color:a.dim,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:J.address})]})]}),l.jsx("button",{onClick:Ke,style:{...ee(Z?a.ok:a.dim),padding:"4px 7px",fontSize:8},children:Z?"COPIED":"COPY"}),l.jsx("button",{onClick:dt,style:{...ee(a.dim),padding:"4px 7px",fontSize:8},children:"CLEAR"})]})})]})]}),l.jsxs("div",{style:je("default",!0),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("div",{style:He,children:"SLIPPAGE TOLERANCE"}),l.jsxs("div",{style:{fontSize:8,color:O?a.muted:a.text,fontWeight:700},children:[(H/100).toFixed(1),"%"]})]}),l.jsx("div",{style:{display:"flex",gap:6},children:[25,50,100].map(v=>l.jsxs("button",{onClick:()=>Se(v),disabled:O,style:{...ee(H===v&&!O?a.accent:a.dim),flex:1,padding:"5px 0",borderRadius:6,background:H===v&&!O?`${a.accent}20`:"rgba(33,48,67,0.4)",border:`1px solid ${H===v&&!O?a.accent:a.border}`,color:H===v&&!O?a.accent:a.dim,fontSize:8,fontWeight:700,cursor:O?"not-allowed":"pointer"},children:[(v/100).toFixed(1),"%"]},v))})]}),O?l.jsx("div",{style:{textAlign:"center"},children:l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"SWAP COMING SOON"})}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:ct,style:{...$n(!0),width:"100%",padding:"11px 0",fontSize:10,letterSpacing:"0.1em"},disabled:g,children:g?"REQUESTING QUOTE":"GET QUOTE "}),n&&l.jsxs("div",{style:je("default",!0),children:[l.jsx("div",{style:{...He,marginBottom:6},children:"QUOTE PREVIEW"}),n.customTokenOut&&l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Output token: ",n.customTokenOut.symbol," (",n.customTokenOut.standard.toUpperCase(),")  ",n.customTokenOut.address]}),l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Route: ",n.route.join(" -> ")," | Valid ~30s"]}),l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:8},children:["Min output units: ",n.amountOut.toString()]}),E?l.jsxs("div",{style:{...me(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:6},children:"Confirm execution in the external EVM signer. Settlement is persisted and recovered after restart."}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:T,style:{...$n(!0),flex:1,padding:"7px 0"},disabled:h,children:h?"EXECUTING":"CONFIRM EXECUTION"}),l.jsx("button",{onClick:()=>f(!1),style:{...ee(a.dim),flex:1,padding:"7px 0"},disabled:h,children:"CANCEL"})]})]}):l.jsx("button",{onClick:()=>f(!0),style:{...$n(!0),width:"100%",padding:"8px 0"},disabled:h,children:"SIGN & EXECUTE SWAP"})]})]}),s&&l.jsx("div",{style:{...me(),border:`1px solid ${a.danger}60`,color:a.danger,fontSize:8},children:s}),o.length>0&&l.jsxs("div",{style:{...me(),padding:"9px 12px"},children:[l.jsx("div",{style:{...He,marginBottom:6},children:"SWAP SETTLEMENTS"}),o.map((v,j)=>l.jsxs("div",{style:{marginBottom:j<o.length-1?4:0,fontSize:8,color:a.dim},children:[l.jsx("span",{style:{color:a.text},children:v.state}),"  ",v.txHash?`${v.txHash.slice(0,10)}`:"tx pending","  ",new Date(v.updatedAt).toLocaleTimeString()]},v.id))]}),l.jsxs("div",{style:{...me(),padding:"9px 12px"},children:[l.jsx("div",{style:{...He,marginBottom:5},children:"SWAP NOTES"}),[`Route source: ${y.label}.`,y.requiresEvmSigner?"This route requires a dedicated EVM signer (Kaspa signer is isolated).":"Signing domain remains inside Kaspa managed wallet boundaries.","Phantom-style token search: type symbol/name or paste token address in one search bar.","Output preview required before any signature.",`Max slippage cap: ${Q.maxSlippageBps/100}%.`,"No silent token redirection  destination enforced.","Swap routes verified against active network only."].map((v,j)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:j<6?3:0},children:[l.jsx("span",{style:{color:O?a.muted:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.muted,lineHeight:1.4},children:v})]},j))]})]})}const Dr=1,ts=440,ns=720,Wm=420,Vm=620;function vx({autoLockMinutes:e,persistSession:t,onUnlock:n,onReset:r,walletAddress:o}){const[i,s]=w.useState(""),[u,c]=w.useState(null),[d,g]=w.useState(!1),[m,h]=w.useState(!1),S=w.useRef(null);w.useEffect(()=>{var k;(k=S.current)==null||k.focus()},[]);const A=async k=>{var E;if(k.preventDefault(),!(!i||d)){g(!0),c(null);try{const f=await Zn(i,e,{persistSession:t});n(f)}catch(f){const p=f instanceof Error?f.message:String(f);c(p==="INVALID_PASSWORD"?"Incorrect password.":"Failed to unlock. Try again."),s(""),(E=S.current)==null||E.focus()}finally{g(!1)}}};return l.jsxs("div",{style:{width:ts,minHeight:ns,...Lr(),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:"28px 30px 24px",...D,position:"relative",overflow:"hidden",overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:"-12%",left:"50%",transform:"translateX(-50%)",width:360,height:360,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}18 0%, transparent 70%)`,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:"-10%",right:"-32%",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0A 0%, transparent 72%)`,pointerEvents:"none"}}),l.jsxs("div",{style:{position:"relative",zIndex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:4},children:[l.jsxs("div",{style:{marginBottom:o?14:22,textAlign:"center"},children:[l.jsx("img",{src:"../icons/icon128.png",alt:"Forge-OS",style:{width:58,height:58,objectFit:"contain",imageRendering:"auto",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.52))",marginBottom:12}}),l.jsxs("div",{style:{fontSize:17,fontWeight:700,letterSpacing:"0.12em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]}),l.jsx("div",{style:{fontSize:10,color:a.dim,marginTop:5,letterSpacing:"0.12em"},children:o?"WELCOME BACK":"WALLET LOCKED"})]}),o&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:16,background:`${a.accent}0A`,border:`1px solid ${a.accent}25`,borderRadius:20,padding:"6px 14px"},children:[l.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsx("span",{style:{fontSize:11,color:a.text,fontWeight:600},children:Fo(o)})]}),l.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:`${a.accent}15`,border:`1px solid ${a.accent}30`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:18},children:l.jsx("span",{style:{fontSize:22},children:""})}),l.jsxs("form",{onSubmit:A,style:{width:"100%"},children:[l.jsxs("div",{style:{marginBottom:12},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:6},children:o?"ENTER PASSWORD TO SIGN IN":"PASSWORD"}),l.jsx("input",{ref:S,type:"password",value:i,onChange:k=>s(k.target.value),placeholder:"Enter your password",disabled:d,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.7)",border:`1px solid ${u?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...D,outline:"none"}})]}),u&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10,textAlign:"center"},children:u}),l.jsx("button",{type:"submit",disabled:!i||d,style:{width:"100%",padding:"10px 0",background:i&&!d?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}30`,border:"none",borderRadius:8,color:i&&!d?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:i&&!d?"pointer":"not-allowed",letterSpacing:"0.1em",...D,transition:"background 0.15s, color 0.15s"},children:d?"UNLOCKING":"UNLOCK WALLET"})]}),l.jsx("div",{style:{marginTop:20,textAlign:"center"},children:m?l.jsxs("div",{style:{background:a.dLow,border:`1px solid ${a.danger}40`,borderRadius:8,padding:"12px 14px",marginTop:4},children:[l.jsx("div",{style:{fontSize:9,color:a.warn,fontWeight:700,marginBottom:6,letterSpacing:"0.08em"},children:" RESET WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:10},children:"This will permanently delete your encrypted vault. Make sure you have your seed phrase backed up before proceeding."}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>h(!1),style:{flex:1,padding:"7px 0",background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:6,color:a.dim,fontSize:8,cursor:"pointer",...D},children:"CANCEL"}),l.jsx("button",{onClick:r,style:{flex:1,padding:"7px 0",background:a.dLow,border:`1px solid ${a.danger}60`,borderRadius:6,color:a.danger,fontSize:8,fontWeight:700,cursor:"pointer",...D},children:"RESET WALLET"})]})]}):l.jsx("button",{onClick:()=>h(!0),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D},children:"Forgot password?"})})]})]})}const Hm="forgeos.import.addressbook.v1",Ad="forgeos.import.addressbook.salt.v1",Sx=32,xx=240;function Gm(){return chrome.storage.local}function wx(e){return String(e||"").trim().toLowerCase().split(/\s+/).join(" ")}function Ex(e){return String(e||"").trim()}function da(e){return Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}function kx(e){const t=e.trim();if(!t||t.length%2!==0)return new Uint8Array;const n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r/2]=parseInt(t.slice(r,r+2),16);return n}async function Xm(e){return new Promise(t=>{Gm().get(e,n=>t((n==null?void 0:n[e])??null))})}async function Qm(e,t){return new Promise(n=>{Gm().set({[e]:t},n)})}async function Ax(){const e=await Xm(Ad);if(e&&typeof e=="string"){const n=kx(e);if(n.length>0)return n}const t=crypto.getRandomValues(new Uint8Array(16));return await Qm(Ad,da(t)),t}async function Ym(){const e=await Xm(Hm);return!e||typeof e!="object"?{}:e}async function Tx(e){await Qm(Hm,e)}async function Zm(e,t){const n=await Ax(),r=wx(e),o=Ex(t);if(!r)return"";const i=new TextEncoder().encode(`${da(n)}
${r}
${o}`),s=await crypto.subtle.digest("SHA-256",i);return da(new Uint8Array(s))}function Ix(e){const t=it(e.derivation);return{address:e.address,derivation:t,derivationPath:bt(t),chainLabel:du(t.chain)}}function _x(e,t,n){const r=it(e.derivation);return{address:e.address,network:t,derivation:r,derivationPath:bt(r),chainLabel:du(r.chain),createdAt:n,lastUsedAt:n}}function Cx(e){const t=new Map;for(const n of e){const r=`${n.network.toLowerCase()}|${n.address.toLowerCase()}|${n.derivationPath}`,o=t.get(r);if(!o){t.set(r,n);continue}t.set(r,{...o,lastUsedAt:Math.max(o.lastUsedAt,n.lastUsedAt),createdAt:Math.min(o.createdAt,n.createdAt)})}return[...t.values()].sort((n,r)=>r.lastUsedAt-n.lastUsedAt)}function Nx(e){const t=Object.entries(e).sort((n,r)=>{var s,u,c,d;const o=((u=(s=n[1])==null?void 0:s[0])==null?void 0:u.lastUsedAt)??0;return(((d=(c=r[1])==null?void 0:c[0])==null?void 0:d.lastUsedAt)??0)-o});return Object.fromEntries(t.slice(0,Sx))}async function Px(e,t,n){const r=await Zm(e,t);return r?((await Ym())[r]??[]).filter(s=>s.network===n).sort((s,u)=>u.lastUsedAt-s.lastUsedAt).map(Ix):[]}async function fa(e,t,n,r){const o=await Zm(e,t);if(!o||!r.length)return;const i=Date.now(),s=await Ym(),u=s[o]??[],c=r.map(g=>_x(g,n,i)),d=Cx([...c,...u]).slice(0,xx);s[o]=d,await Tx(Nx(s))}async function jx(e,t,n,r){await fa(e,t,n,[r])}const Rx=ts,ul=[0,4],cl=[0,9],pa=80,Jm=320,Ox=[...cu].join(`
`);function Qr(e){return`${e.address.toLowerCase()}|${e.derivationPath}`}function ma(e,t){const n=Number(String(e||"").trim());return!Number.isFinite(n)||n<0?t:Math.floor(n)}function Td(e,t,n){const r=ma(e,n[0]),o=ma(t,n[1]);return[Math.min(r,o),Math.max(r,o)]}function Lx(e){const t=ma(e,pa);return Math.max(1,Math.min(Jm,t||pa))}function Dx(e){const t=String(e||"").split(/[,\n]+/).map(n=>n.trim()).filter(Boolean);return t.length?t:[...cu]}function Id({onSubmit:e,loading:t,submitLabel:n}){const[r,o]=w.useState(""),[i,s]=w.useState(""),[u,c]=w.useState(null),d=m=>{if(m.preventDefault(),c(null),r.length<8){c("Password must be at least 8 characters.");return}if(r!==i){c("Passwords do not match.");return}e(r)},g=(m=!1)=>({width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${m?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...D,outline:"none",marginBottom:8});return l.jsxs("form",{onSubmit:d,children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:8},children:"CREATE PASSWORD"}),l.jsx("input",{type:"password",placeholder:"Password (min 8 characters)",value:r,onChange:m=>o(m.target.value),disabled:t,style:g()}),l.jsx("input",{type:"password",placeholder:"Confirm password",value:i,onChange:m=>s(m.target.value),disabled:t,style:{...g(),marginBottom:0}}),u&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:u}),l.jsx("button",{type:"submit",disabled:!r||!i||t,style:{width:"100%",marginTop:12,padding:"11px 0",background:r&&i&&!t?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:r&&i&&!t?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:r&&i&&!t?"pointer":"not-allowed",letterSpacing:"0.1em",...D},children:t?"ENCRYPTING":n})]})}function Ln({children:e}){return l.jsxs("div",{style:{width:Rx,minHeight:ns,...Lr(),display:"flex",flexDirection:"column",padding:"22px 22px 18px",...D,overflowX:"hidden",overflowY:"auto",position:"relative",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:-80,right:-50,width:240,height:240,background:`radial-gradient(ellipse, ${a.accent}14 0%, transparent 70%)`,borderRadius:"50%",pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:-60,left:-50,width:180,height:180,background:"radial-gradient(ellipse, rgba(57,221,182,0.10) 0%, transparent 70%)",borderRadius:"50%",pointerEvents:"none"}}),l.jsx("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",flex:1},children:e})]})}function or({title:e,sub:t,onBack:n}){return l.jsxs("div",{style:{marginBottom:20},children:[n&&l.jsx("button",{onClick:n,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...D,marginBottom:10,padding:0},children:" back"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain",filter:"drop-shadow(0 0 10px rgba(57,221,182,0.65))"}}),l.jsxs("span",{style:{fontSize:15,fontWeight:700,letterSpacing:"0.11em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsx("div",{style:{fontSize:13,color:a.text,fontWeight:700,letterSpacing:"0.05em"},children:e}),t&&l.jsx("div",{style:{fontSize:8,color:a.dim,marginTop:5,lineHeight:1.6},children:t})]})}function bx({network:e,onComplete:t}){const[n,r]=w.useState("choose"),o="mainnet",[i,s]=w.useState(""),[u,c]=w.useState(""),[d,g]=w.useState(Ze),[m,h]=w.useState(""),[S,A]=w.useState(""),[k,E]=w.useState(""),[f,p]=w.useState(Ze),[y,x]=w.useState([]),[_,C]=w.useState([]),[R,N]=w.useState(Ox),[W,K]=w.useState(String(ul[0])),[H,Se]=w.useState(String(ul[1])),[le,we]=w.useState(String(cl[0])),[Oe,Ie]=w.useState(String(cl[1])),[J,P]=w.useState(!0),[z,F]=w.useState(!0),[G,B]=w.useState(String(pa)),[te,ne]=w.useState(bt(Ze)),[Z,fe]=w.useState(!1),[O,ae]=w.useState(!1),[_e,oe]=w.useState(null),$e=(T,M)=>{const Y=new Map;for(const pe of[...T,...M]){const v=Qr(pe);Y.has(v)||Y.set(v,pe)}return[...Y.values()]},Yt=()=>{const T=[];return J&&T.push(0),z&&T.push(1),T.length?T:[0]},Le=async()=>{const T=await Px(m,S||void 0,o);return C(T.map(M=>Qr(M))),T},ct=async()=>{ae(!0),oe(null);try{const T=await Le();if(!T.length)throw new Error("No remembered candidates found for this phrase/passphrase.");x(T);const M=T[0];E(M.address),p(M.derivation),ne(M.derivationPath),r("import_discover")}catch(T){const M=T instanceof Error?T.message:String(T);oe(M||"Failed to load remembered candidates.")}finally{ae(!1)}},Ee=async()=>{var T;ae(!0),oe(null);try{const M=x0(te),Y=await nd(m,o,{mnemonicPassphrase:S||void 0,derivation:M}),pe={address:Y.address,derivation:it(Y.derivation??M),derivationPath:bt(Y.derivation??M),chainLabel:((T=Y.derivation)==null?void 0:T.chain)===1?"change":"receive"};E(pe.address),p(pe.derivation),x(v=>$e([pe],v)),await fa(m,S||void 0,o,[pe]),C(v=>{const j=new Set(v);return j.add(Qr(pe)),[...j]}),r("import_password")}catch(M){const Y=M instanceof Error?M.message:String(M);oe(Y||"Failed to validate derivation path.")}finally{ae(!1)}},dt=async()=>{ae(!0),oe(null);try{const T=await D0(o);s(T.phrase),c(T.address),g(it(T.derivation??Ze)),r("create_view")}catch{oe("Failed to generate wallet. Please try again.")}finally{ae(!1)}},wt=async T=>{ae(!0),oe(null);try{await Zi(i,T,u,o,{derivation:d}),await oa({address:u,network:o});const M=await Zn(T);s(""),t(M)}catch{oe("Failed to encrypt vault. Please try again."),ae(!1)}},$t=async()=>{ae(!0),oe(null);try{const T=await nd(m,o,{mnemonicPassphrase:S||void 0}),M=it(T.derivation??Ze),Y={address:T.address,derivation:M,derivationPath:bt(M),chainLabel:M.chain===1?"change":"receive"};E(T.address),p(M),x([Y]),ne(Y.derivationPath),r("import_password")}catch(T){const M=T instanceof Error?T.message:String(T);oe(M.toLowerCase().includes("bip39")||M.toLowerCase().includes("checksum")?"Invalid BIP39 phrase. Check word count, spelling, and passphrase.":"Failed to validate phrase.")}finally{ae(!1)}},jt=async()=>{ae(!0),oe(null);let T=[],M=[],Y="";try{try{T=await Le()}catch{T=[]}const pe=Td(W,H,ul),v=Td(le,Oe,cl),j=Yt(),$=Dx(R),Ne=Lx(G);try{M=await b0(m,o,{mnemonicPassphrase:S||void 0,basePaths:$,accountRange:pe,indexRange:v,chains:j,limit:Ne})}catch(ft){Y=ft instanceof Error?ft.message:String(ft)}const nt=$e(M,T);if(!nt.length)throw new Error(Y||"No derivation candidates found for the configured scan window.");M.length&&await fa(m,S||void 0,o,M),Y&&T.length&&oe(`${Y} Showing remembered candidates only.`),x(nt),C(nt.map(ft=>Qr(ft)));const Ot=nt[0];k||(E(Ot.address),p(Ot.derivation)),ne(Ot.derivationPath),r("import_discover")}catch(pe){const v=pe instanceof Error?pe.message:String(pe);oe(v||"Failed to scan import paths.")}finally{ae(!1)}},Ke=T=>{E(T.address),p(it(T.derivation)),ne(T.derivationPath),r("import_password")},Rt=async T=>{ae(!0),oe(null);try{const M=m.trim().toLowerCase().split(/\s+/).join(" ");await Zi(M,T,k,o,{mnemonicPassphrase:S||void 0,derivation:f}),await oa({address:k,network:o});try{await jx(M,S||void 0,o,{address:k,derivation:f,derivationPath:bt(f),chainLabel:f.chain===1?"change":"receive"})}catch{}const Y=await Zn(T);h(""),A(""),x([]),C([]),t(Y)}catch{oe("Failed to encrypt vault. Please try again."),ae(!1)}},U=i.split(" ");return n==="choose"?l.jsxs(Ln,{children:[l.jsx(or,{title:"SET UP YOUR WALLET",sub:"Non-custodial  Your keys never leave your device"}),l.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:14},children:["KASPA L1  L2","NON-CUSTODIAL","BIP44"].map(T=>l.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em",background:`${a.accent}10`,border:`1px solid ${a.accent}22`,borderRadius:4,padding:"3px 7px"},children:T},T))}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:18,padding:"7px 12px",background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8},children:[l.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em"},children:"MAINNET"})]}),_e&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:_e}),l.jsx("button",{onClick:dt,disabled:O,style:{width:"100%",padding:"18px 16px",textAlign:"left",background:`linear-gradient(145deg, ${a.accent}1A, rgba(11,17,24,0.95))`,border:`1px solid ${a.accent}45`,borderRadius:12,marginBottom:10,cursor:O?"not-allowed":"pointer",...D},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:`${a.accent}18`,border:`1px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{style:{color:a.accent,fontSize:18},children:""})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.accent,marginBottom:4,letterSpacing:"0.06em"},children:O?"GENERATING":"CREATE NEW WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6},children:"Generate a new wallet  24-word seed phrase  fully encrypted locally"})]})]})}),l.jsx("button",{onClick:()=>{oe(null),h(""),A(""),E(""),x([]),C([]),p(Ze),ne(bt(Ze)),r("import_phrase")},style:{width:"100%",padding:"18px 16px",textAlign:"left",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:12,marginBottom:18,cursor:"pointer",...D},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{style:{color:a.dim,fontSize:18},children:""})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,marginBottom:4,letterSpacing:"0.06em"},children:"IMPORT WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6},children:"Restore from a BIP39 seed phrase  supports 12/15/18/21/24 words"})]})]})}),l.jsx("div",{style:{marginTop:"auto",padding:"10px 12px",background:"rgba(5,7,10,0.5)",border:`1px solid ${a.border}`,borderRadius:8},children:["Your keys never leave your device.","Non-custodial  Forge-OS has zero access to your funds."].map((T,M)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:M===0?4:0},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:T})]},M))})]}):n==="create_view"?l.jsxs(Ln,{children:[l.jsx(or,{title:"YOUR SEED PHRASE",sub:"Write these 24 words down in order and store them offline. Anyone with this phrase controls your wallet.",onBack:()=>{r("choose"),s(""),c(""),g(Ze)}}),l.jsx("div",{style:{background:a.wLow,border:`1px solid ${a.warn}40`,borderRadius:8,padding:"8px 12px",marginBottom:12},children:l.jsx("div",{style:{fontSize:8,color:a.warn,fontWeight:700},children:" NEVER share this phrase. Forge-OS will never ask for it."})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:14},children:U.map((T,M)=>l.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:5,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim,flexShrink:0},children:[M+1,"."]}),l.jsx("span",{style:{fontSize:8,color:a.text,fontWeight:600},children:T})]},M))}),l.jsxs("label",{style:{display:"flex",gap:8,alignItems:"flex-start",cursor:"pointer",marginBottom:14},children:[l.jsx("input",{type:"checkbox",checked:Z,onChange:T=>fe(T.target.checked),style:{marginTop:2,accentColor:a.accent,flexShrink:0}}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"I have written down my 24-word seed phrase and stored it securely offline."})]}),l.jsx("button",{onClick:()=>r("create_password"),disabled:!Z,style:{width:"100%",padding:"11px 0",background:Z?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:Z?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:Z?"pointer":"not-allowed",letterSpacing:"0.1em",...D},children:"I'VE SAVED MY PHRASE "})]}):n==="create_password"?l.jsxs(Ln,{children:[l.jsx(or,{title:"ENCRYPT YOUR WALLET",sub:"Your seed phrase will be encrypted and stored locally. You'll need this password to unlock your wallet.",onBack:()=>r("create_view")}),_e&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:_e}),l.jsx(Id,{onSubmit:wt,loading:O,submitLabel:"CREATE WALLET"})]}):n==="import_phrase"?l.jsxs(Ln,{children:[l.jsx(or,{title:"IMPORT SEED PHRASE",sub:"Enter a BIP39 seed phrase (12/15/18/21/24 words). Optional BIP39 passphrase supported.",onBack:()=>r("choose")}),_e&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:_e}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"SEED PHRASE"}),l.jsx("textarea",{value:m,onChange:T=>{h(T.target.value),x([]),C([]),E(""),oe(null)},placeholder:"word1 word2 word3  (space-separated)",rows:4,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,resize:"vertical",...D,outline:"none",marginBottom:10}}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"BIP39 PASSPHRASE (OPTIONAL)"}),l.jsx("input",{type:"password",value:S,onChange:T=>{A(T.target.value),x([]),C([]),E(""),oe(null)},placeholder:"Optional passphrase / 25th word",style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,...D,outline:"none",marginBottom:10}}),m.trim()&&(()=>{const T=m.trim().split(/\s+/).filter(Boolean).length,M=[12,15,18,21,24].includes(T);return l.jsxs("div",{style:{fontSize:8,color:M?a.ok:a.warn,marginBottom:8},children:[T," words ",M?"":"(need 12/15/18/21/24)"]})})(),l.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"DISCOVERY SCAN OPTIONS"}),l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5},children:"BASE PATH ROOTS (ONE PER LINE)"}),l.jsx("textarea",{value:R,onChange:T=>N(T.target.value),rows:2,style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",color:a.text,fontSize:8,resize:"vertical",...D,outline:"none",marginBottom:8}}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"ACCOUNT RANGE"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsx("input",{type:"number",min:0,value:W,onChange:T=>K(T.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...D,outline:"none"}}),l.jsx("input",{type:"number",min:0,value:H,onChange:T=>Se(T.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...D,outline:"none"}})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"INDEX RANGE"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsx("input",{type:"number",min:0,value:le,onChange:T=>we(T.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...D,outline:"none"}}),l.jsx("input",{type:"number",min:0,value:Oe,onChange:T=>Ie(T.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...D,outline:"none"}})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5},children:"CHAINS"}),l.jsxs("div",{style:{display:"flex",gap:10},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:8,color:a.dim,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:J,onChange:T=>P(T.target.checked),style:{accentColor:a.accent}}),"RECEIVE (0)"]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:8,color:a.dim,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:z,onChange:T=>F(T.target.checked),style:{accentColor:a.accent}}),"CHANGE (1)"]})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"RESULT LIMIT"}),l.jsx("input",{type:"number",min:1,max:Jm,value:G,onChange:T=>B(T.target.value),style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...D,outline:"none"}})]})]})]}),l.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"MANUAL DERIVATION PATH"}),l.jsx("input",{value:te,onChange:T=>ne(T.target.value),placeholder:"m/44'/111'/0'/0/0",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",color:a.text,fontSize:8,...D,outline:"none",marginBottom:8}}),l.jsx("button",{onClick:Ee,disabled:!m.trim()||O,style:{width:"100%",padding:"9px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!O?a.text:a.dim,fontSize:8,fontWeight:700,cursor:m.trim()&&!O?"pointer":"not-allowed",letterSpacing:"0.08em",...D},children:O?"VALIDATING":"USE MANUAL PATH"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsx("button",{onClick:$t,disabled:!m.trim()||O,style:{width:"100%",padding:"11px 0",background:m.trim()&&!O?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:m.trim()&&!O?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:m.trim()&&!O?"pointer":"not-allowed",letterSpacing:"0.1em",...D},children:O?"VALIDATING":"VALIDATE PHRASE "}),l.jsx("button",{onClick:jt,disabled:!m.trim()||O,style:{width:"100%",padding:"11px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!O?a.text:a.dim,fontSize:9,fontWeight:700,cursor:m.trim()&&!O?"pointer":"not-allowed",letterSpacing:"0.08em",...D},children:O?"SCANNING":"SCAN PATHS"})]}),l.jsx("button",{onClick:ct,disabled:!m.trim()||O,style:{width:"100%",padding:"10px 0",marginTop:8,background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!O?a.text:a.dim,fontSize:8,fontWeight:700,cursor:m.trim()&&!O?"pointer":"not-allowed",letterSpacing:"0.08em",...D},children:O?"LOADING":"LOAD REMEMBERED CANDIDATES"})]}):n==="import_discover"?l.jsxs(Ln,{children:[l.jsx(or,{title:"SELECT DERIVATION",sub:"Choose the address/path that matches your existing wallet. This choice will be saved for signing.",onBack:()=>r("import_phrase")}),_e&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:_e}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"Showing common derivation candidates for your phrase/passphrase. If unsure, compare with the address shown in your current wallet app and select the exact match."}),l.jsxs("div",{style:{fontSize:8,color:a.dim,marginTop:6},children:["Remembered candidates for this mnemonic fingerprint: ",_.length]})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6,maxHeight:300,overflowY:"auto",paddingRight:2,marginBottom:12},children:y.map((T,M)=>{const Y=T.address.toLowerCase()===k.toLowerCase()&&bt(T.derivation)===bt(f),pe=_.includes(Qr(T));return l.jsxs("button",{onClick:()=>Ke(T),style:{width:"100%",textAlign:"left",background:Y?`${a.accent}10`:"rgba(8,13,20,0.8)",border:`1px solid ${Y?`${a.accent}55`:a.border}`,borderRadius:8,padding:"9px 10px",cursor:"pointer",...D},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,marginBottom:4},children:[l.jsxs("span",{style:{fontSize:8,color:Y?a.accent:a.text,fontWeight:700},children:["#",M+1,"  ",T.chainLabel.toUpperCase()]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[pe&&l.jsx("span",{style:{fontSize:8,color:a.accent,border:`1px solid ${a.accent}44`,background:`${a.accent}14`,borderRadius:4,padding:"2px 4px",letterSpacing:"0.06em"},children:"REMEMBERED"}),l.jsx("span",{style:{fontSize:8,color:a.dim},children:T.derivation.account===0?"acct 0":`acct ${T.derivation.account}`})]})]}),l.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.45,wordBreak:"break-all",marginBottom:4},children:T.address}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:T.derivationPath})]},`${T.address}-${T.derivationPath}`)})}),l.jsx("button",{onClick:()=>jt(),disabled:O,style:{width:"100%",padding:"10px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:O?a.dim:a.text,fontSize:9,fontWeight:700,cursor:O?"not-allowed":"pointer",letterSpacing:"0.08em",...D},children:O?"SCANNING":"RESCAN CANDIDATES"})]}):n==="import_password"?l.jsxs(Ln,{children:[l.jsx(or,{title:"ENCRYPT YOUR WALLET",sub:"Your imported phrase will be encrypted and stored locally. Choose a strong password.",onBack:()=>r(y.length?"import_discover":"import_phrase")}),l.jsxs("div",{style:{background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4,letterSpacing:"0.08em"},children:"SELECTED ADDRESS"}),l.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.4,wordBreak:"break-all",marginBottom:4},children:k}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:bt(f)})]}),_e&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:_e}),l.jsx(Id,{onSubmit:Rt,loading:O,submitLabel:"IMPORT WALLET"})]}):l.jsx(Ln,{children:l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",filter:"drop-shadow(0 0 12px rgba(57,221,182,0.7))",marginBottom:14}}),l.jsx("div",{style:{fontSize:10,color:a.accent,marginBottom:6,letterSpacing:"0.1em",fontWeight:700},children:"ENCRYPTING VAULT"}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:"Deriving key  This may take a moment"})]})})})}function zx({address:e,network:t,origin:n,onApprove:r,onReject:o}){const i=n??"forge-os.xyz";return l.jsxs("div",{style:{width:Wm,minHeight:Vm,...Lr(),display:"flex",flexDirection:"column",...D,overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),l.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"24px 16px",gap:16},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}18`,border:`2px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 14px"},children:l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain"}})}),l.jsx("div",{style:{fontSize:13,fontWeight:700,color:a.text,marginBottom:4},children:"Connect to Site"}),l.jsx("div",{style:{fontSize:10,color:a.dim,letterSpacing:"0.06em",wordBreak:"break-word",overflowWrap:"anywhere"},children:i})]}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.8)",border:`1px solid ${a.border}`,borderRadius:10,padding:"12px 14px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:10},children:"THIS SITE WILL BE ABLE TO"}),[{icon:"",label:"View your wallet address"},{icon:"",label:"Request message signatures"}].map(s=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6,fontSize:10,color:a.text},children:[l.jsx("span",{style:{color:a.ok,fontSize:9,flexShrink:0},children:s.icon}),s.label]},s.label)),l.jsx("div",{style:{height:1,background:a.border,margin:"10px 0"}}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"THIS SITE WILL NOT BE ABLE TO"}),[{icon:"",label:"Access your private keys or seed phrase"},{icon:"",label:"Send transactions without your approval"}].map(s=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4,fontSize:10,color:a.muted},children:[l.jsx("span",{style:{color:a.danger,fontSize:9,flexShrink:0},children:s.icon}),s.label]},s.label))]}),l.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:9,color:a.dim,marginBottom:2},children:"CONNECTING WITH"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:600},children:Fo(e)}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:t})]})]})]}),l.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[l.jsx("button",{onClick:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:10,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...D},children:"REJECT"}),l.jsx("button",{onClick:r,style:{flex:2,background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:"#04110E",fontSize:11,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...D},children:"CONNECT "})]})]})}function Mx({address:e,network:t,origin:n,message:r,loading:o=!1,error:i,onApprove:s,onReject:u}){const c=n??"forge-os.xyz";return l.jsxs("div",{style:{width:Wm,minHeight:Vm,...Lr(),display:"flex",flexDirection:"column",...D,overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),l.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"18px 16px",gap:12},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.warn}18`,border:`2px solid ${a.warn}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:l.jsx("span",{style:{fontSize:22},children:""})}),l.jsx("div",{style:{fontSize:12,fontWeight:700,color:a.text,marginBottom:3},children:"Signature Request"}),l.jsx("div",{style:{fontSize:10,color:a.dim,letterSpacing:"0.06em"},children:c})]}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.9)",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",minWidth:0},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"MESSAGE TO SIGN"}),l.jsx("div",{style:{maxHeight:180,overflowY:"auto",background:"rgba(5,7,10,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px",fontSize:9,color:a.text,lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"anywhere"},children:r})]}),l.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10,minWidth:0},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsxs("div",{style:{minWidth:0},children:[l.jsx("div",{style:{fontSize:9,color:a.dim,marginBottom:2},children:"SIGNING WITH"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:600},children:Fo(e)}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:t})]})]}),i&&l.jsx("div",{style:{fontSize:9,color:a.danger,lineHeight:1.5,textAlign:"center"},children:i})]}),l.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[l.jsx("button",{onClick:u,disabled:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:10,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...D},children:"REJECT"}),l.jsx("button",{onClick:s,disabled:o,style:{flex:2,background:o?`${a.accent}35`:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:o?a.dim:"#04110E",fontSize:11,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...D},children:o?"SIGNING":"SIGN MESSAGE "})]})]})}const _d="forgeos.connect.pending",Cd="forgeos.sign.pending";function Fx(){const[e,t]=w.useState({type:"loading"}),[n,r]=w.useState(null),[o,i]=w.useState("mainnet"),[s,u]=w.useState(null),[c,d]=w.useState(0),[g,m]=w.useState(!1),[h,S]=w.useState("wallet"),[A,k]=w.useState(),[E,f]=w.useState(15),[p,y]=w.useState(!1),[x,_]=w.useState(!1),[C,R]=w.useState(null),[N,W]=w.useState(null),[K,H]=w.useState(!1),[Se,le]=w.useState(null),[we,Oe]=w.useState(null),[Ie,J]=w.useState(null),[P,z]=w.useState(null),[F,G]=w.useState(null),[B,te]=w.useState(null),[ne,Z]=w.useState(null),[fe,O]=w.useState(null),ae=["mainnet","testnet-10","testnet-11","testnet-12"],_e={mainnet:"MAINNET","testnet-10":"TN10","testnet-11":"TN11","testnet-12":"TN12"},oe=45e3,$e=45e3,Yt=6e4;w.useEffect(()=>{(async()=>{try{const[b,V,ke,Me,De]=await Promise.all([sm(),uu(),Wy(),Hy(),Xy()]);if(i(V),f(ke),y(Me===!0),_(De===!0),!b){const pt=await Zc();pt!=null&&pt.address?(r({mnemonic:"",address:pt.address,network:V,autoLockAt:1/0}),Ee(pt.address,V),t({type:"unlocked"})):t({type:"first_run"});return}const Et=Pn()??await lm();if(Et)r(Et),Ee(Et.address,V),t({type:"unlocked"});else{const pt=await Zc();Oe((pt==null?void 0:pt.address)??null),t({type:"locked"})}}catch{t({type:"first_run"})}})()},[]);const Le=w.useCallback(()=>{var V;const b=(V=chrome.storage)==null?void 0:V.session;b!=null&&b.get&&b.get([_d,Cd]).then(ke=>{const Me=ke==null?void 0:ke[_d],De=ke==null?void 0:ke[Cd];R(Me!=null&&Me.requestId?Me:null),W(De!=null&&De.requestId&&typeof(De==null?void 0:De.message)=="string"?De:null)}).catch(()=>{})},[]);w.useEffect(()=>{Le()},[Le]),w.useEffect(()=>{const b=(V,ke)=>{ke==="session"&&Le()};return chrome.storage.onChanged.addListener(b),()=>chrome.storage.onChanged.removeListener(b)},[Le]),w.useEffect(()=>{le(null)},[N==null?void 0:N.requestId]),w.useEffect(()=>{const b=V=>{(V==null?void 0:V.type)==="AUTOLOCK_FIRED"&&wt()};return chrome.runtime.onMessage.addListener(b),()=>chrome.runtime.onMessage.removeListener(b)},[]),w.useEffect(()=>{if(e.type!=="unlocked"||!n)return;const b=setInterval(()=>{Pn()||wt()},3e4);return()=>clearInterval(b)},[e.type,n]);const ct=w.useCallback(b=>{var Me;const V=s0(b);if(!Array.isArray(V)||V.length===0){z(null);return}const ke=[...V].sort((De,Et)=>De.lastOkAt!==Et.lastOkAt?Et.lastOkAt-De.lastOkAt:De.consecutiveFails!==Et.consecutiveFails?De.consecutiveFails-Et.consecutiveFails:Et.lastFailAt-De.lastFailAt);z(((Me=ke[0])==null?void 0:Me.base)??null)},[]);w.useEffect(()=>{if(e.type!=="unlocked")return;const b=async()=>{const ke=await g0(o);ke!=null&&ke.virtualDaaScore?(J(ke.virtualDaaScore),Z(Date.now()),O(Me=>Me!=null&&Me.startsWith("Live BlockDAG feed")?null:Me)):O("Live BlockDAG feed unavailable  retrying"),ct(o)};b();const V=setInterval(b,2e4);return()=>clearInterval(V)},[e.type,o,ct]);const Ee=w.useCallback(async(b,V)=>{try{const ke=uo(b,V),[Me,De]=await Promise.allSettled([y0(ke,V),v0(V)]),Et=Date.now();let pt=!1;Me.status==="fulfilled"?(u(Me.value),G(Et)):pt=!0,De.status==="fulfilled"?(d(De.value),te(Et)):pt=!0,O($o=>pt?"Live balance/price feed degraded  retrying":$o!=null&&$o.startsWith("Live balance/price feed")?null:$o),ct(V)}catch{}},[ct]);w.useEffect(()=>{if(e.type!=="unlocked"||!(n!=null&&n.address))return;const b=()=>{Ee(n.address,o)};b();const V=setInterval(b,15e3);return()=>clearInterval(V)},[e.type,n==null?void 0:n.address,o,Ee]);const dt=b=>{Oe(null),r(b),Ee(b.address,o),t({type:"unlocked"})},wt=()=>{Oe((n==null?void 0:n.address)??null),um(),r(null),u(null),d(0),J(null),z(null),G(null),te(null),Z(null),O(null),t({type:"locked"})},$t=async()=>{const{resetWallet:b}=await Gp(async()=>{const{resetWallet:V}=await Promise.resolve().then(()=>N0);return{resetWallet:V}},void 0);await b(),r(null),u(null),d(0),J(null),z(null),G(null),te(null),Z(null),O(null),t({type:"first_run"})},jt=b=>{r(b),Ee(b.address,o),t({type:"unlocked"})},Ke=(()=>{if(!(n!=null&&n.address))return null;try{return uo(n.address,o)}catch{return n.address}})(),Rt=async()=>{if(Ke)try{await navigator.clipboard.writeText(Ke),m(!0),setTimeout(()=>m(!1),2e3)}catch{}},U=async()=>{const b=ae.indexOf(o),V=ae[(b+1)%ae.length];if(i(V),await Ky(V),u(null),J(null),z(null),G(null),te(null),Z(null),O(null),n!=null&&n.address){try{await oa({address:uo(n.address,V),network:V})}catch{}Ee(n.address,V)}},T=()=>{e.type==="unlocked"&&Ei(E,{persistSession:p})},M=async b=>{f(b),await Vy(b),e.type==="unlocked"&&Ei(b,{persistSession:p})},Y=async b=>{y(b),await Gy(b),await am(b),e.type==="unlocked"&&Ei(E,{persistSession:b})},pe=async()=>{const b=!x;_(b);try{await Qy(b)}catch{}};w.useEffect(()=>{e.type!=="unlocked"||!N||n!=null&&n.mnemonic||(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:N.requestId,error:"Managed wallet is required for site signing"}).catch(()=>{}),W(null))},[e.type,N,n==null?void 0:n.mnemonic]);const v=async()=>{const b=N;if(b){if(!(n!=null&&n.mnemonic)){le("Wallet is locked. Unlock to sign.");return}H(!0),le(null);try{const V=await z0(n.mnemonic,b.message,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation});await chrome.runtime.sendMessage({type:"FORGEOS_SIGN_APPROVE",requestId:b.requestId,signature:V}),W(null)}catch(V){const ke=V instanceof Error?V.message:String(V);le(ke||"Signing failed")}finally{H(!1)}}},j=()=>{N&&(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:N.requestId,error:"Signing rejected by user"}).catch(()=>{}),window.close())};if(e.type==="loading")return l.jsxs("div",{style:{width:ts,height:ns,...Lr(),display:"flex",alignItems:"center",justifyContent:"center",...D,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%,-50%)",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}12 0%, transparent 70%)`,pointerEvents:"none"}}),l.jsxs("div",{style:{textAlign:"center",position:"relative"},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",opacity:.7,filter:"drop-shadow(0 0 10px rgba(57,221,182,0.5))"}}),l.jsx("div",{style:{fontSize:9,color:a.dim,marginTop:10,letterSpacing:"0.14em"},children:"LOADING"})]})]});if(e.type==="first_run")return l.jsx(bx,{network:o,onComplete:jt});if(e.type==="locked")return l.jsx(vx,{walletAddress:we,autoLockMinutes:E,persistSession:p,onUnlock:dt,onReset:$t});const $=!!(n!=null&&n.mnemonic);if(N&&Ke&&$)return l.jsx(Mx,{address:Ke,network:o,origin:N.origin,message:N.message,loading:K,error:Se,onApprove:v,onReject:j});if(C&&Ke)return l.jsx(zx,{address:Ke,network:o,origin:C.origin,onApprove:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_APPROVE",requestId:C.requestId,address:Ke,network:o}).catch(()=>{}),R(null)},onReject:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_REJECT",requestId:C.requestId}).catch(()=>{}),window.close()}});const Ne=Ke,nt="USD",Ot=s!==null&&c>0?s*c:null,ft=Ot!==null?zy(Ot,nt):"",tr=x?"":ft,Es=o==="mainnet",qm=Date.now(),ks=(b,V)=>b!==null&&qm-b<=V,Lu=ks(F,oe),Du=ks(B,$e),bu=ks(ne,Yt),zu=Lu&&Du&&bu,Mu=Lu||Du||bu,eh=zu?"LIVE FEED":Mu?"PARTIAL FEED":"FEED OFFLINE",th=zu?a.ok:Mu?a.warn:a.danger,Fu=Math.max(F??0,B??0,ne??0),nh=Fu>0?new Date(Fu).toLocaleTimeString([],{hour12:!1}):"never",rh=(()=>{if(!P)return"endpoint unknown";try{return new URL(P).host}catch{return P}})(),As=Es?a.ok:a.warn;return l.jsxs("div",{onClick:T,style:{width:ts,minHeight:ns,...Lr(),display:"flex",flexDirection:"column",...D,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:Dr},children:[l.jsx("div",{style:{position:"absolute",top:-60,left:"50%",transform:"translateX(-50%)",width:320,height:320,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0D 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),l.jsx("div",{style:{position:"absolute",bottom:40,right:-60,width:200,height:200,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}07 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),l.jsxs("div",{style:{padding:"13px 16px 11px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:9},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:24,height:24,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.55))"}}),l.jsxs("span",{style:{fontSize:14,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("button",{onClick:U,title:"Click to switch network",style:{fontSize:9,color:As,fontWeight:700,letterSpacing:"0.1em",background:`${As}15`,border:`1px solid ${As}35`,borderRadius:4,padding:"3px 8px",cursor:"pointer",...D},children:_e[o]??o.toUpperCase()}),$&&l.jsx("button",{onClick:wt,title:"Lock wallet",style:{background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:4,padding:"3px 8px",color:a.dim,fontSize:10,cursor:"pointer",...D},children:""})]})]}),Ne?l.jsxs("div",{style:{padding:"20px 16px 16px",borderBottom:`1px solid ${a.border}`,textAlign:"center",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:16},children:[l.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:a.ok,flexShrink:0,boxShadow:`0 0 6px ${a.ok}`}}),l.jsx("span",{style:{fontSize:10,color:a.dim,letterSpacing:"0.04em"},children:Fo(Ne)}),l.jsx("button",{onClick:Rt,style:{...ee(g?a.ok:a.dim,!0),padding:"3px 8px",fontSize:9,letterSpacing:"0.08em",color:g?a.ok:a.dim,minWidth:56},children:g?"COPIED":"COPY"})]}),l.jsxs("div",{style:{marginBottom:6},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:6},children:[l.jsx("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em"},children:"TOTAL PORTFOLIO VALUE"}),l.jsx("button",{onClick:pe,"aria-label":x?"Show portfolio balances":"Hide portfolio balances",title:x?"Show portfolio balances":"Hide portfolio balances",style:{...ee(x?a.warn:a.dim,!0),padding:"3px 0",fontSize:9,letterSpacing:"0.08em",color:x?a.warn:a.dim,minWidth:34,width:34,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",style:{flexShrink:0},children:[l.jsx("path",{d:"M1 6C1 6 2.8 3.4 6 3.4C9.2 3.4 11 6 11 6C11 6 9.2 8.6 6 8.6C2.8 8.6 1 6 1 6Z",stroke:"currentColor",strokeWidth:"1"}),l.jsx("circle",{cx:"6",cy:"6",r:"1.3",fill:"currentColor"}),x&&l.jsx("path",{d:"M1.3 1.3L10.7 10.7",stroke:"currentColor",strokeWidth:"1.2"})]})})]}),l.jsx("div",{style:{fontSize:38,fontWeight:700,color:a.text,letterSpacing:"0.005em",lineHeight:1},children:tr})]}),l.jsx("div",{style:{display:"flex",gap:8,marginTop:16},children:[{label:"SEND",action:()=>{S("wallet"),k("send")}},{label:"RECEIVE",action:()=>{S("wallet"),k("receive")}},{label:"SWAP",action:()=>S("swap")}].map(b=>l.jsx("button",{onClick:b.action,style:{flex:1,background:`linear-gradient(145deg, ${a.accent}1A, rgba(8,13,20,0.7))`,border:`1px solid ${a.accent}40`,borderRadius:10,padding:"9px 0",color:a.accent,fontSize:10,fontWeight:700,cursor:"pointer",...D,letterSpacing:"0.1em",transition:"background 0.15s, border-color 0.15s"},children:b.label},b.label))})]}):l.jsxs("div",{style:{padding:"28px 16px",textAlign:"center",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:[l.jsx("div",{style:{fontSize:11,color:a.dim,marginBottom:12},children:"No wallet connected"}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,color:"#04110E",border:"none",borderRadius:10,padding:"10px 20px",fontSize:11,fontWeight:700,cursor:"pointer",...D,letterSpacing:"0.08em"},children:"OPEN FORGE-OS "})]}),l.jsx("div",{style:{display:"flex",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:["wallet","swap","agents","security"].map(b=>l.jsx("button",{onClick:()=>S(b),style:{flex:1,background:h===b?`${a.accent}08`:"none",border:"none",borderBottom:`2px solid ${h===b?a.accent:"transparent"}`,color:h===b?a.accent:a.dim,fontSize:10,fontWeight:700,cursor:"pointer",padding:"9px 0",letterSpacing:"0.1em",...D,textTransform:"uppercase",transition:"color 0.15s, border-color 0.15s, background 0.15s",boxShadow:h===b?`0 2px 12px ${a.accent}25`:"none"},children:b},b))}),l.jsxs("div",{style:{flex:1,overflow:"auto",position:"relative",zIndex:1},children:[h==="wallet"&&l.jsx(dv,{address:Ne,balance:s,usdPrice:c,network:o,onOpenSwap:()=>S("swap"),mode:A,onModeConsumed:()=>k(void 0),onBalanceInvalidated:()=>(n==null?void 0:n.address)&&Ee(n.address,o),hideBalances:x}),h==="swap"&&l.jsx(yx,{}),h==="agents"&&l.jsx(Ev,{network:o}),h==="security"&&l.jsx(kv,{address:Ne,network:o,isManagedWallet:$,autoLockMinutes:E,persistUnlockSessionEnabled:p,onAutoLockMinutesChange:M,onPersistUnlockSessionChange:Y,onLock:wt})]}),l.jsxs("div",{style:{padding:"7px 16px",borderTop:`1px solid ${a.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{style:{fontSize:8,color:a.muted,letterSpacing:"0.06em"},children:"FORGE-OS"}),l.jsxs("span",{style:{fontSize:8,color:th,letterSpacing:"0.05em",fontWeight:700},children:[" ",eh]}),Ie&&l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" ",c0[o]??10," BPS  DAA ",(parseInt(Ie,10)/1e6).toFixed(1),"M"]}),l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" RPC ",rh]}),l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" UPDATE ",nh]})]}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...D,letterSpacing:"0.06em"},children:"OPEN SITE "})]}),fe&&l.jsx("div",{style:{padding:"0 16px 7px",fontSize:8,color:a.warn,letterSpacing:"0.03em",position:"relative",zIndex:1},children:fe})]})}Hp(document.getElementById("root")).render(l.jsx(w.StrictMode,{children:l.jsx(Fx,{})}));
