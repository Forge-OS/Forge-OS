(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Ld={exports:{}},os={},bd={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bo=Symbol.for("react.element"),ih=Symbol.for("react.portal"),sh=Symbol.for("react.fragment"),lh=Symbol.for("react.strict_mode"),ah=Symbol.for("react.profiler"),uh=Symbol.for("react.provider"),ch=Symbol.for("react.context"),dh=Symbol.for("react.forward_ref"),fh=Symbol.for("react.suspense"),ph=Symbol.for("react.memo"),mh=Symbol.for("react.lazy"),Bu=Symbol.iterator;function hh(e){return e===null||typeof e!="object"?null:(e=Bu&&e[Bu]||e["@@iterator"],typeof e=="function"?e:null)}var Dd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zd=Object.assign,Md={};function Dr(e,t,n){this.props=e,this.context=t,this.refs=Md,this.updater=n||Dd}Dr.prototype.isReactComponent={};Dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Fd(){}Fd.prototype=Dr.prototype;function ga(e,t,n){this.props=e,this.context=t,this.refs=Md,this.updater=n||Dd}var ya=ga.prototype=new Fd;ya.constructor=ga;zd(ya,Dr.prototype);ya.isPureReactComponent=!0;var $u=Array.isArray,Ud=Object.prototype.hasOwnProperty,va={current:null},Bd={key:!0,ref:!0,__self:!0,__source:!0};function $d(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Ud.call(t,r)&&!Bd.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:bo,type:e,key:i,ref:s,props:o,_owner:va.current}}function gh(e,t){return{$$typeof:bo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sa(e){return typeof e=="object"&&e!==null&&e.$$typeof===bo}function yh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ku=/\/+/g;function Ts(e,t){return typeof e=="object"&&e!==null&&e.key!=null?yh(""+e.key):t.toString(36)}function di(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case bo:case ih:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Ts(s,0):r,$u(o)?(n="",e!=null&&(n=e.replace(Ku,"$&/")+"/"),di(o,t,n,"",function(d){return d})):o!=null&&(Sa(o)&&(o=gh(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Ku,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",$u(e))for(var u=0;u<e.length;u++){i=e[u];var c=r+Ts(i,u);s+=di(i,t,n,c,o)}else if(c=hh(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=r+Ts(i,u++),s+=di(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Wo(e,t,n){if(e==null)return e;var r=[],o=0;return di(e,r,"","",function(i){return t.call(n,i,o++)}),r}function vh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},fi={transition:null},Sh={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:fi,ReactCurrentOwner:va};function Kd(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:Wo,forEach:function(e,t,n){Wo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Wo(e,function(){t++}),t},toArray:function(e){return Wo(e,function(t){return t})||[]},only:function(e){if(!Sa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Z.Component=Dr;Z.Fragment=sh;Z.Profiler=ah;Z.PureComponent=ga;Z.StrictMode=lh;Z.Suspense=fh;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sh;Z.act=Kd;Z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=zd({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=va.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)Ud.call(t,c)&&!Bd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];r.children=u}return{$$typeof:bo,type:e.type,key:o,ref:i,props:r,_owner:s}};Z.createContext=function(e){return e={$$typeof:ch,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:uh,_context:e},e.Consumer=e};Z.createElement=$d;Z.createFactory=function(e){var t=$d.bind(null,e);return t.type=e,t};Z.createRef=function(){return{current:null}};Z.forwardRef=function(e){return{$$typeof:dh,render:e}};Z.isValidElement=Sa;Z.lazy=function(e){return{$$typeof:mh,_payload:{_status:-1,_result:e},_init:vh}};Z.memo=function(e,t){return{$$typeof:ph,type:e,compare:t===void 0?null:t}};Z.startTransition=function(e){var t=fi.transition;fi.transition={};try{e()}finally{fi.transition=t}};Z.unstable_act=Kd;Z.useCallback=function(e,t){return tt.current.useCallback(e,t)};Z.useContext=function(e){return tt.current.useContext(e)};Z.useDebugValue=function(){};Z.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};Z.useEffect=function(e,t){return tt.current.useEffect(e,t)};Z.useId=function(){return tt.current.useId()};Z.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};Z.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};Z.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};Z.useMemo=function(e,t){return tt.current.useMemo(e,t)};Z.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};Z.useRef=function(e){return tt.current.useRef(e)};Z.useState=function(e){return tt.current.useState(e)};Z.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};Z.useTransition=function(){return tt.current.useTransition()};Z.version="18.3.1";bd.exports=Z;var x=bd.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=x,wh=Symbol.for("react.element"),Eh=Symbol.for("react.fragment"),kh=Object.prototype.hasOwnProperty,Ah=xh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Th={key:!0,ref:!0,__self:!0,__source:!0};function Wd(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)kh.call(t,r)&&!Th.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:wh,type:e,key:i,ref:s,props:o,_owner:Ah.current}}os.Fragment=Eh;os.jsx=Wd;os.jsxs=Wd;Ld.exports=os;var l=Ld.exports,Vd={exports:{}},xt={},Hd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,z){var F=P.length;P.push(z);e:for(;0<F;){var $=F-1>>>1,X=P[$];if(0<o(X,z))P[$]=z,P[F]=X,F=$;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var z=P[0],F=P.pop();if(F!==z){P[0]=F;e:for(var $=0,X=P.length,oe=X>>>1;$<oe;){var ie=2*($+1)-1,Q=P[ie],Pe=ie+1,U=P[Pe];if(0>o(Q,F))Pe<X&&0>o(U,Q)?(P[$]=U,P[Pe]=F,$=Pe):(P[$]=Q,P[ie]=F,$=ie);else if(Pe<X&&0>o(U,F))P[$]=U,P[Pe]=F,$=Pe;else break e}}return z}function o(P,z){var F=P.sortIndex-z.sortIndex;return F!==0?F:P.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],d=[],g=1,m=null,h=3,v=!1,k=!1,E=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=P)r(d),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(d)}}function S(P){if(E=!1,y(P),!k)if(n(c)!==null)k=!0,Y(C);else{var z=n(d);z!==null&&de(S,z.startTime-P)}}function C(P,z){k=!1,E&&(E=!1,f(N),N=-1),v=!0;var F=h;try{for(y(z),m=n(c);m!==null&&(!(m.expirationTime>z)||P&&!J());){var $=m.callback;if(typeof $=="function"){m.callback=null,h=m.priorityLevel;var X=$(m.expirationTime<=z);z=e.unstable_now(),typeof X=="function"?m.callback=X:m===n(c)&&r(c),y(z)}else r(c);m=n(c)}if(m!==null)var oe=!0;else{var ie=n(d);ie!==null&&de(S,ie.startTime-z),oe=!1}return oe}finally{m=null,h=F,v=!1}}var _=!1,O=null,N=-1,H=5,V=-1;function J(){return!(e.unstable_now()-V<H)}function he(){if(O!==null){var P=e.unstable_now();V=P;var z=!0;try{z=O(!0,P)}finally{z?ce():(_=!1,O=null)}}else _=!1}var ce;if(typeof p=="function")ce=function(){p(he)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Me=_e.port2;_e.port1.onmessage=he,ce=function(){Me.postMessage(null)}}else ce=function(){w(he,0)};function Y(P){O=P,_||(_=!0,ce())}function de(P,z){N=w(function(){P(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){k||v||(k=!0,Y(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var F=h;h=z;try{return P()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var F=h;h=P;try{return z()}finally{h=F}},e.unstable_scheduleCallback=function(P,z,F){var $=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=F+X,P={id:g++,callback:z,priorityLevel:P,startTime:F,expirationTime:X,sortIndex:-1},F>$?(P.sortIndex=F,t(d,P),n(c)===null&&P===n(d)&&(E?(f(N),N=-1):E=!0,de(S,F-$))):(P.sortIndex=X,t(c,P),k||v||(k=!0,Y(C))),P},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(P){var z=h;return function(){var F=h;h=z;try{return P.apply(this,arguments)}finally{h=F}}}})(Gd);Hd.exports=Gd;var Ih=Hd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=x,St=Ih;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xd=new Set,go={};function qn(e,t){_r(e,t),_r(e+"Capture",t)}function _r(e,t){for(go[e]=t,e=0;e<t.length;e++)Xd.add(t[e])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fl=Object.prototype.hasOwnProperty,Ch=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wu={},Vu={};function Nh(e){return fl.call(Vu,e)?!0:fl.call(Wu,e)?!1:Ch.test(e)?Vu[e]=!0:(Wu[e]=!0,!1)}function Ph(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function jh(e,t,n,r){if(t===null||typeof t>"u"||Ph(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var xa=/[\-:]([a-z])/g;function wa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(xa,wa);We[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(xa,wa);We[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(xa,wa);We[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ea(e,t,n,r){var o=We.hasOwnProperty(t)?We[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(jh(t,n,o,r)&&(n=null),r||o===null?Nh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var dn=_h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vo=Symbol.for("react.element"),sr=Symbol.for("react.portal"),lr=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),pl=Symbol.for("react.profiler"),Qd=Symbol.for("react.provider"),Yd=Symbol.for("react.context"),Aa=Symbol.for("react.forward_ref"),ml=Symbol.for("react.suspense"),hl=Symbol.for("react.suspense_list"),Ta=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),Zd=Symbol.for("react.offscreen"),Hu=Symbol.iterator;function Ur(e){return e===null||typeof e!="object"?null:(e=Hu&&e[Hu]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Is;function Zr(e){if(Is===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Is=t&&t[1]||""}return`
`+Is+e}var _s=!1;function Cs(e,t){if(!e||_s)return"";_s=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var o=d.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,u=i.length-1;1<=s&&0<=u&&o[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(o[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||o[s]!==i[u]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{_s=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zr(e):""}function Oh(e){switch(e.tag){case 5:return Zr(e.type);case 16:return Zr("Lazy");case 13:return Zr("Suspense");case 19:return Zr("SuspenseList");case 0:case 2:case 15:return e=Cs(e.type,!1),e;case 11:return e=Cs(e.type.render,!1),e;case 1:return e=Cs(e.type,!0),e;default:return""}}function gl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case lr:return"Fragment";case sr:return"Portal";case pl:return"Profiler";case ka:return"StrictMode";case ml:return"Suspense";case hl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yd:return(e.displayName||"Context")+".Consumer";case Qd:return(e._context.displayName||"Context")+".Provider";case Aa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ta:return t=e.displayName||null,t!==null?t:gl(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return gl(e(t))}catch{}}return null}function Rh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gl(t);case 8:return t===ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Jd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Lh(e){var t=Jd(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ho(e){e._valueTracker||(e._valueTracker=Lh(e))}function qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Jd(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function yl(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Gu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ef(e,t){t=t.checked,t!=null&&Ea(e,"checked",t,!1)}function vl(e,t){ef(e,t);var n=Nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Sl(e,t.type,n):t.hasOwnProperty("defaultValue")&&Sl(e,t.type,Nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Sl(e,t,n){(t!=="number"||Ti(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Jr=Array.isArray;function xr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Nn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function xl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Qu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(I(92));if(Jr(n)){if(1<n.length)throw Error(I(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Nn(n)}}function tf(e,t){var n=Nn(t.value),r=Nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Yu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function nf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?nf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Go,rf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Go=Go||document.createElement("div"),Go.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Go.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var to={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bh=["Webkit","ms","Moz","O"];Object.keys(to).forEach(function(e){bh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),to[t]=to[e]})});function of(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||to.hasOwnProperty(e)&&to[e]?(""+t).trim():t+"px"}function sf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=of(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Dh=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function El(e,t){if(t){if(Dh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function kl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Al=null;function Ia(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,wr=null,Er=null;function Zu(e){if(e=Mo(e)){if(typeof Tl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=us(t),Tl(e.stateNode,e.type,t))}}function lf(e){wr?Er?Er.push(e):Er=[e]:wr=e}function af(){if(wr){var e=wr,t=Er;if(Er=wr=null,Zu(e),t)for(e=0;e<t.length;e++)Zu(t[e])}}function uf(e,t){return e(t)}function cf(){}var Ns=!1;function df(e,t,n){if(Ns)return e(t,n);Ns=!0;try{return uf(e,t,n)}finally{Ns=!1,(wr!==null||Er!==null)&&(cf(),af())}}function vo(e,t){var n=e.stateNode;if(n===null)return null;var r=us(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(I(231,t,typeof n));return n}var Il=!1;if(ln)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{Il=!1}function zh(e,t,n,r,o,i,s,u,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(g){this.onError(g)}}var no=!1,Ii=null,_i=!1,_l=null,Mh={onError:function(e){no=!0,Ii=e}};function Fh(e,t,n,r,o,i,s,u,c){no=!1,Ii=null,zh.apply(Mh,arguments)}function Uh(e,t,n,r,o,i,s,u,c){if(Fh.apply(this,arguments),no){if(no){var d=Ii;no=!1,Ii=null}else throw Error(I(198));_i||(_i=!0,_l=d)}}function er(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ff(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ju(e){if(er(e)!==e)throw Error(I(188))}function Bh(e){var t=e.alternate;if(!t){if(t=er(e),t===null)throw Error(I(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Ju(o),e;if(i===r)return Ju(o),t;i=i.sibling}throw Error(I(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(I(189))}}if(n.alternate!==r)throw Error(I(190))}if(n.tag!==3)throw Error(I(188));return n.stateNode.current===n?e:t}function pf(e){return e=Bh(e),e!==null?mf(e):null}function mf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mf(e);if(t!==null)return t;e=e.sibling}return null}var hf=St.unstable_scheduleCallback,qu=St.unstable_cancelCallback,$h=St.unstable_shouldYield,Kh=St.unstable_requestPaint,Ie=St.unstable_now,Wh=St.unstable_getCurrentPriorityLevel,_a=St.unstable_ImmediatePriority,gf=St.unstable_UserBlockingPriority,Ci=St.unstable_NormalPriority,Vh=St.unstable_LowPriority,yf=St.unstable_IdlePriority,is=null,Yt=null;function Hh(e){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(is,e,void 0,(e.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Qh,Gh=Math.log,Xh=Math.LN2;function Qh(e){return e>>>=0,e===0?32:31-(Gh(e)/Xh|0)|0}var Xo=64,Qo=4194304;function qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ni(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~o;u!==0?r=qr(u):(i&=s,i!==0&&(r=qr(i)))}else s=n&~o,s!==0?r=qr(s):i!==0&&(r=qr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ut(t),o=1<<n,r|=e[n],t&=~o;return r}function Yh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Ut(i),u=1<<s,c=o[s];c===-1?(!(u&n)||u&r)&&(o[s]=Yh(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function Cl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vf(){var e=Xo;return Xo<<=1,!(Xo&4194240)&&(Xo=64),e}function Ps(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Do(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ut(t),e[t]=n}function Jh(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ut(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Ca(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ut(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var se=0;function Sf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var xf,Na,wf,Ef,kf,Nl=!1,Yo=[],wn=null,En=null,kn=null,So=new Map,xo=new Map,hn=[],qh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ec(e,t){switch(e){case"focusin":case"focusout":wn=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":kn=null;break;case"pointerover":case"pointerout":So.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(t.pointerId)}}function $r(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Mo(t),t!==null&&Na(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function eg(e,t,n,r,o){switch(t){case"focusin":return wn=$r(wn,e,t,n,r,o),!0;case"dragenter":return En=$r(En,e,t,n,r,o),!0;case"mouseover":return kn=$r(kn,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return So.set(i,$r(So.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,xo.set(i,$r(xo.get(i)||null,e,t,n,r,o)),!0}return!1}function Af(e){var t=Mn(e.target);if(t!==null){var n=er(t);if(n!==null){if(t=n.tag,t===13){if(t=ff(n),t!==null){e.blockedOn=t,kf(e.priority,function(){wf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Pl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Al=r,n.target.dispatchEvent(r),Al=null}else return t=Mo(n),t!==null&&Na(t),e.blockedOn=n,!1;t.shift()}return!0}function tc(e,t,n){pi(e)&&n.delete(t)}function tg(){Nl=!1,wn!==null&&pi(wn)&&(wn=null),En!==null&&pi(En)&&(En=null),kn!==null&&pi(kn)&&(kn=null),So.forEach(tc),xo.forEach(tc)}function Kr(e,t){e.blockedOn===t&&(e.blockedOn=null,Nl||(Nl=!0,St.unstable_scheduleCallback(St.unstable_NormalPriority,tg)))}function wo(e){function t(o){return Kr(o,e)}if(0<Yo.length){Kr(Yo[0],e);for(var n=1;n<Yo.length;n++){var r=Yo[n];r.blockedOn===e&&(r.blockedOn=null)}}for(wn!==null&&Kr(wn,e),En!==null&&Kr(En,e),kn!==null&&Kr(kn,e),So.forEach(t),xo.forEach(t),n=0;n<hn.length;n++)r=hn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<hn.length&&(n=hn[0],n.blockedOn===null);)Af(n),n.blockedOn===null&&hn.shift()}var kr=dn.ReactCurrentBatchConfig,Pi=!0;function ng(e,t,n,r){var o=se,i=kr.transition;kr.transition=null;try{se=1,Pa(e,t,n,r)}finally{se=o,kr.transition=i}}function rg(e,t,n,r){var o=se,i=kr.transition;kr.transition=null;try{se=4,Pa(e,t,n,r)}finally{se=o,kr.transition=i}}function Pa(e,t,n,r){if(Pi){var o=Pl(e,t,n,r);if(o===null)Us(e,t,r,ji,n),ec(e,r);else if(eg(o,e,t,n,r))r.stopPropagation();else if(ec(e,r),t&4&&-1<qh.indexOf(e)){for(;o!==null;){var i=Mo(o);if(i!==null&&xf(i),i=Pl(e,t,n,r),i===null&&Us(e,t,r,ji,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Us(e,t,r,null,n)}}var ji=null;function Pl(e,t,n,r){if(ji=null,e=Ia(r),e=Mn(e),e!==null)if(t=er(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ff(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ji=e,null}function Tf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wh()){case _a:return 1;case gf:return 4;case Ci:case Vh:return 16;case yf:return 536870912;default:return 16}default:return 16}}var yn=null,ja=null,mi=null;function If(){if(mi)return mi;var e,t=ja,n=t.length,r,o="value"in yn?yn.value:yn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return mi=o.slice(e,1<r?1-r:void 0)}function hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zo(){return!0}function nc(){return!1}function wt(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Zo:nc,this.isPropagationStopped=nc,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zo)},persist:function(){},isPersistent:Zo}),t}var zr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oa=wt(zr),zo=xe({},zr,{view:0,detail:0}),og=wt(zo),js,Os,Wr,ss=xe({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ra,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Wr&&(Wr&&e.type==="mousemove"?(js=e.screenX-Wr.screenX,Os=e.screenY-Wr.screenY):Os=js=0,Wr=e),js)},movementY:function(e){return"movementY"in e?e.movementY:Os}}),rc=wt(ss),ig=xe({},ss,{dataTransfer:0}),sg=wt(ig),lg=xe({},zo,{relatedTarget:0}),Rs=wt(lg),ag=xe({},zr,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=wt(ag),cg=xe({},zr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),dg=wt(cg),fg=xe({},zr,{data:0}),oc=wt(fg),pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hg[e])?!!t[e]:!1}function Ra(){return gg}var yg=xe({},zo,{key:function(e){if(e.key){var t=pg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ra,charCode:function(e){return e.type==="keypress"?hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vg=wt(yg),Sg=xe({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=wt(Sg),xg=xe({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ra}),wg=wt(xg),Eg=xe({},zr,{propertyName:0,elapsedTime:0,pseudoElement:0}),kg=wt(Eg),Ag=xe({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tg=wt(Ag),Ig=[9,13,27,32],La=ln&&"CompositionEvent"in window,ro=null;ln&&"documentMode"in document&&(ro=document.documentMode);var _g=ln&&"TextEvent"in window&&!ro,_f=ln&&(!La||ro&&8<ro&&11>=ro),sc=" ",lc=!1;function Cf(e,t){switch(e){case"keyup":return Ig.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ar=!1;function Cg(e,t){switch(e){case"compositionend":return Nf(t);case"keypress":return t.which!==32?null:(lc=!0,sc);case"textInput":return e=t.data,e===sc&&lc?null:e;default:return null}}function Ng(e,t){if(ar)return e==="compositionend"||!La&&Cf(e,t)?(e=If(),mi=ja=yn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _f&&t.locale!=="ko"?null:t.data;default:return null}}var Pg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ac(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Pg[e.type]:t==="textarea"}function Pf(e,t,n,r){lf(r),t=Oi(t,"onChange"),0<t.length&&(n=new Oa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var oo=null,Eo=null;function jg(e){Bf(e,0)}function ls(e){var t=dr(e);if(qd(t))return e}function Og(e,t){if(e==="change")return t}var jf=!1;if(ln){var Ls;if(ln){var bs="oninput"in document;if(!bs){var uc=document.createElement("div");uc.setAttribute("oninput","return;"),bs=typeof uc.oninput=="function"}Ls=bs}else Ls=!1;jf=Ls&&(!document.documentMode||9<document.documentMode)}function cc(){oo&&(oo.detachEvent("onpropertychange",Of),Eo=oo=null)}function Of(e){if(e.propertyName==="value"&&ls(Eo)){var t=[];Pf(t,Eo,e,Ia(e)),df(jg,t)}}function Rg(e,t,n){e==="focusin"?(cc(),oo=t,Eo=n,oo.attachEvent("onpropertychange",Of)):e==="focusout"&&cc()}function Lg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ls(Eo)}function bg(e,t){if(e==="click")return ls(t)}function Dg(e,t){if(e==="input"||e==="change")return ls(t)}function zg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $t=typeof Object.is=="function"?Object.is:zg;function ko(e,t){if($t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!fl.call(t,o)||!$t(e[o],t[o]))return!1}return!0}function dc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fc(e,t){var n=dc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dc(n)}}function Rf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lf(){for(var e=window,t=Ti();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ti(e.document)}return t}function ba(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mg(e){var t=Lf(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Rf(n.ownerDocument.documentElement,n)){if(r!==null&&ba(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=fc(n,i);var s=fc(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Fg=ln&&"documentMode"in document&&11>=document.documentMode,ur=null,jl=null,io=null,Ol=!1;function pc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ol||ur==null||ur!==Ti(r)||(r=ur,"selectionStart"in r&&ba(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),io&&ko(io,r)||(io=r,r=Oi(jl,"onSelect"),0<r.length&&(t=new Oa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ur)))}function Jo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:Jo("Animation","AnimationEnd"),animationiteration:Jo("Animation","AnimationIteration"),animationstart:Jo("Animation","AnimationStart"),transitionend:Jo("Transition","TransitionEnd")},Ds={},bf={};ln&&(bf=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function as(e){if(Ds[e])return Ds[e];if(!cr[e])return e;var t=cr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in bf)return Ds[e]=t[n];return e}var Df=as("animationend"),zf=as("animationiteration"),Mf=as("animationstart"),Ff=as("transitionend"),Uf=new Map,mc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(e,t){Uf.set(e,t),qn(t,[e])}for(var zs=0;zs<mc.length;zs++){var Ms=mc[zs],Ug=Ms.toLowerCase(),Bg=Ms[0].toUpperCase()+Ms.slice(1);On(Ug,"on"+Bg)}On(Df,"onAnimationEnd");On(zf,"onAnimationIteration");On(Mf,"onAnimationStart");On("dblclick","onDoubleClick");On("focusin","onFocus");On("focusout","onBlur");On(Ff,"onTransitionEnd");_r("onMouseEnter",["mouseout","mouseover"]);_r("onMouseLeave",["mouseout","mouseover"]);_r("onPointerEnter",["pointerout","pointerover"]);_r("onPointerLeave",["pointerout","pointerover"]);qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$g=new Set("cancel close invalid load scroll toggle".split(" ").concat(eo));function hc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Uh(r,t,void 0,e),e.currentTarget=null}function Bf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==i&&o.isPropagationStopped())break e;hc(o,u,d),i=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,d=u.currentTarget,u=u.listener,c!==i&&o.isPropagationStopped())break e;hc(o,u,d),i=c}}}if(_i)throw e=_l,_i=!1,_l=null,e}function pe(e,t){var n=t[zl];n===void 0&&(n=t[zl]=new Set);var r=e+"__bubble";n.has(r)||($f(t,e,2,!1),n.add(r))}function Fs(e,t,n){var r=0;t&&(r|=4),$f(n,e,r,t)}var qo="_reactListening"+Math.random().toString(36).slice(2);function Ao(e){if(!e[qo]){e[qo]=!0,Xd.forEach(function(n){n!=="selectionchange"&&($g.has(n)||Fs(n,!1,e),Fs(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qo]||(t[qo]=!0,Fs("selectionchange",!1,t))}}function $f(e,t,n,r){switch(Tf(t)){case 1:var o=ng;break;case 4:o=rg;break;default:o=Pa}n=o.bind(null,t,n,e),o=void 0,!Il||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Us(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;u!==null;){if(s=Mn(u),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}u=u.parentNode}}r=r.return}df(function(){var d=i,g=Ia(n),m=[];e:{var h=Uf.get(e);if(h!==void 0){var v=Oa,k=e;switch(e){case"keypress":if(hi(n)===0)break e;case"keydown":case"keyup":v=vg;break;case"focusin":k="focus",v=Rs;break;case"focusout":k="blur",v=Rs;break;case"beforeblur":case"afterblur":v=Rs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=wg;break;case Df:case zf:case Mf:v=ug;break;case Ff:v=kg;break;case"scroll":v=og;break;case"wheel":v=Tg;break;case"copy":case"cut":case"paste":v=dg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ic}var E=(t&4)!==0,w=!E&&e==="scroll",f=E?h!==null?h+"Capture":null:h;E=[];for(var p=d,y;p!==null;){y=p;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,f!==null&&(S=vo(p,f),S!=null&&E.push(To(p,S,y)))),w)break;p=p.return}0<E.length&&(h=new v(h,k,null,n,g),m.push({event:h,listeners:E}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Al&&(k=n.relatedTarget||n.fromElement)&&(Mn(k)||k[an]))break e;if((v||h)&&(h=g.window===g?g:(h=g.ownerDocument)?h.defaultView||h.parentWindow:window,v?(k=n.relatedTarget||n.toElement,v=d,k=k?Mn(k):null,k!==null&&(w=er(k),k!==w||k.tag!==5&&k.tag!==6)&&(k=null)):(v=null,k=d),v!==k)){if(E=rc,S="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(E=ic,S="onPointerLeave",f="onPointerEnter",p="pointer"),w=v==null?h:dr(v),y=k==null?h:dr(k),h=new E(S,p+"leave",v,n,g),h.target=w,h.relatedTarget=y,S=null,Mn(g)===d&&(E=new E(f,p+"enter",k,n,g),E.target=y,E.relatedTarget=w,S=E),w=S,v&&k)t:{for(E=v,f=k,p=0,y=E;y;y=nr(y))p++;for(y=0,S=f;S;S=nr(S))y++;for(;0<p-y;)E=nr(E),p--;for(;0<y-p;)f=nr(f),y--;for(;p--;){if(E===f||f!==null&&E===f.alternate)break t;E=nr(E),f=nr(f)}E=null}else E=null;v!==null&&gc(m,h,v,E,!1),k!==null&&w!==null&&gc(m,w,k,E,!0)}}e:{if(h=d?dr(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var C=Og;else if(ac(h))if(jf)C=Dg;else{C=Lg;var _=Rg}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(C=bg);if(C&&(C=C(e,d))){Pf(m,C,n,g);break e}_&&_(e,h,d),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&Sl(h,"number",h.value)}switch(_=d?dr(d):window,e){case"focusin":(ac(_)||_.contentEditable==="true")&&(ur=_,jl=d,io=null);break;case"focusout":io=jl=ur=null;break;case"mousedown":Ol=!0;break;case"contextmenu":case"mouseup":case"dragend":Ol=!1,pc(m,n,g);break;case"selectionchange":if(Fg)break;case"keydown":case"keyup":pc(m,n,g)}var O;if(La)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else ar?Cf(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(_f&&n.locale!=="ko"&&(ar||N!=="onCompositionStart"?N==="onCompositionEnd"&&ar&&(O=If()):(yn=g,ja="value"in yn?yn.value:yn.textContent,ar=!0)),_=Oi(d,N),0<_.length&&(N=new oc(N,e,null,n,g),m.push({event:N,listeners:_}),O?N.data=O:(O=Nf(n),O!==null&&(N.data=O)))),(O=_g?Cg(e,n):Ng(e,n))&&(d=Oi(d,"onBeforeInput"),0<d.length&&(g=new oc("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:d}),g.data=O))}Bf(m,t)})}function To(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Oi(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=vo(e,n),i!=null&&r.unshift(To(e,i,o)),i=vo(e,t),i!=null&&r.push(To(e,i,o))),e=e.return}return r}function nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function gc(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var u=n,c=u.alternate,d=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&d!==null&&(u=d,o?(c=vo(n,i),c!=null&&s.unshift(To(n,c,u))):o||(c=vo(n,i),c!=null&&s.push(To(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var Kg=/\r\n?/g,Wg=/\u0000|\uFFFD/g;function yc(e){return(typeof e=="string"?e:""+e).replace(Kg,`
`).replace(Wg,"")}function ei(e,t,n){if(t=yc(t),yc(e)!==t&&n)throw Error(I(425))}function Ri(){}var Rl=null,Ll=null;function bl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dl=typeof setTimeout=="function"?setTimeout:void 0,Vg=typeof clearTimeout=="function"?clearTimeout:void 0,vc=typeof Promise=="function"?Promise:void 0,Hg=typeof queueMicrotask=="function"?queueMicrotask:typeof vc<"u"?function(e){return vc.resolve(null).then(e).catch(Gg)}:Dl;function Gg(e){setTimeout(function(){throw e})}function Bs(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),wo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);wo(t)}function An(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Xt="__reactFiber$"+Mr,Io="__reactProps$"+Mr,an="__reactContainer$"+Mr,zl="__reactEvents$"+Mr,Xg="__reactListeners$"+Mr,Qg="__reactHandles$"+Mr;function Mn(e){var t=e[Xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[an]||n[Xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sc(e);e!==null;){if(n=e[Xt])return n;e=Sc(e)}return t}e=n,n=e.parentNode}return null}function Mo(e){return e=e[Xt]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function us(e){return e[Io]||null}var Ml=[],fr=-1;function Rn(e){return{current:e}}function me(e){0>fr||(e.current=Ml[fr],Ml[fr]=null,fr--)}function ue(e,t){fr++,Ml[fr]=e.current,e.current=t}var Pn={},Ze=Rn(Pn),at=Rn(!1),Gn=Pn;function Cr(e,t){var n=e.type.contextTypes;if(!n)return Pn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function ut(e){return e=e.childContextTypes,e!=null}function Li(){me(at),me(Ze)}function xc(e,t,n){if(Ze.current!==Pn)throw Error(I(168));ue(Ze,t),ue(at,n)}function Kf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(I(108,Rh(e)||"Unknown",o));return xe({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pn,Gn=Ze.current,ue(Ze,e),ue(at,at.current),!0}function wc(e,t,n){var r=e.stateNode;if(!r)throw Error(I(169));n?(e=Kf(e,t,Gn),r.__reactInternalMemoizedMergedChildContext=e,me(at),me(Ze),ue(Ze,e)):me(at),ue(at,n)}var tn=null,cs=!1,$s=!1;function Wf(e){tn===null?tn=[e]:tn.push(e)}function Yg(e){cs=!0,Wf(e)}function Ln(){if(!$s&&tn!==null){$s=!0;var e=0,t=se;try{var n=tn;for(se=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}tn=null,cs=!1}catch(o){throw tn!==null&&(tn=tn.slice(e+1)),hf(_a,Ln),o}finally{se=t,$s=!1}}return null}var pr=[],mr=0,Di=null,zi=0,It=[],_t=0,Xn=null,nn=1,rn="";function Dn(e,t){pr[mr++]=zi,pr[mr++]=Di,Di=e,zi=t}function Vf(e,t,n){It[_t++]=nn,It[_t++]=rn,It[_t++]=Xn,Xn=e;var r=nn;e=rn;var o=32-Ut(r)-1;r&=~(1<<o),n+=1;var i=32-Ut(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,nn=1<<32-Ut(t)+o|n<<o|r,rn=i+e}else nn=1<<i|n<<o|r,rn=e}function Da(e){e.return!==null&&(Dn(e,1),Vf(e,1,0))}function za(e){for(;e===Di;)Di=pr[--mr],pr[mr]=null,zi=pr[--mr],pr[mr]=null;for(;e===Xn;)Xn=It[--_t],It[_t]=null,rn=It[--_t],It[_t]=null,nn=It[--_t],It[_t]=null}var vt=null,gt=null,ge=!1,Ft=null;function Hf(e,t){var n=Nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ec(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vt=e,gt=An(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xn!==null?{id:nn,overflow:rn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,vt=e,gt=null,!0):!1;default:return!1}}function Fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ul(e){if(ge){var t=gt;if(t){var n=t;if(!Ec(e,t)){if(Fl(e))throw Error(I(418));t=An(n.nextSibling);var r=vt;t&&Ec(e,t)?Hf(r,n):(e.flags=e.flags&-4097|2,ge=!1,vt=e)}}else{if(Fl(e))throw Error(I(418));e.flags=e.flags&-4097|2,ge=!1,vt=e}}}function kc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vt=e}function ti(e){if(e!==vt)return!1;if(!ge)return kc(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!bl(e.type,e.memoizedProps)),t&&(t=gt)){if(Fl(e))throw Gf(),Error(I(418));for(;t;)Hf(e,t),t=An(t.nextSibling)}if(kc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){gt=An(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=vt?An(e.stateNode.nextSibling):null;return!0}function Gf(){for(var e=gt;e;)e=An(e.nextSibling)}function Nr(){gt=vt=null,ge=!1}function Ma(e){Ft===null?Ft=[e]:Ft.push(e)}var Zg=dn.ReactCurrentBatchConfig;function Vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(I(309));var r=n.stateNode}if(!r)throw Error(I(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=o.refs;s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(I(284));if(!n._owner)throw Error(I(290,e))}return e}function ni(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ac(e){var t=e._init;return t(e._payload)}function Xf(e){function t(f,p){if(e){var y=f.deletions;y===null?(f.deletions=[p],f.flags|=16):y.push(p)}}function n(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function r(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function o(f,p){return f=Cn(f,p),f.index=0,f.sibling=null,f}function i(f,p,y){return f.index=y,e?(y=f.alternate,y!==null?(y=y.index,y<p?(f.flags|=2,p):y):(f.flags|=2,p)):(f.flags|=1048576,p)}function s(f){return e&&f.alternate===null&&(f.flags|=2),f}function u(f,p,y,S){return p===null||p.tag!==6?(p=Qs(y,f.mode,S),p.return=f,p):(p=o(p,y),p.return=f,p)}function c(f,p,y,S){var C=y.type;return C===lr?g(f,p,y.props.children,S,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pn&&Ac(C)===p.type)?(S=o(p,y.props),S.ref=Vr(f,p,y),S.return=f,S):(S=Ei(y.type,y.key,y.props,null,f.mode,S),S.ref=Vr(f,p,y),S.return=f,S)}function d(f,p,y,S){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ys(y,f.mode,S),p.return=f,p):(p=o(p,y.children||[]),p.return=f,p)}function g(f,p,y,S,C){return p===null||p.tag!==7?(p=Vn(y,f.mode,S,C),p.return=f,p):(p=o(p,y),p.return=f,p)}function m(f,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qs(""+p,f.mode,y),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Vo:return y=Ei(p.type,p.key,p.props,null,f.mode,y),y.ref=Vr(f,null,p),y.return=f,y;case sr:return p=Ys(p,f.mode,y),p.return=f,p;case pn:var S=p._init;return m(f,S(p._payload),y)}if(Jr(p)||Ur(p))return p=Vn(p,f.mode,y,null),p.return=f,p;ni(f,p)}return null}function h(f,p,y,S){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:u(f,p,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vo:return y.key===C?c(f,p,y,S):null;case sr:return y.key===C?d(f,p,y,S):null;case pn:return C=y._init,h(f,p,C(y._payload),S)}if(Jr(y)||Ur(y))return C!==null?null:g(f,p,y,S,null);ni(f,y)}return null}function v(f,p,y,S,C){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(y)||null,u(p,f,""+S,C);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vo:return f=f.get(S.key===null?y:S.key)||null,c(p,f,S,C);case sr:return f=f.get(S.key===null?y:S.key)||null,d(p,f,S,C);case pn:var _=S._init;return v(f,p,y,_(S._payload),C)}if(Jr(S)||Ur(S))return f=f.get(y)||null,g(p,f,S,C,null);ni(p,S)}return null}function k(f,p,y,S){for(var C=null,_=null,O=p,N=p=0,H=null;O!==null&&N<y.length;N++){O.index>N?(H=O,O=null):H=O.sibling;var V=h(f,O,y[N],S);if(V===null){O===null&&(O=H);break}e&&O&&V.alternate===null&&t(f,O),p=i(V,p,N),_===null?C=V:_.sibling=V,_=V,O=H}if(N===y.length)return n(f,O),ge&&Dn(f,N),C;if(O===null){for(;N<y.length;N++)O=m(f,y[N],S),O!==null&&(p=i(O,p,N),_===null?C=O:_.sibling=O,_=O);return ge&&Dn(f,N),C}for(O=r(f,O);N<y.length;N++)H=v(O,f,N,y[N],S),H!==null&&(e&&H.alternate!==null&&O.delete(H.key===null?N:H.key),p=i(H,p,N),_===null?C=H:_.sibling=H,_=H);return e&&O.forEach(function(J){return t(f,J)}),ge&&Dn(f,N),C}function E(f,p,y,S){var C=Ur(y);if(typeof C!="function")throw Error(I(150));if(y=C.call(y),y==null)throw Error(I(151));for(var _=C=null,O=p,N=p=0,H=null,V=y.next();O!==null&&!V.done;N++,V=y.next()){O.index>N?(H=O,O=null):H=O.sibling;var J=h(f,O,V.value,S);if(J===null){O===null&&(O=H);break}e&&O&&J.alternate===null&&t(f,O),p=i(J,p,N),_===null?C=J:_.sibling=J,_=J,O=H}if(V.done)return n(f,O),ge&&Dn(f,N),C;if(O===null){for(;!V.done;N++,V=y.next())V=m(f,V.value,S),V!==null&&(p=i(V,p,N),_===null?C=V:_.sibling=V,_=V);return ge&&Dn(f,N),C}for(O=r(f,O);!V.done;N++,V=y.next())V=v(O,f,N,V.value,S),V!==null&&(e&&V.alternate!==null&&O.delete(V.key===null?N:V.key),p=i(V,p,N),_===null?C=V:_.sibling=V,_=V);return e&&O.forEach(function(he){return t(f,he)}),ge&&Dn(f,N),C}function w(f,p,y,S){if(typeof y=="object"&&y!==null&&y.type===lr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Vo:e:{for(var C=y.key,_=p;_!==null;){if(_.key===C){if(C=y.type,C===lr){if(_.tag===7){n(f,_.sibling),p=o(_,y.props.children),p.return=f,f=p;break e}}else if(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===pn&&Ac(C)===_.type){n(f,_.sibling),p=o(_,y.props),p.ref=Vr(f,_,y),p.return=f,f=p;break e}n(f,_);break}else t(f,_);_=_.sibling}y.type===lr?(p=Vn(y.props.children,f.mode,S,y.key),p.return=f,f=p):(S=Ei(y.type,y.key,y.props,null,f.mode,S),S.ref=Vr(f,p,y),S.return=f,f=S)}return s(f);case sr:e:{for(_=y.key;p!==null;){if(p.key===_)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(f,p.sibling),p=o(p,y.children||[]),p.return=f,f=p;break e}else{n(f,p);break}else t(f,p);p=p.sibling}p=Ys(y,f.mode,S),p.return=f,f=p}return s(f);case pn:return _=y._init,w(f,p,_(y._payload),S)}if(Jr(y))return k(f,p,y,S);if(Ur(y))return E(f,p,y,S);ni(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(f,p.sibling),p=o(p,y),p.return=f,f=p):(n(f,p),p=Qs(y,f.mode,S),p.return=f,f=p),s(f)):n(f,p)}return w}var Pr=Xf(!0),Qf=Xf(!1),Mi=Rn(null),Fi=null,hr=null,Fa=null;function Ua(){Fa=hr=Fi=null}function Ba(e){var t=Mi.current;me(Mi),e._currentValue=t}function Bl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ar(e,t){Fi=e,Fa=hr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(st=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(Fa!==e)if(e={context:e,memoizedValue:t,next:null},hr===null){if(Fi===null)throw Error(I(308));hr=e,Fi.dependencies={lanes:0,firstContext:e}}else hr=hr.next=e;return t}var Fn=null;function $a(e){Fn===null?Fn=[e]:Fn.push(e)}function Yf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,$a(t)):(n.next=o.next,o.next=n),t.interleaved=n,un(e,r)}function un(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mn=!1;function Ka(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function on(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Tn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,un(e,n)}return o=r.interleaved,o===null?(t.next=t,$a(r)):(t.next=o.next,o.next=t),r.interleaved=t,un(e,n)}function gi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ca(e,n)}}function Tc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ui(e,t,n,r){var o=e.updateQueue;mn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,d=c.next;c.next=null,s===null?i=d:s.next=d,s=c;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==s&&(u===null?g.firstBaseUpdate=d:u.next=d,g.lastBaseUpdate=c))}if(i!==null){var m=o.baseState;s=0,g=d=c=null,u=i;do{var h=u.lane,v=u.eventTime;if((r&h)===h){g!==null&&(g=g.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var k=e,E=u;switch(h=t,v=n,E.tag){case 1:if(k=E.payload,typeof k=="function"){m=k.call(v,m,h);break e}m=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=E.payload,h=typeof k=="function"?k.call(v,m,h):k,h==null)break e;m=xe({},m,h);break e;case 2:mn=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[u]:h.push(u))}else v={eventTime:v,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(d=g=v,c=m):g=g.next=v,s|=h;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;h=u,u=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(g===null&&(c=m),o.baseState=c,o.firstBaseUpdate=d,o.lastBaseUpdate=g,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Yn|=s,e.lanes=s,e.memoizedState=m}}function Ic(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(I(191,o));o.call(r)}}}var Fo={},Zt=Rn(Fo),_o=Rn(Fo),Co=Rn(Fo);function Un(e){if(e===Fo)throw Error(I(174));return e}function Wa(e,t){switch(ue(Co,t),ue(_o,e),ue(Zt,Fo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wl(t,e)}me(Zt),ue(Zt,t)}function jr(){me(Zt),me(_o),me(Co)}function Jf(e){Un(Co.current);var t=Un(Zt.current),n=wl(t,e.type);t!==n&&(ue(_o,e),ue(Zt,n))}function Va(e){_o.current===e&&(me(Zt),me(_o))}var ve=Rn(0);function Bi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ks=[];function Ha(){for(var e=0;e<Ks.length;e++)Ks[e]._workInProgressVersionPrimary=null;Ks.length=0}var yi=dn.ReactCurrentDispatcher,Ws=dn.ReactCurrentBatchConfig,Qn=0,Se=null,Oe=null,De=null,$i=!1,so=!1,No=0,Jg=0;function Ge(){throw Error(I(321))}function Ga(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!$t(e[n],t[n]))return!1;return!0}function Xa(e,t,n,r,o,i){if(Qn=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yi.current=e===null||e.memoizedState===null?ny:ry,e=n(r,o),so){i=0;do{if(so=!1,No=0,25<=i)throw Error(I(301));i+=1,De=Oe=null,t.updateQueue=null,yi.current=oy,e=n(r,o)}while(so)}if(yi.current=Ki,t=Oe!==null&&Oe.next!==null,Qn=0,De=Oe=Se=null,$i=!1,t)throw Error(I(300));return e}function Qa(){var e=No!==0;return No=0,e}function Ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return De===null?Se.memoizedState=De=e:De=De.next=e,De}function Rt(){if(Oe===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=De===null?Se.memoizedState:De.next;if(t!==null)De=t,Oe=e;else{if(e===null)throw Error(I(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},De===null?Se.memoizedState=De=e:De=De.next=e}return De}function Po(e,t){return typeof t=="function"?t(e):t}function Vs(e){var t=Rt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=Oe,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=s=null,c=null,d=i;do{var g=d.lane;if((Qn&g)===g)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:g,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=m,s=r):c=c.next=m,Se.lanes|=g,Yn|=g}d=d.next}while(d!==null&&d!==i);c===null?s=r:c.next=u,$t(r,t.memoizedState)||(st=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Se.lanes|=i,Yn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hs(e){var t=Rt(),n=t.queue;if(n===null)throw Error(I(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);$t(i,t.memoizedState)||(st=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function qf(){}function ep(e,t){var n=Se,r=Rt(),o=t(),i=!$t(r.memoizedState,o);if(i&&(r.memoizedState=o,st=!0),r=r.queue,Ya(rp.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||De!==null&&De.memoizedState.tag&1){if(n.flags|=2048,jo(9,np.bind(null,n,r,o,t),void 0,null),ze===null)throw Error(I(349));Qn&30||tp(n,t,o)}return o}function tp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function np(e,t,n,r){t.value=n,t.getSnapshot=r,op(t)&&ip(e)}function rp(e,t,n){return n(function(){op(t)&&ip(e)})}function op(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$t(e,n)}catch{return!0}}function ip(e){var t=un(e,1);t!==null&&Bt(t,e,1,-1)}function _c(e){var t=Ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:e},t.queue=e,e=e.dispatch=ty.bind(null,Se,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function sp(){return Rt().memoizedState}function vi(e,t,n,r){var o=Ht();Se.flags|=e,o.memoizedState=jo(1|t,n,void 0,r===void 0?null:r)}function ds(e,t,n,r){var o=Rt();r=r===void 0?null:r;var i=void 0;if(Oe!==null){var s=Oe.memoizedState;if(i=s.destroy,r!==null&&Ga(r,s.deps)){o.memoizedState=jo(t,n,i,r);return}}Se.flags|=e,o.memoizedState=jo(1|t,n,i,r)}function Cc(e,t){return vi(8390656,8,e,t)}function Ya(e,t){return ds(2048,8,e,t)}function lp(e,t){return ds(4,2,e,t)}function ap(e,t){return ds(4,4,e,t)}function up(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function cp(e,t,n){return n=n!=null?n.concat([e]):null,ds(4,4,up.bind(null,t,e),n)}function Za(){}function dp(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fp(e,t){var n=Rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pp(e,t,n){return Qn&21?($t(n,t)||(n=vf(),Se.lanes|=n,Yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,st=!0),e.memoizedState=n)}function qg(e,t){var n=se;se=n!==0&&4>n?n:4,e(!0);var r=Ws.transition;Ws.transition={};try{e(!1),t()}finally{se=n,Ws.transition=r}}function mp(){return Rt().memoizedState}function ey(e,t,n){var r=_n(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hp(e))gp(t,n);else if(n=Yf(e,t,n,r),n!==null){var o=et();Bt(n,e,r,o),yp(n,t,r)}}function ty(e,t,n){var r=_n(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hp(e))gp(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,n);if(o.hasEagerState=!0,o.eagerState=u,$t(u,s)){var c=t.interleaved;c===null?(o.next=o,$a(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=Yf(e,t,o,r),n!==null&&(o=et(),Bt(n,e,r,o),yp(n,t,r))}}function hp(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function gp(e,t){so=$i=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function yp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ca(e,n)}}var Ki={readContext:Ot,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},ny={readContext:Ot,useCallback:function(e,t){return Ht().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:Cc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,vi(4194308,4,up.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vi(4194308,4,e,t)},useInsertionEffect:function(e,t){return vi(4,2,e,t)},useMemo:function(e,t){var n=Ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ey.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Ht();return e={current:e},t.memoizedState=e},useState:_c,useDebugValue:Za,useDeferredValue:function(e){return Ht().memoizedState=e},useTransition:function(){var e=_c(!1),t=e[0];return e=qg.bind(null,e[1]),Ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,o=Ht();if(ge){if(n===void 0)throw Error(I(407));n=n()}else{if(n=t(),ze===null)throw Error(I(349));Qn&30||tp(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,Cc(rp.bind(null,r,i,e),[e]),r.flags|=2048,jo(9,np.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ht(),t=ze.identifierPrefix;if(ge){var n=rn,r=nn;n=(r&~(1<<32-Ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=No++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Jg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ry={readContext:Ot,useCallback:dp,useContext:Ot,useEffect:Ya,useImperativeHandle:cp,useInsertionEffect:lp,useLayoutEffect:ap,useMemo:fp,useReducer:Vs,useRef:sp,useState:function(){return Vs(Po)},useDebugValue:Za,useDeferredValue:function(e){var t=Rt();return pp(t,Oe.memoizedState,e)},useTransition:function(){var e=Vs(Po)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:qf,useSyncExternalStore:ep,useId:mp,unstable_isNewReconciler:!1},oy={readContext:Ot,useCallback:dp,useContext:Ot,useEffect:Ya,useImperativeHandle:cp,useInsertionEffect:lp,useLayoutEffect:ap,useMemo:fp,useReducer:Hs,useRef:sp,useState:function(){return Hs(Po)},useDebugValue:Za,useDeferredValue:function(e){var t=Rt();return Oe===null?t.memoizedState=e:pp(t,Oe.memoizedState,e)},useTransition:function(){var e=Hs(Po)[0],t=Rt().memoizedState;return[e,t]},useMutableSource:qf,useSyncExternalStore:ep,useId:mp,unstable_isNewReconciler:!1};function Dt(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $l(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var fs={isMounted:function(e){return(e=e._reactInternals)?er(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),o=_n(e),i=on(r,o);i.payload=t,n!=null&&(i.callback=n),t=Tn(e,i,o),t!==null&&(Bt(t,e,o,r),gi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),o=_n(e),i=on(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Tn(e,i,o),t!==null&&(Bt(t,e,o,r),gi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=_n(e),o=on(n,r);o.tag=2,t!=null&&(o.callback=t),t=Tn(e,o,r),t!==null&&(Bt(t,e,r,n),gi(t,e,r))}};function Nc(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!ko(n,r)||!ko(o,i):!0}function vp(e,t,n){var r=!1,o=Pn,i=t.contextType;return typeof i=="object"&&i!==null?i=Ot(i):(o=ut(t)?Gn:Ze.current,r=t.contextTypes,i=(r=r!=null)?Cr(e,o):Pn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fs,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Pc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fs.enqueueReplaceState(t,t.state,null)}function Kl(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ka(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ot(i):(i=ut(t)?Gn:Ze.current,o.context=Cr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&($l(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&fs.enqueueReplaceState(o,o.state,null),Ui(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Or(e,t){try{var n="",r=t;do n+=Oh(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Gs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Wl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var iy=typeof WeakMap=="function"?WeakMap:Map;function Sp(e,t,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vi||(Vi=!0,ea=r),Wl(e,t)},n}function xp(e,t,n){n=on(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Wl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Wl(e,t),typeof r!="function"&&(In===null?In=new Set([this]):In.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function jc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new iy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Sy.bind(null,e,t,n),t.then(e,e))}function Oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Rc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=on(-1,1),t.tag=2,Tn(n,t,1))),n.lanes|=1),e)}var sy=dn.ReactCurrentOwner,st=!1;function Je(e,t,n,r){t.child=e===null?Qf(t,null,n,r):Pr(t,e.child,n,r)}function Lc(e,t,n,r,o){n=n.render;var i=t.ref;return Ar(t,o),r=Xa(e,t,n,r,i,o),n=Qa(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cn(e,t,o)):(ge&&n&&Da(t),t.flags|=1,Je(e,t,r,o),t.child)}function bc(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!iu(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,wp(e,t,i,r,o)):(e=Ei(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:ko,n(s,r)&&e.ref===t.ref)return cn(e,t,o)}return t.flags|=1,e=Cn(i,r),e.ref=t.ref,e.return=t,t.child=e}function wp(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(ko(i,r)&&e.ref===t.ref)if(st=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(st=!0);else return t.lanes=e.lanes,cn(e,t,o)}return Vl(e,t,n,r,o)}function Ep(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(yr,mt),mt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(yr,mt),mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ue(yr,mt),mt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ue(yr,mt),mt|=r;return Je(e,t,o,n),t.child}function kp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Vl(e,t,n,r,o){var i=ut(n)?Gn:Ze.current;return i=Cr(t,i),Ar(t,o),n=Xa(e,t,n,r,i,o),r=Qa(),e!==null&&!st?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,cn(e,t,o)):(ge&&r&&Da(t),t.flags|=1,Je(e,t,n,o),t.child)}function Dc(e,t,n,r,o){if(ut(n)){var i=!0;bi(t)}else i=!1;if(Ar(t,o),t.stateNode===null)Si(e,t),vp(t,n,r),Kl(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=Ot(d):(d=ut(n)?Gn:Ze.current,d=Cr(t,d));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==d)&&Pc(t,s,r,d),mn=!1;var h=t.memoizedState;s.state=h,Ui(t,r,s,o),c=t.memoizedState,u!==r||h!==c||at.current||mn?(typeof g=="function"&&($l(t,n,g,r),c=t.memoizedState),(u=mn||Nc(t,n,u,r,h,c,d))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=d,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Zf(e,t),u=t.memoizedProps,d=t.type===t.elementType?u:Dt(t.type,u),s.props=d,m=t.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=Ot(c):(c=ut(n)?Gn:Ze.current,c=Cr(t,c));var v=n.getDerivedStateFromProps;(g=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||h!==c)&&Pc(t,s,r,c),mn=!1,h=t.memoizedState,s.state=h,Ui(t,r,s,o);var k=t.memoizedState;u!==m||h!==k||at.current||mn?(typeof v=="function"&&($l(t,n,v,r),k=t.memoizedState),(d=mn||Nc(t,n,d,r,h,k,c)||!1)?(g||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,k,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,k,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=k),s.props=r,s.state=k,s.context=c,r=d):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Hl(e,t,n,r,i,o)}function Hl(e,t,n,r,o,i){kp(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&wc(t,n,!1),cn(e,t,i);r=t.stateNode,sy.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Pr(t,e.child,null,i),t.child=Pr(t,null,u,i)):Je(e,t,u,i),t.memoizedState=r.state,o&&wc(t,n,!0),t.child}function Ap(e){var t=e.stateNode;t.pendingContext?xc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&xc(e,t.context,!1),Wa(e,t.containerInfo)}function zc(e,t,n,r,o){return Nr(),Ma(o),t.flags|=256,Je(e,t,n,r),t.child}var Gl={dehydrated:null,treeContext:null,retryLane:0};function Xl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tp(e,t,n){var r=t.pendingProps,o=ve.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),ue(ve,o&1),e===null)return Ul(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=hs(s,r,0,null),e=Vn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Xl(n),t.memoizedState=Gl,e):Ja(t,s));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return ly(e,t,s,r,u,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,u=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Cn(o,c),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=Cn(u,i):(i=Vn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Xl(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Gl,r}return i=e.child,e=i.sibling,r=Cn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ja(e,t){return t=hs({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ri(e,t,n,r){return r!==null&&Ma(r),Pr(t,e.child,null,n),e=Ja(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ly(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Gs(Error(I(422))),ri(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=hs({mode:"visible",children:r.children},o,0,null),i=Vn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Pr(t,e.child,null,s),t.child.memoizedState=Xl(s),t.memoizedState=Gl,i);if(!(t.mode&1))return ri(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(I(419)),r=Gs(i,r,void 0),ri(e,t,s,r)}if(u=(s&e.childLanes)!==0,st||u){if(r=ze,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,un(e,o),Bt(r,e,o,-1))}return ou(),r=Gs(Error(I(421))),ri(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=xy.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,gt=An(o.nextSibling),vt=t,ge=!0,Ft=null,e!==null&&(It[_t++]=nn,It[_t++]=rn,It[_t++]=Xn,nn=e.id,rn=e.overflow,Xn=t),t=Ja(t,r.children),t.flags|=4096,t)}function Mc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Bl(e.return,t,n)}function Xs(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ip(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Je(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mc(e,n,t);else if(e.tag===19)Mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(ve,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Bi(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Xs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Bi(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Xs(t,!0,n,null,i);break;case"together":Xs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Si(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ay(e,t,n){switch(t.tag){case 3:Ap(t),Nr();break;case 5:Jf(t);break;case 1:ut(t.type)&&bi(t);break;case 4:Wa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;ue(Mi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Tp(e,t,n):(ue(ve,ve.current&1),e=cn(e,t,n),e!==null?e.sibling:null);ue(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Ip(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ue(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Ep(e,t,n)}return cn(e,t,n)}var _p,Ql,Cp,Np;_p=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ql=function(){};Cp=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Un(Zt.current);var i=null;switch(n){case"input":o=yl(e,o),r=yl(e,r),i=[];break;case"select":o=xe({},o,{value:void 0}),r=xe({},r,{value:void 0}),i=[];break;case"textarea":o=xl(e,o),r=xl(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ri)}El(n,r);var s;n=null;for(d in o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&o[d]!=null)if(d==="style"){var u=o[d];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(go.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(u=o!=null?o[d]:void 0,r.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(go.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&pe("scroll",e),i||u===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Np=function(e,t,n,r){n!==r&&(t.flags|=4)};function Hr(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function uy(e,t,n){var r=t.pendingProps;switch(za(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(t),null;case 1:return ut(t.type)&&Li(),Xe(t),null;case 3:return r=t.stateNode,jr(),me(at),me(Ze),Ha(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ti(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(ra(Ft),Ft=null))),Ql(e,t),Xe(t),null;case 5:Va(t);var o=Un(Co.current);if(n=t.type,e!==null&&t.stateNode!=null)Cp(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(I(166));return Xe(t),null}if(e=Un(Zt.current),ti(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Xt]=t,r[Io]=i,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(o=0;o<eo.length;o++)pe(eo[o],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Gu(r,i),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},pe("invalid",r);break;case"textarea":Qu(r,i),pe("invalid",r)}El(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&ei(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&ei(r.textContent,u,e),o=["children",""+u]):go.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&pe("scroll",r)}switch(n){case"input":Ho(r),Xu(r,i,!0);break;case"textarea":Ho(r),Yu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ri)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=nf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Xt]=t,e[Io]=r,_p(e,t,!1,!1),t.stateNode=e;e:{switch(s=kl(n,r),n){case"dialog":pe("cancel",e),pe("close",e),o=r;break;case"iframe":case"object":case"embed":pe("load",e),o=r;break;case"video":case"audio":for(o=0;o<eo.length;o++)pe(eo[o],e);o=r;break;case"source":pe("error",e),o=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),o=r;break;case"details":pe("toggle",e),o=r;break;case"input":Gu(e,r),o=yl(e,r),pe("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=xe({},r,{value:void 0}),pe("invalid",e);break;case"textarea":Qu(e,r),o=xl(e,r),pe("invalid",e);break;default:o=r}El(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?sf(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&rf(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&yo(e,c):typeof c=="number"&&yo(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(go.hasOwnProperty(i)?c!=null&&i==="onScroll"&&pe("scroll",e):c!=null&&Ea(e,i,c,s))}switch(n){case"input":Ho(e),Xu(e,r,!1);break;case"textarea":Ho(e),Yu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Nn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?xr(e,!!r.multiple,i,!1):r.defaultValue!=null&&xr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xe(t),null;case 6:if(e&&t.stateNode!=null)Np(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(I(166));if(n=Un(Co.current),Un(Zt.current),ti(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xt]=t,(i=r.nodeValue!==n)&&(e=vt,e!==null))switch(e.tag){case 3:ei(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ei(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xt]=t,t.stateNode=r}return Xe(t),null;case 13:if(me(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&gt!==null&&t.mode&1&&!(t.flags&128))Gf(),Nr(),t.flags|=98560,i=!1;else if(i=ti(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(I(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(I(317));i[Xt]=t}else Nr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xe(t),i=!1}else Ft!==null&&(ra(Ft),Ft=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Re===0&&(Re=3):ou())),t.updateQueue!==null&&(t.flags|=4),Xe(t),null);case 4:return jr(),Ql(e,t),e===null&&Ao(t.stateNode.containerInfo),Xe(t),null;case 10:return Ba(t.type._context),Xe(t),null;case 17:return ut(t.type)&&Li(),Xe(t),null;case 19:if(me(ve),i=t.memoizedState,i===null)return Xe(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Hr(i,!1);else{if(Re!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Bi(e),s!==null){for(t.flags|=128,Hr(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(ve,ve.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>Rr&&(t.flags|=128,r=!0,Hr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Bi(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Hr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ge)return Xe(t),null}else 2*Ie()-i.renderingStartTime>Rr&&n!==1073741824&&(t.flags|=128,r=!0,Hr(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,n=ve.current,ue(ve,r?n&1|2:n&1),t):(Xe(t),null);case 22:case 23:return ru(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?mt&1073741824&&(Xe(t),t.subtreeFlags&6&&(t.flags|=8192)):Xe(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function cy(e,t){switch(za(t),t.tag){case 1:return ut(t.type)&&Li(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return jr(),me(at),me(Ze),Ha(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Va(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));Nr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return jr(),null;case 10:return Ba(t.type._context),null;case 22:case 23:return ru(),null;case 24:return null;default:return null}}var oi=!1,Qe=!1,dy=typeof WeakSet=="function"?WeakSet:Set,L=null;function gr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ee(e,t,r)}else n.current=null}function Yl(e,t,n){try{n()}catch(r){Ee(e,t,r)}}var Fc=!1;function fy(e,t){if(Rl=Pi,e=Lf(),ba(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,d=0,g=0,m=e,h=null;t:for(;;){for(var v;m!==n||o!==0&&m.nodeType!==3||(u=s+o),m!==i||r!==0&&m.nodeType!==3||(c=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(v=m.firstChild)!==null;)h=m,m=v;for(;;){if(m===e)break t;if(h===n&&++d===o&&(u=s),h===i&&++g===r&&(c=s),(v=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=v}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ll={focusedElem:e,selectionRange:n},Pi=!1,L=t;L!==null;)if(t=L,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,L=e;else for(;L!==null;){t=L;try{var k=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var E=k.memoizedProps,w=k.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?E:Dt(t.type,E),w);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(S){Ee(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,L=e;break}L=t.return}return k=Fc,Fc=!1,k}function lo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Yl(t,n,i)}o=o.next}while(o!==r)}}function ps(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Zl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Pp(e){var t=e.alternate;t!==null&&(e.alternate=null,Pp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xt],delete t[Io],delete t[zl],delete t[Xg],delete t[Qg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jp(e){return e.tag===5||e.tag===3||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ri));else if(r!==4&&(e=e.child,e!==null))for(Jl(e,t,n),e=e.sibling;e!==null;)Jl(e,t,n),e=e.sibling}function ql(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ql(e,t,n),e=e.sibling;e!==null;)ql(e,t,n),e=e.sibling}var Be=null,Mt=!1;function fn(e,t,n){for(n=n.child;n!==null;)Op(e,t,n),n=n.sibling}function Op(e,t,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(is,n)}catch{}switch(n.tag){case 5:Qe||gr(n,t);case 6:var r=Be,o=Mt;Be=null,fn(e,t,n),Be=r,Mt=o,Be!==null&&(Mt?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Mt?(e=Be,n=n.stateNode,e.nodeType===8?Bs(e.parentNode,n):e.nodeType===1&&Bs(e,n),wo(e)):Bs(Be,n.stateNode));break;case 4:r=Be,o=Mt,Be=n.stateNode.containerInfo,Mt=!0,fn(e,t,n),Be=r,Mt=o;break;case 0:case 11:case 14:case 15:if(!Qe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Yl(n,t,s),o=o.next}while(o!==r)}fn(e,t,n);break;case 1:if(!Qe&&(gr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Ee(n,t,u)}fn(e,t,n);break;case 21:fn(e,t,n);break;case 22:n.mode&1?(Qe=(r=Qe)||n.memoizedState!==null,fn(e,t,n),Qe=r):fn(e,t,n);break;default:fn(e,t,n)}}function Bc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new dy),t.forEach(function(r){var o=wy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function bt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Be=u.stateNode,Mt=!1;break e;case 3:Be=u.stateNode.containerInfo,Mt=!0;break e;case 4:Be=u.stateNode.containerInfo,Mt=!0;break e}u=u.return}if(Be===null)throw Error(I(160));Op(i,s,o),Be=null,Mt=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(d){Ee(o,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rp(t,e),t=t.sibling}function Rp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bt(t,e),Vt(e),r&4){try{lo(3,e,e.return),ps(3,e)}catch(E){Ee(e,e.return,E)}try{lo(5,e,e.return)}catch(E){Ee(e,e.return,E)}}break;case 1:bt(t,e),Vt(e),r&512&&n!==null&&gr(n,n.return);break;case 5:if(bt(t,e),Vt(e),r&512&&n!==null&&gr(n,n.return),e.flags&32){var o=e.stateNode;try{yo(o,"")}catch(E){Ee(e,e.return,E)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&ef(o,i),kl(u,s);var d=kl(u,i);for(s=0;s<c.length;s+=2){var g=c[s],m=c[s+1];g==="style"?sf(o,m):g==="dangerouslySetInnerHTML"?rf(o,m):g==="children"?yo(o,m):Ea(o,g,m,d)}switch(u){case"input":vl(o,i);break;case"textarea":tf(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?xr(o,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?xr(o,!!i.multiple,i.defaultValue,!0):xr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Io]=i}catch(E){Ee(e,e.return,E)}}break;case 6:if(bt(t,e),Vt(e),r&4){if(e.stateNode===null)throw Error(I(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(E){Ee(e,e.return,E)}}break;case 3:if(bt(t,e),Vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wo(t.containerInfo)}catch(E){Ee(e,e.return,E)}break;case 4:bt(t,e),Vt(e);break;case 13:bt(t,e),Vt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(tu=Ie())),r&4&&Bc(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(Qe=(d=Qe)||g,bt(t,e),Qe=d):bt(t,e),Vt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!g&&e.mode&1)for(L=e,g=e.child;g!==null;){for(m=L=g;L!==null;){switch(h=L,v=h.child,h.tag){case 0:case 11:case 14:case 15:lo(4,h,h.return);break;case 1:gr(h,h.return);var k=h.stateNode;if(typeof k.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,k.props=t.memoizedProps,k.state=t.memoizedState,k.componentWillUnmount()}catch(E){Ee(r,n,E)}}break;case 5:gr(h,h.return);break;case 22:if(h.memoizedState!==null){Kc(m);continue}}v!==null?(v.return=h,L=v):Kc(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{o=m.stateNode,d?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=of("display",s))}catch(E){Ee(e,e.return,E)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(E){Ee(e,e.return,E)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:bt(t,e),Vt(e),r&4&&Bc(e);break;case 21:break;default:bt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jp(n)){var r=n;break e}n=n.return}throw Error(I(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(yo(o,""),r.flags&=-33);var i=Uc(e);ql(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=Uc(e);Jl(e,u,s);break;default:throw Error(I(161))}}catch(c){Ee(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function py(e,t,n){L=e,Lp(e)}function Lp(e,t,n){for(var r=(e.mode&1)!==0;L!==null;){var o=L,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||oi;if(!s){var u=o.alternate,c=u!==null&&u.memoizedState!==null||Qe;u=oi;var d=Qe;if(oi=s,(Qe=c)&&!d)for(L=o;L!==null;)s=L,c=s.child,s.tag===22&&s.memoizedState!==null?Wc(o):c!==null?(c.return=s,L=c):Wc(o);for(;i!==null;)L=i,Lp(i),i=i.sibling;L=o,oi=u,Qe=d}$c(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,L=i):$c(e)}}function $c(e){for(;L!==null;){var t=L;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||ps(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Qe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Dt(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ic(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Ic(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var g=d.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&wo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Qe||t.flags&512&&Zl(t)}catch(h){Ee(t,t.return,h)}}if(t===e){L=null;break}if(n=t.sibling,n!==null){n.return=t.return,L=n;break}L=t.return}}function Kc(e){for(;L!==null;){var t=L;if(t===e){L=null;break}var n=t.sibling;if(n!==null){n.return=t.return,L=n;break}L=t.return}}function Wc(e){for(;L!==null;){var t=L;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ps(4,t)}catch(c){Ee(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){Ee(t,o,c)}}var i=t.return;try{Zl(t)}catch(c){Ee(t,i,c)}break;case 5:var s=t.return;try{Zl(t)}catch(c){Ee(t,s,c)}}}catch(c){Ee(t,t.return,c)}if(t===e){L=null;break}var u=t.sibling;if(u!==null){u.return=t.return,L=u;break}L=t.return}}var my=Math.ceil,Wi=dn.ReactCurrentDispatcher,qa=dn.ReactCurrentOwner,jt=dn.ReactCurrentBatchConfig,te=0,ze=null,Ne=null,Ke=0,mt=0,yr=Rn(0),Re=0,Oo=null,Yn=0,ms=0,eu=0,ao=null,it=null,tu=0,Rr=1/0,qt=null,Vi=!1,ea=null,In=null,ii=!1,vn=null,Hi=0,uo=0,ta=null,xi=-1,wi=0;function et(){return te&6?Ie():xi!==-1?xi:xi=Ie()}function _n(e){return e.mode&1?te&2&&Ke!==0?Ke&-Ke:Zg.transition!==null?(wi===0&&(wi=vf()),wi):(e=se,e!==0||(e=window.event,e=e===void 0?16:Tf(e.type)),e):1}function Bt(e,t,n,r){if(50<uo)throw uo=0,ta=null,Error(I(185));Do(e,n,r),(!(te&2)||e!==ze)&&(e===ze&&(!(te&2)&&(ms|=n),Re===4&&gn(e,Ke)),ct(e,r),n===1&&te===0&&!(t.mode&1)&&(Rr=Ie()+500,cs&&Ln()))}function ct(e,t){var n=e.callbackNode;Zh(e,t);var r=Ni(e,e===ze?Ke:0);if(r===0)n!==null&&qu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&qu(n),t===1)e.tag===0?Yg(Vc.bind(null,e)):Wf(Vc.bind(null,e)),Hg(function(){!(te&6)&&Ln()}),n=null;else{switch(Sf(r)){case 1:n=_a;break;case 4:n=gf;break;case 16:n=Ci;break;case 536870912:n=yf;break;default:n=Ci}n=$p(n,bp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function bp(e,t){if(xi=-1,wi=0,te&6)throw Error(I(327));var n=e.callbackNode;if(Tr()&&e.callbackNode!==n)return null;var r=Ni(e,e===ze?Ke:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Gi(e,r);else{t=r;var o=te;te|=2;var i=zp();(ze!==e||Ke!==t)&&(qt=null,Rr=Ie()+500,Wn(e,t));do try{yy();break}catch(u){Dp(e,u)}while(!0);Ua(),Wi.current=i,te=o,Ne!==null?t=0:(ze=null,Ke=0,t=Re)}if(t!==0){if(t===2&&(o=Cl(e),o!==0&&(r=o,t=na(e,o))),t===1)throw n=Oo,Wn(e,0),gn(e,r),ct(e,Ie()),n;if(t===6)gn(e,r);else{if(o=e.current.alternate,!(r&30)&&!hy(o)&&(t=Gi(e,r),t===2&&(i=Cl(e),i!==0&&(r=i,t=na(e,i))),t===1))throw n=Oo,Wn(e,0),gn(e,r),ct(e,Ie()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(I(345));case 2:zn(e,it,qt);break;case 3:if(gn(e,r),(r&130023424)===r&&(t=tu+500-Ie(),10<t)){if(Ni(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=Dl(zn.bind(null,e,it,qt),t);break}zn(e,it,qt);break;case 4:if(gn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Ut(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*my(r/1960))-r,10<r){e.timeoutHandle=Dl(zn.bind(null,e,it,qt),r);break}zn(e,it,qt);break;case 5:zn(e,it,qt);break;default:throw Error(I(329))}}}return ct(e,Ie()),e.callbackNode===n?bp.bind(null,e):null}function na(e,t){var n=ao;return e.current.memoizedState.isDehydrated&&(Wn(e,t).flags|=256),e=Gi(e,t),e!==2&&(t=it,it=n,t!==null&&ra(t)),e}function ra(e){it===null?it=e:it.push.apply(it,e)}function hy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!$t(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function gn(e,t){for(t&=~eu,t&=~ms,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ut(t),r=1<<n;e[n]=-1,t&=~r}}function Vc(e){if(te&6)throw Error(I(327));Tr();var t=Ni(e,0);if(!(t&1))return ct(e,Ie()),null;var n=Gi(e,t);if(e.tag!==0&&n===2){var r=Cl(e);r!==0&&(t=r,n=na(e,r))}if(n===1)throw n=Oo,Wn(e,0),gn(e,t),ct(e,Ie()),n;if(n===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,zn(e,it,qt),ct(e,Ie()),null}function nu(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(Rr=Ie()+500,cs&&Ln())}}function Zn(e){vn!==null&&vn.tag===0&&!(te&6)&&Tr();var t=te;te|=1;var n=jt.transition,r=se;try{if(jt.transition=null,se=1,e)return e()}finally{se=r,jt.transition=n,te=t,!(te&6)&&Ln()}}function ru(){mt=yr.current,me(yr)}function Wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Vg(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(za(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Li();break;case 3:jr(),me(at),me(Ze),Ha();break;case 5:Va(r);break;case 4:jr();break;case 13:me(ve);break;case 19:me(ve);break;case 10:Ba(r.type._context);break;case 22:case 23:ru()}n=n.return}if(ze=e,Ne=e=Cn(e.current,null),Ke=mt=t,Re=0,Oo=null,eu=ms=Yn=0,it=ao=null,Fn!==null){for(t=0;t<Fn.length;t++)if(n=Fn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Fn=null}return e}function Dp(e,t){do{var n=Ne;try{if(Ua(),yi.current=Ki,$i){for(var r=Se.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}$i=!1}if(Qn=0,De=Oe=Se=null,so=!1,No=0,qa.current=null,n===null||n.return===null){Re=1,Oo=t,Ne=null;break}e:{var i=e,s=n.return,u=n,c=t;if(t=Ke,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,g=u,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var h=g.alternate;h?(g.updateQueue=h.updateQueue,g.memoizedState=h.memoizedState,g.lanes=h.lanes):(g.updateQueue=null,g.memoizedState=null)}var v=Oc(s);if(v!==null){v.flags&=-257,Rc(v,s,u,i,t),v.mode&1&&jc(i,d,t),t=v,c=d;var k=t.updateQueue;if(k===null){var E=new Set;E.add(c),t.updateQueue=E}else k.add(c);break e}else{if(!(t&1)){jc(i,d,t),ou();break e}c=Error(I(426))}}else if(ge&&u.mode&1){var w=Oc(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Rc(w,s,u,i,t),Ma(Or(c,u));break e}}i=c=Or(c,u),Re!==4&&(Re=2),ao===null?ao=[i]:ao.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var f=Sp(i,c,t);Tc(i,f);break e;case 1:u=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(In===null||!In.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=xp(i,u,t);Tc(i,S);break e}}i=i.return}while(i!==null)}Fp(n)}catch(C){t=C,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function zp(){var e=Wi.current;return Wi.current=Ki,e===null?Ki:e}function ou(){(Re===0||Re===3||Re===2)&&(Re=4),ze===null||!(Yn&268435455)&&!(ms&268435455)||gn(ze,Ke)}function Gi(e,t){var n=te;te|=2;var r=zp();(ze!==e||Ke!==t)&&(qt=null,Wn(e,t));do try{gy();break}catch(o){Dp(e,o)}while(!0);if(Ua(),te=n,Wi.current=r,Ne!==null)throw Error(I(261));return ze=null,Ke=0,Re}function gy(){for(;Ne!==null;)Mp(Ne)}function yy(){for(;Ne!==null&&!$h();)Mp(Ne)}function Mp(e){var t=Bp(e.alternate,e,mt);e.memoizedProps=e.pendingProps,t===null?Fp(e):Ne=t,qa.current=null}function Fp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=cy(n,t),n!==null){n.flags&=32767,Ne=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Ne=null;return}}else if(n=uy(n,t,mt),n!==null){Ne=n;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);Re===0&&(Re=5)}function zn(e,t,n){var r=se,o=jt.transition;try{jt.transition=null,se=1,vy(e,t,n,r)}finally{jt.transition=o,se=r}return null}function vy(e,t,n,r){do Tr();while(vn!==null);if(te&6)throw Error(I(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Jh(e,i),e===ze&&(Ne=ze=null,Ke=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ii||(ii=!0,$p(Ci,function(){return Tr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jt.transition,jt.transition=null;var s=se;se=1;var u=te;te|=4,qa.current=null,fy(e,n),Rp(n,e),Mg(Ll),Pi=!!Rl,Ll=Rl=null,e.current=n,py(n),Kh(),te=u,se=s,jt.transition=i}else e.current=n;if(ii&&(ii=!1,vn=e,Hi=o),i=e.pendingLanes,i===0&&(In=null),Hh(n.stateNode),ct(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Vi)throw Vi=!1,e=ea,ea=null,e;return Hi&1&&e.tag!==0&&Tr(),i=e.pendingLanes,i&1?e===ta?uo++:(uo=0,ta=e):uo=0,Ln(),null}function Tr(){if(vn!==null){var e=Sf(Hi),t=jt.transition,n=se;try{if(jt.transition=null,se=16>e?16:e,vn===null)var r=!1;else{if(e=vn,vn=null,Hi=0,te&6)throw Error(I(331));var o=te;for(te|=4,L=e.current;L!==null;){var i=L,s=i.child;if(L.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(L=d;L!==null;){var g=L;switch(g.tag){case 0:case 11:case 15:lo(8,g,i)}var m=g.child;if(m!==null)m.return=g,L=m;else for(;L!==null;){g=L;var h=g.sibling,v=g.return;if(Pp(g),g===d){L=null;break}if(h!==null){h.return=v,L=h;break}L=v}}}var k=i.alternate;if(k!==null){var E=k.child;if(E!==null){k.child=null;do{var w=E.sibling;E.sibling=null,E=w}while(E!==null)}}L=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,L=s;else e:for(;L!==null;){if(i=L,i.flags&2048)switch(i.tag){case 0:case 11:case 15:lo(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,L=f;break e}L=i.return}}var p=e.current;for(L=p;L!==null;){s=L;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,L=y;else e:for(s=p;L!==null;){if(u=L,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ps(9,u)}}catch(C){Ee(u,u.return,C)}if(u===s){L=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,L=S;break e}L=u.return}}if(te=o,Ln(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(is,e)}catch{}r=!0}return r}finally{se=n,jt.transition=t}}return!1}function Hc(e,t,n){t=Or(n,t),t=Sp(e,t,1),e=Tn(e,t,1),t=et(),e!==null&&(Do(e,1,t),ct(e,t))}function Ee(e,t,n){if(e.tag===3)Hc(e,e,n);else for(;t!==null;){if(t.tag===3){Hc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(In===null||!In.has(r))){e=Or(n,e),e=xp(t,e,1),t=Tn(t,e,1),e=et(),t!==null&&(Do(t,1,e),ct(t,e));break}}t=t.return}}function Sy(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,ze===e&&(Ke&n)===n&&(Re===4||Re===3&&(Ke&130023424)===Ke&&500>Ie()-tu?Wn(e,0):eu|=n),ct(e,t)}function Up(e,t){t===0&&(e.mode&1?(t=Qo,Qo<<=1,!(Qo&130023424)&&(Qo=4194304)):t=1);var n=et();e=un(e,t),e!==null&&(Do(e,t,n),ct(e,n))}function xy(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Up(e,n)}function wy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(I(314))}r!==null&&r.delete(t),Up(e,n)}var Bp;Bp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||at.current)st=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return st=!1,ay(e,t,n);st=!!(e.flags&131072)}else st=!1,ge&&t.flags&1048576&&Vf(t,zi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Si(e,t),e=t.pendingProps;var o=Cr(t,Ze.current);Ar(t,n),o=Xa(null,t,r,e,o,n);var i=Qa();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(r)?(i=!0,bi(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ka(t),o.updater=fs,t.stateNode=o,o._reactInternals=t,Kl(t,r,e,n),t=Hl(null,t,r,!0,i,n)):(t.tag=0,ge&&i&&Da(t),Je(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Si(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=ky(r),e=Dt(r,e),o){case 0:t=Vl(null,t,r,e,n);break e;case 1:t=Dc(null,t,r,e,n);break e;case 11:t=Lc(null,t,r,e,n);break e;case 14:t=bc(null,t,r,Dt(r.type,e),n);break e}throw Error(I(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dt(r,o),Vl(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dt(r,o),Dc(e,t,r,o,n);case 3:e:{if(Ap(t),e===null)throw Error(I(387));r=t.pendingProps,i=t.memoizedState,o=i.element,Zf(e,t),Ui(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=Or(Error(I(423)),t),t=zc(e,t,r,n,o);break e}else if(r!==o){o=Or(Error(I(424)),t),t=zc(e,t,r,n,o);break e}else for(gt=An(t.stateNode.containerInfo.firstChild),vt=t,ge=!0,Ft=null,n=Qf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Nr(),r===o){t=cn(e,t,n);break e}Je(e,t,r,n)}t=t.child}return t;case 5:return Jf(t),e===null&&Ul(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,bl(r,o)?s=null:i!==null&&bl(r,i)&&(t.flags|=32),kp(e,t),Je(e,t,s,n),t.child;case 6:return e===null&&Ul(t),null;case 13:return Tp(e,t,n);case 4:return Wa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Pr(t,null,r,n):Je(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dt(r,o),Lc(e,t,r,o,n);case 7:return Je(e,t,t.pendingProps,n),t.child;case 8:return Je(e,t,t.pendingProps.children,n),t.child;case 12:return Je(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,ue(Mi,r._currentValue),r._currentValue=s,i!==null)if($t(i.value,s)){if(i.children===o.children&&!at.current){t=cn(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=on(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var g=d.pending;g===null?c.next=c:(c.next=g.next,g.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Bl(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(I(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Bl(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Je(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ar(t,n),o=Ot(o),r=r(o),t.flags|=1,Je(e,t,r,n),t.child;case 14:return r=t.type,o=Dt(r,t.pendingProps),o=Dt(r.type,o),bc(e,t,r,o,n);case 15:return wp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Dt(r,o),Si(e,t),t.tag=1,ut(r)?(e=!0,bi(t)):e=!1,Ar(t,n),vp(t,r,o),Kl(t,r,o,n),Hl(null,t,r,!0,e,n);case 19:return Ip(e,t,n);case 22:return Ep(e,t,n)}throw Error(I(156,t.tag))};function $p(e,t){return hf(e,t)}function Ey(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nt(e,t,n,r){return new Ey(e,t,n,r)}function iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ky(e){if(typeof e=="function")return iu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Aa)return 11;if(e===Ta)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=Nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ei(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")iu(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case lr:return Vn(n.children,o,i,t);case ka:s=8,o|=8;break;case pl:return e=Nt(12,n,t,o|2),e.elementType=pl,e.lanes=i,e;case ml:return e=Nt(13,n,t,o),e.elementType=ml,e.lanes=i,e;case hl:return e=Nt(19,n,t,o),e.elementType=hl,e.lanes=i,e;case Zd:return hs(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qd:s=10;break e;case Yd:s=9;break e;case Aa:s=11;break e;case Ta:s=14;break e;case pn:s=16,r=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=Nt(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Vn(e,t,n,r){return e=Nt(7,e,r,t),e.lanes=n,e}function hs(e,t,n,r){return e=Nt(22,e,r,t),e.elementType=Zd,e.lanes=n,e.stateNode={isHidden:!1},e}function Qs(e,t,n){return e=Nt(6,e,null,t),e.lanes=n,e}function Ys(e,t,n){return t=Nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ay(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ps(0),this.expirationTimes=Ps(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ps(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function su(e,t,n,r,o,i,s,u,c){return e=new Ay(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ka(i),e}function Ty(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Kp(e){if(!e)return Pn;e=e._reactInternals;e:{if(er(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var n=e.type;if(ut(n))return Kf(e,n,t)}return t}function Wp(e,t,n,r,o,i,s,u,c){return e=su(n,r,!0,e,o,i,s,u,c),e.context=Kp(null),n=e.current,r=et(),o=_n(n),i=on(r,o),i.callback=t??null,Tn(n,i,o),e.current.lanes=o,Do(e,o,r),ct(e,r),e}function gs(e,t,n,r){var o=t.current,i=et(),s=_n(o);return n=Kp(n),t.context===null?t.context=n:t.pendingContext=n,t=on(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Tn(o,t,s),e!==null&&(Bt(e,o,s,i),gi(e,o,s)),s}function Xi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Gc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lu(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}function Iy(){return null}var Vp=typeof reportError=="function"?reportError:function(e){console.error(e)};function au(e){this._internalRoot=e}ys.prototype.render=au.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));gs(e,t,null,null)};ys.prototype.unmount=au.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Zn(function(){gs(null,e,null,null)}),t[an]=null}};function ys(e){this._internalRoot=e}ys.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ef();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hn.length&&t!==0&&t<hn[n].priority;n++);hn.splice(n,0,e),n===0&&Af(e)}};function uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xc(){}function _y(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var d=Xi(s);i.call(d)}}var s=Wp(t,r,e,0,null,!1,!1,"",Xc);return e._reactRootContainer=s,e[an]=s.current,Ao(e.nodeType===8?e.parentNode:e),Zn(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var d=Xi(c);u.call(d)}}var c=su(e,0,!1,null,null,!1,!1,"",Xc);return e._reactRootContainer=c,e[an]=c.current,Ao(e.nodeType===8?e.parentNode:e),Zn(function(){gs(t,c,n,r)}),c}function Ss(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var u=o;o=function(){var c=Xi(s);u.call(c)}}gs(t,s,e,o)}else s=_y(n,t,e,o,r);return Xi(s)}xf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qr(t.pendingLanes);n!==0&&(Ca(t,n|1),ct(t,Ie()),!(te&6)&&(Rr=Ie()+500,Ln()))}break;case 13:Zn(function(){var r=un(e,1);if(r!==null){var o=et();Bt(r,e,1,o)}}),lu(e,1)}};Na=function(e){if(e.tag===13){var t=un(e,134217728);if(t!==null){var n=et();Bt(t,e,134217728,n)}lu(e,134217728)}};wf=function(e){if(e.tag===13){var t=_n(e),n=un(e,t);if(n!==null){var r=et();Bt(n,e,t,r)}lu(e,t)}};Ef=function(){return se};kf=function(e,t){var n=se;try{return se=e,t()}finally{se=n}};Tl=function(e,t,n){switch(t){case"input":if(vl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=us(r);if(!o)throw Error(I(90));qd(r),vl(r,o)}}}break;case"textarea":tf(e,n);break;case"select":t=n.value,t!=null&&xr(e,!!n.multiple,t,!1)}};uf=nu;cf=Zn;var Cy={usingClientEntryPoint:!1,Events:[Mo,dr,us,lf,af,nu]},Gr={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ny={bundleType:Gr.bundleType,version:Gr.version,rendererPackageName:Gr.rendererPackageName,rendererConfig:Gr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=pf(e),e===null?null:e.stateNode},findFiberByHostInstance:Gr.findFiberByHostInstance||Iy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var si=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!si.isDisabled&&si.supportsFiber)try{is=si.inject(Ny),Yt=si}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cy;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uu(t))throw Error(I(200));return Ty(e,t,null,n)};xt.createRoot=function(e,t){if(!uu(e))throw Error(I(299));var n=!1,r="",o=Vp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=su(e,1,!1,null,null,n,!1,r,o),e[an]=t.current,Ao(e.nodeType===8?e.parentNode:e),new au(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=pf(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return Zn(e)};xt.hydrate=function(e,t,n){if(!vs(t))throw Error(I(200));return Ss(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!uu(e))throw Error(I(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=Vp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Wp(t,null,e,1,n??null,o,!1,i,s),e[an]=t.current,Ao(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ys(t)};xt.render=function(e,t,n){if(!vs(t))throw Error(I(200));return Ss(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!vs(e))throw Error(I(40));return e._reactRootContainer?(Zn(function(){Ss(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1};xt.unstable_batchedUpdates=nu;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vs(n))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Ss(e,t,n,!1,r)};xt.version="18.3.1-next-f1338f8080-20240426";function Hp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Hp)}catch(e){console.error(e)}}Hp(),Vd.exports=xt;var Py=Vd.exports,Gp,Qc=Py;Gp=Qc.createRoot,Qc.hydrateRoot;const jy="modulepreload",Oy=function(e){return"/"+e},Yc={},Xp=function(t,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));o=Promise.allSettled(n.map(c=>{if(c=Oy(c),c in Yc)return;Yc[c]=!0;const d=c.endsWith(".css"),g=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":jy,d||(m.as="script"),m.crossOrigin="",m.href=c,u&&m.setAttribute("nonce",u),document.head.appendChild(m),d)return new Promise((h,v)=>{m.addEventListener("load",h),m.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return o.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})},a={bg:"#05070A",border:"#213043",muted:"#32435A",accent:"#39DDB6",text:"#EAF1F8",dim:"#8FA0B5",danger:"#FF5D7A",dLow:"#311520",warn:"#F7B267",wLow:"#322515",ok:"#39DDB6",purple:"#8F7BFF"},R={fontFamily:"'IBM Plex Mono','SFMono-Regular',Menlo,Monaco,monospace"},Ct=(e,t=4)=>parseFloat(e||0).toFixed(t),Uo=e=>e?`${e.slice(0,18)}...${e.slice(-6)}`:"",Ry=/^[qpzry9x8gf2tvdw0s3jn54khce6mua7l]+$/i,Qp=["kaspa","kaspatest","kaspadev","kaspasim"],Ro=(e,t=Qp)=>{const n=String(e||"").trim().toLowerCase(),r=n.indexOf(":");if(r<=0||r===n.length-1)return!1;const o=n.slice(0,r),i=n.slice(r+1);return!t.map(s=>s.toLowerCase()).includes(o)||i.length<61||i.length>63?!1:Ry.test(i)},Ly=(e,t=Qp)=>{const n=String(e||"").trim();if(!Ro(n,t))throw new Error(`Invalid Kaspa address for allowed prefixes: ${t.join(", ")}`);const r=n.toLowerCase(),o=r.indexOf(":"),i=r.slice(0,o),s=r.slice(o+1);return`${i}:${s}`},by=e=>{const t=String(e||"").toLowerCase();return t==="mainnet"?"kaspa":t.startsWith("testnet")?"kaspatest":t.startsWith("devnet")?"kaspadev":t.startsWith("simnet")?"kaspasim":"kaspa"},co=(e,t)=>{const n=Ly(e),r=n.indexOf(":"),o=n.slice(r+1);return`${by(t)}:${o}`},Dy={USD:1,EUR:.92,GBP:.79,JPY:150,CAD:1.36};function zy(e,t){const n=Dy[t];return e*n}function My(e,t){const n=zy(e,t),r=2;return new Intl.NumberFormat("en-US",{style:"currency",currency:t,maximumFractionDigits:r,minimumFractionDigits:r}).format(n)}const we={agents:"forgeos.session.agents.v2",activeAgent:"forgeos.session.activeAgent.v2",walletMeta:"forgeos.wallet.meta.v2",network:"forgeos.network",lastProvider:"forgeos.wallet.lastProvider.mainnet",autoLockMinutes:"forgeos.autolock.minutes.v1",persistUnlockSession:"forgeos.unlock.persist-session.v1",displayCurrency:"forgeos.display.currency.v1",hidePortfolioBalances:"forgeos.privacy.hide-balances.v1",kaspaRpcProviderPresetMap:"forgeos.kaspa.rpc-provider.v1",customKaspaRpcMap:"forgeos.kaspa.custom-rpc.v1"},Fy=1,Uy=24*60,Zc=-1,oa="official";function Yp(e){if(e===Zc)return Zc;if(typeof e!="number"||!Number.isFinite(e))return 15;const t=Math.floor(e);return Math.min(Uy,Math.max(Fy,t))}function rt(){return typeof chrome<"u"&&chrome.storage?chrome.storage.local:null}function Zp(e){if(typeof e!="string")return null;const t=e.trim();if(!t)return null;try{const n=new URL(t);return n.protocol!=="https:"&&n.protocol!=="http:"?null:t.replace(/\/+$/,"")}catch{return null}}function By(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();if(!o)continue;const i=Zp(r);i&&(t[o]=i)}return t}function Jp(e){return e==="igra"?"igra":e==="kasplex"?"kasplex":e==="custom"?"custom":oa}function $y(e){if(typeof e!="object"||e===null)return{};const t={};for(const[n,r]of Object.entries(e)){const o=String(n||"").trim();o&&(t[o]=Jp(r))}return t}async function Ky(){const e=rt();return e?new Promise(t=>{e.get(we.agents,n=>{try{const r=n[we.agents];if(!r)return t([]);const o=typeof r=="string"?JSON.parse(r):r;t(Array.isArray(o)?o:[])}catch{t([])}})}):[]}async function Jc(){const e=rt();return e?new Promise(t=>{e.get(we.walletMeta,n=>{try{const r=n[we.walletMeta];if(!r)return t(null);const o=typeof r=="string"?JSON.parse(r):r;t(o!=null&&o.address?o:null)}catch{t(null)}})}):null}async function ia(e){const t=rt();if(t)return new Promise(n=>{t.set({[we.walletMeta]:JSON.stringify(e)},n)})}async function cu(){const e=rt();return e?new Promise(t=>{e.get(we.network,n=>t(n[we.network]||"mainnet"))}):"mainnet"}async function Wy(e){const t=rt();if(t)return new Promise(n=>{t.set({[we.network]:e},n)})}async function Vy(){const e=rt();return e?new Promise(t=>{e.get(we.autoLockMinutes,n=>{t(Yp(n[we.autoLockMinutes]))})}):15}async function Hy(e){const t=rt();if(t)return new Promise(n=>{t.set({[we.autoLockMinutes]:Yp(e)},n)})}async function Gy(){const e=rt();return e?new Promise(t=>{e.get(we.persistUnlockSession,n=>{t(n[we.persistUnlockSession]===!0)})}):!1}async function Xy(e){const t=rt();if(t)return new Promise(n=>{t.set({[we.persistUnlockSession]:e===!0},n)})}async function Qy(){const e=rt();return e?new Promise(t=>{e.get(we.hidePortfolioBalances,n=>{t(n[we.hidePortfolioBalances]===!0)})}):!1}async function Yy(e){const t=rt();if(t)return new Promise(n=>{t.set({[we.hidePortfolioBalances]:e===!0},n)})}async function qp(){const e=rt();return e?new Promise(t=>{e.get(we.kaspaRpcProviderPresetMap,n=>{try{const r=n[we.kaspaRpcProviderPresetMap],o=typeof r=="string"?JSON.parse(r):r;t($y(o))}catch{t({})}})}):{}}async function em(e){const t=String(e||"").trim();return t?(await qp())[t]??oa:oa}async function Zs(e,t){const n=rt();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await qp();return o[r]=Jp(t),new Promise(i=>{n.set({[we.kaspaRpcProviderPresetMap]:JSON.stringify(o)},i)})}async function tm(){const e=rt();return e?new Promise(t=>{e.get(we.customKaspaRpcMap,n=>{try{const r=n[we.customKaspaRpcMap],o=typeof r=="string"?JSON.parse(r):r;t(By(o))}catch{t({})}})}):{}}async function nm(e){const t=String(e||"").trim();return t?(await tm())[t]??null:null}async function qc(e,t){const n=rt();if(!n)return;const r=String(e||"").trim();if(!r)return;const o=await tm();if(t===null||t.trim()==="")delete o[r];else{const i=Zp(t);if(!i)throw new Error("INVALID_RPC_ENDPOINT");o[r]=i}return new Promise(i=>{n.set({[we.customKaspaRpcMap]:JSON.stringify(o)},i)})}const li={mainnet:["https://api.kaspa.org"],"testnet-10":["https://api-tn10.kaspa.org"],"testnet-11":["https://api-tn11.kaspa.org"],"testnet-12":["https://api-tn12.kaspa.org"]};function Pt(e,t){var o,i;const n=(i=(o=import.meta)==null?void 0:o.env)==null?void 0:i[e];if(typeof n!="string"||!n.trim())return t;const r=n.split(/[,\s]+/).map(s=>s.trim()).filter(Boolean).filter((s,u,c)=>c.indexOf(s)===u);return r.length?r:t}const Sn={mainnet:Pt("VITE_KASPA_MAINNET_API_ENDPOINTS",li.mainnet),"testnet-10":Pt("VITE_KASPA_TN10_API_ENDPOINTS",li["testnet-10"]),"testnet-11":Pt("VITE_KASPA_TN11_API_ENDPOINTS",li["testnet-11"]),"testnet-12":Pt("VITE_KASPA_TN12_API_ENDPOINTS",li["testnet-12"])},Zy={mainnet:Pt("VITE_KASPA_IGRA_MAINNET_API_ENDPOINTS",[]),"testnet-10":Pt("VITE_KASPA_IGRA_TN10_API_ENDPOINTS",[]),"testnet-11":Pt("VITE_KASPA_IGRA_TN11_API_ENDPOINTS",[]),"testnet-12":Pt("VITE_KASPA_IGRA_TN12_API_ENDPOINTS",[])},Jy={mainnet:Pt("VITE_KASPA_KASPLEX_MAINNET_API_ENDPOINTS",[]),"testnet-10":Pt("VITE_KASPA_KASPLEX_TN10_API_ENDPOINTS",[]),"testnet-11":Pt("VITE_KASPA_KASPLEX_TN11_API_ENDPOINTS",[]),"testnet-12":Pt("VITE_KASPA_KASPLEX_TN12_API_ENDPOINTS",[])};Sn.mainnet[0],Sn["testnet-10"][0],Sn["testnet-11"][0],Sn["testnet-12"][0];const qy=12e3,e0=2,t0=600;function rm(e){return e===408||e===429||e>=500}const n0=4,r0=3e4,fo={},Js={};function Lo(e){return Js[e]||(Js[e]={lastOkAt:0,lastFailAt:0,consecutiveFails:0,lastLatencyMs:0,lastStatus:0,lastError:""}),Js[e]}function o0(e,t,n=200){const r=Lo(e);r.lastOkAt=Date.now(),r.consecutiveFails=0,r.lastLatencyMs=t,r.lastStatus=n,r.lastError=""}function ed(e,t,n=0){const r=Lo(e);r.lastFailAt=Date.now(),r.consecutiveFails+=1,r.lastStatus=n,r.lastError=t}function Qi(e){fo[e]||(fo[e]={state:"closed",failures:0,openAt:0});const t=fo[e];return t.state==="open"&&Date.now()-t.openAt>r0&&(t.state="half-open"),t}function i0(e){const t=fo[e];t&&(t.failures=0,t.state="closed")}function s0(e){const t=fo[e];t&&(t.failures++,t.failures>=n0&&(t.state="open",t.openAt=Date.now()))}function l0(e){const t=n=>(Sn[n]??Sn.mainnet).map(o=>{const i=Qi(o),s=Lo(o);return{base:o,circuit:i.state,failures:i.failures,lastOkAt:s.lastOkAt,lastFailAt:s.lastFailAt,consecutiveFails:s.consecutiveFails,lastLatencyMs:s.lastLatencyMs,lastStatus:s.lastStatus,lastError:s.lastError}});return e?t(e):{mainnet:t("mainnet"),"testnet-10":t("testnet-10"),"testnet-11":t("testnet-11"),"testnet-12":t("testnet-12")}}function qs(e){return[...e].sort((n,r)=>{const o=Qi(n),i=Qi(r);if(o.state==="open"&&i.state!=="open")return 1;if(i.state==="open"&&o.state!=="open")return-1;const s=Lo(n),u=Lo(r);return s.lastOkAt!==u.lastOkAt?u.lastOkAt-s.lastOkAt:s.consecutiveFails!==u.consecutiveFails?s.consecutiveFails-u.consecutiveFails:0})}function a0(e,t){const n=Sn[e]??Sn.mainnet;if(t==="igra"){const r=Zy[e]??[];return r.length?r:n}if(t==="kasplex"){const r=Jy[e]??[];return r.length?r:n}return n}async function u0(e){let t="official";try{t=await em(e)}catch{t="official"}const n=[...a0(e,t)];if(t!=="custom")return qs(n);let r=null;try{r=await nm(e)}catch{r=null}if(r){const o=n.filter(i=>i!==r);return qs([r,...o])}return qs(n)}async function c0(e,t,n){if(Qi(e).state==="open")throw new xn(`Circuit open for ${e}  backing off`,503);let o=null;for(let i=0;i<=e0;i++){i>0&&await new Promise(d=>setTimeout(d,t0*2**(i-1)));const s=new AbortController,u=setTimeout(()=>s.abort(),qy),c=Date.now();try{const d=await fetch(`${e}${t}`,{...n,signal:s.signal});if(clearTimeout(u),!d.ok){const m=await d.text().catch(()=>"");throw ed(e,`HTTP ${d.status}`,d.status),new xn(`HTTP ${d.status}: ${m.slice(0,120)}`,d.status)}const g=await d.json();return i0(e),o0(e,Date.now()-c,d.status),g}catch(d){if(clearTimeout(u),d instanceof xn&&!rm(d.status))throw d;const g=d instanceof Error?d.message:String(d);ed(e,g),o=d instanceof Error?d:new Error(String(d))}}throw s0(e),o??new xn("Unknown API error",0)}async function tr(e,t,n){const r=await u0(e);let o=null;for(const i of r)try{return await c0(i,t,n)}catch(s){if(s instanceof xn&&!rm(s.status))throw s;o=s instanceof Error?s:new Error(String(s))}throw o??new xn("Unknown API error",0)}class xn extends Error{constructor(t,n){super(t),this.status=n,this.name="KaspaApiError"}}const d0={mainnet:10,"testnet-10":10,"testnet-11":32,"testnet-12":10};async function f0(e,t="mainnet"){return tr(t,`/addresses/${encodeURIComponent(e)}/utxos`)}async function p0(e,t="mainnet"){const n=await tr(t,`/addresses/${encodeURIComponent(e)}/balance`);return BigInt((n==null?void 0:n.balance)??0)}async function m0(e="mainnet"){try{const t=await tr(e,"/info/price?stringOnly=false");return(t==null?void 0:t.price)??0}catch{return 0}}async function h0(e="mainnet"){var t;try{const n=await tr(e,"/info/fee-estimate");return((t=n==null?void 0:n.priorityBucket)==null?void 0:t.feerate)??1}catch{return 1}}async function sa(e,t,n="mainnet"){const r=await h0(n),o=239+142*e+51*t;return BigInt(Math.max(Math.ceil(o*r),1e3))}async function g0(e,t="mainnet"){const n=await tr(t,"/transactions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=(n==null?void 0:n.transactionId)??(n==null?void 0:n.txid)??"";if(!r)throw new xn("Broadcast succeeded but no txId returned",200);return r}async function om(e,t="mainnet"){try{return await tr(t,`/transactions/${e}`)}catch(n){if(n instanceof xn&&n.status===404)return null;throw n}}async function y0(e="mainnet"){try{return await tr(e,"/info/blockdag")}catch{return null}}async function v0(e,t="mainnet"){const n=await p0(e,t);return Number(n)/1e8}async function S0(e="mainnet"){return m0(e)}const qe=Object.freeze({path:"m/44'/111'",account:0,chain:0,index:0}),du=Object.freeze(["m/44'/111'","m/44'/972'"]);function td(e,t){const n=typeof e=="number"?e:Number(e);return!Number.isFinite(n)||n<0?t:Math.floor(n)}function x0(e){const t=String(e??"").trim();return t?t.startsWith("m")?t:`m/${t}`:qe.path}function lt(e){return{path:x0(e==null?void 0:e.path),account:td(e==null?void 0:e.account,qe.account),chain:(e==null?void 0:e.chain)===1?1:0,index:td(e==null?void 0:e.index,qe.index)}}function zt(e){const t=lt(e);return`${t.path}/${t.account}'/${t.chain}/${t.index}`}function fu(e){return e===1?"change":"receive"}function w0(e){const n=String(e||"").trim().match(/^(m(?:\/\d+'?)*)\/(\d+)'\s*\/([01])\s*\/(\d+)$/i);if(!n)throw new Error("Invalid derivation path. Expected format like m/44'/111'/0'/0/0");return lt({path:n[1],account:Number(n[2]),chain:Number(n[3]),index:Number(n[4])})}const E0=6e5,k0=["encrypt","decrypt"];async function im(e,t){const n=new TextEncoder,r=await crypto.subtle.importKey("raw",n.encode(e),{name:"PBKDF2"},!1,["deriveKey"]);return crypto.subtle.deriveKey({name:"PBKDF2",salt:t,iterations:E0,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,k0)}function nd(e){return crypto.getRandomValues(new Uint8Array(e))}function el(e){if(e.length%2!==0)throw new Error("Invalid hex string length");const t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2)t[n>>1]=parseInt(e.slice(n,n+2),16);return t}function tl(e){return Array.from(e).map(t=>t.toString(16).padStart(2,"0")).join("")}async function A0(e,t,n){const r=await crypto.subtle.encrypt({name:"AES-GCM",iv:t},e,n);return new Uint8Array(r)}async function T0(e,t,n){const r=await crypto.subtle.decrypt({name:"AES-GCM",iv:t},e,n);return new Uint8Array(r)}const la="forgeos.vault.v1",Yi="forgeos.vault.session-cache.v1",pu=-1,mu=15;let dt=null;function sm(e){return!Number.isFinite(e)||e<=0?Number.POSITIVE_INFINITY:Date.now()+e*6e4}function I0(e){return Number.isFinite(e)?e:pu}function _0(e){return e===pu?Number.POSITIVE_INFINITY:typeof e!="number"||!Number.isFinite(e)?null:e}function Zi(e){try{if(!Number.isFinite(e)||e<=0){chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"});return}chrome.runtime.sendMessage({type:"SCHEDULE_AUTOLOCK",minutes:e})}catch{}}function jn(){return dt?Date.now()>dt.autoLockAt?(xs(),Fr(),null):dt:null}function xs(){if(dt){try{dt.mnemonic=""}catch{}dt=null}}function hu(){return chrome.storage.local}function gu(){var t;return((t=chrome.storage)==null?void 0:t.session)??null}async function yu(){return new Promise(e=>{hu().get(la,t=>{try{const n=t[la];if(!n)return e(null);e(JSON.parse(n))}catch{e(null)}})})}async function C0(e){return new Promise(t=>{hu().set({[la]:JSON.stringify(e)},t)})}async function vu(e){const t=gu();if(t)return new Promise(n=>{t.set({[Yi]:{version:1,mnemonic:e.mnemonic,mnemonicPassphrase:e.mnemonicPassphrase,derivation:e.derivation,address:e.address,network:e.network,autoLockAt:I0(e.autoLockAt)}},n)})}async function Fr(){const e=gu();if(e)return new Promise(t=>{e.remove(Yi,t)})}async function N0(){const e=gu();return e?new Promise(t=>{e.get(Yi,n=>{const r=n==null?void 0:n[Yi];if(!r||typeof r!="object"){t(null);return}const o=_0(r.autoLockAt);if(o===null){t(null);return}const i=typeof r.mnemonic=="string"?r.mnemonic:"",s=typeof r.address=="string"?r.address:"",u=typeof r.network=="string"?r.network:"";if(!i||!s||!u){t(null);return}t({mnemonic:i,mnemonicPassphrase:typeof r.mnemonicPassphrase=="string"?r.mnemonicPassphrase:void 0,derivation:lt(r.derivation??qe),address:s,network:u,autoLockAt:o})})}):null}async function lm(){return await yu()!==null}async function Ji(e,t,n,r,o={}){var v;const i=nd(32),s=nd(12),u=await im(t,i),c=lt(o.derivation??qe),d={version:1,mnemonic:e,mnemonicPassphrase:o.mnemonicPassphrase||void 0,derivation:c,address:n,network:r,derivationPath:`${c.path}/${c.account}'`,addressIndex:c.index},g=new TextEncoder().encode(JSON.stringify(d)),m=await A0(u,s,g),h={version:1,kdf:"pbkdf2",salt:tl(i),iterations:6e5,hash:"SHA-256",iv:tl(s),ciphertext:tl(m),createdAt:((v=await yu())==null?void 0:v.createdAt)??Date.now(),updatedAt:Date.now()};await C0(h)}async function Jn(e,t=mu,n={}){const r=await yu();if(!r)throw new Error("NO_VAULT");const o=el(r.salt),i=el(r.iv),s=el(r.ciphertext),u=await im(e,o);let c;try{c=await T0(u,i,s)}catch{throw new Error("INVALID_PASSWORD")}const d=JSON.parse(new TextDecoder().decode(c));return dt={mnemonic:d.mnemonic,mnemonicPassphrase:typeof d.mnemonicPassphrase=="string"?d.mnemonicPassphrase:void 0,derivation:lt(d.derivation??{path:"m/44'/111'",account:0,chain:0,index:typeof d.addressIndex=="number"?d.addressIndex:0}),address:d.address,network:d.network,autoLockAt:sm(t)},Zi(t),n.persistSession?await vu(dt):await Fr(),dt}async function am(){const e=await N0();if(!e)return null;if(Date.now()>e.autoLockAt)return await Fr(),null;if(dt=e,Number.isFinite(e.autoLockAt)){const t=Math.max(0,(e.autoLockAt-Date.now())/6e4);Zi(t)}else Zi(pu);return dt}async function um(e){if(!e){await Fr();return}const t=jn();t&&await vu(t)}function cm(){xs(),Fr();try{chrome.runtime.sendMessage({type:"CANCEL_AUTOLOCK"})}catch{}}async function dm(e,t){if(t.length<8)throw new Error("WEAK_PASSWORD");const n=await Jn(e);await Ji(n.mnemonic,t,n.address,n.network,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation}),xs(),await Jn(t)}async function fm(){xs(),await Fr(),await new Promise(e=>hu().clear(e))}function ki(e=mu,t={}){dt&&(dt.autoLockAt=sm(e),Zi(e),t.persistSession&&vu(dt))}const P0=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_AUTO_LOCK_MINUTES:mu,changePassword:dm,createVault:Ji,extendSession:ki,getSession:jn,lockWallet:cm,resetWallet:fm,restoreSessionFromCache:am,setSessionPersistence:um,unlockVault:Jn,vaultExists:lm},Symbol.toStringTag,{value:"Module"})),j0="/kaspa_wasm_bg.wasm";let ai=null,ui=null;function O0(e){var t,n,r,o;return e!=null&&e.Mnemonic?e:(t=e==null?void 0:e.default)!=null&&t.Mnemonic?e.default:(n=e==null?void 0:e.k)!=null&&n.Mnemonic?e.k:(o=(r=e==null?void 0:e.k)==null?void 0:r.default)!=null&&o.Mnemonic?e.k.default:e}async function R0(){globalThis.__forgeosKaspaWasmBytes||(ui||(ui=(async()=>{const e=await fetch(j0);if(!e.ok)throw new Error(`WASM_FETCH_FAILED: ${e.status} ${e.statusText}`);const t=await e.arrayBuffer();globalThis.__forgeosKaspaWasmBytes=new Uint8Array(t)})().catch(e=>{throw ui=null,e})),await ui)}async function Su(){return ai||(ai=(async()=>{try{await R0();const e=await Xp(()=>import("../../kaspa_wasm.js").then(r=>r.k),[]),t=O0(e),n=t.default||t.init;if(typeof n=="function")try{await n()}catch{}return t}catch(e){const t=e instanceof Error?e.message:String(e);throw new Error(`KASPA_WASM_INIT_FAILED: ${t}`)}})().catch(e=>{throw ai=null,e})),ai}const L0=new Set([12,15,18,21,24]),pm=Su;function xu(e){return e.trim().toLowerCase().split(/\s+/).join(" ")}function wu(e){const t=e.trim().split(/\s+/).filter(Boolean);if(!L0.has(t.length))throw new Error(`Seed phrase must be a valid BIP39 length (12/15/18/21/24 words; got ${t.length}).`)}async function Eu(e,t){const n=await pm(),{Mnemonic:r,XPrv:o}=n,s=new r(e).toSeed(t.mnemonicPassphrase||void 0),u=new o(s);return{kaspa:n,masterXPrv:u}}function b0(e,t){try{return e.derivePath(t)}catch(n){if(t.startsWith("m/"))try{return e.derivePath(t.slice(2))}catch{}const r=n instanceof Error?n.message:String(n);throw new Error(`DERIVATION_PATH_INVALID: ${t} (${r})`)}}function ku(e,t){const n=lt(t),{XPrivateKey:r}=e.kaspa,i=b0(e.masterXPrv,n.path).intoString("kprv"),s=new r(i,!1,BigInt(n.account));return{privKey:n.chain===1?s.changeKey(n.index):s.receiveKey(n.index),derivation:n}}function mm(e,t){return e.toKeypair().toAddress(t).toString()}async function hm(e,t,n={}){const r=await Eu(e,n),{privKey:o,derivation:i}=ku(r,n.derivation);return{address:mm(o,t),derivation:i}}async function D0(e,t=24){const{Mnemonic:n}=await pm();let r;try{r=n.random(t)}catch{r=n.random()}const o=r.phrase,{address:i,derivation:s}=await hm(o,e,{derivation:qe});return{phrase:o,address:i,network:e,derivation:s}}async function rd(e,t,n={}){wu(e);const r=xu(e),o=n.mnemonicPassphrase||void 0,{address:i,derivation:s}=await hm(r,t,n);return{phrase:r,address:i,network:t,mnemonicPassphrase:o,derivation:s}}async function z0(e,t,n={}){var k,E;wu(e);const r=xu(e),o=((k=n.basePaths)!=null&&k.length?n.basePaths:[...du]).map(w=>String(w).trim()).filter(Boolean),[i,s]=n.accountRange??[0,4],[u,c]=n.indexRange??[0,9],d=((E=n.chains)!=null&&E.length?n.chains:[0,1]).filter(w=>w===0||w===1),g=Math.max(1,n.limit??60),m=await Eu(r,n),h=[],v=new Set;e:for(let w=Math.max(0,i);w<=Math.max(i,s);w++)for(const f of d)for(let p=Math.max(0,u);p<=Math.max(u,c);p++)for(const y of o){const S=lt({path:y,account:w,chain:f,index:p});try{const{privKey:C}=ku(m,S),_=mm(C,t),O=_.toLowerCase();if(v.has(O))continue;if(v.add(O),h.push({address:_,derivation:S,derivationPath:zt(S),chainLabel:fu(S.chain)}),h.length>=g)break e}catch{}}return h}async function M0(e,t,n={}){var m;wu(e);const r=xu(e),o=await Eu(r,n),{privKey:i}=ku(o,n.derivation),s=new TextEncoder().encode(t),{PrivateKey:u}=o.kaspa,c=i.toKeypair();let d;try{const h=c.privateKey??((m=c.toPrivateKey)==null?void 0:m.call(c));d=new u(h)}catch{d=i}const g=d.sign(s);return Array.from(g,h=>h.toString(16).padStart(2,"0")).join("")}const F0=3e4,Au=new Map;function U0(e){return String(e||"").trim().toLowerCase()}function B0(e,t){if(e!==0)return!1;const n=U0(t);return/^20[0-9a-f]{64}ac$/.test(n)}function $0(e,t){return B0(e,t)?"standard":"covenant"}function K0(e){const t=Au.get(e.toLowerCase());return!t||Date.now()-t.lastSyncAt>F0?null:t}function W0(e){Au.delete(e.toLowerCase())}function V0(e){const t=e.utxoEntry.scriptPublicKey.version,n=e.utxoEntry.scriptPublicKey.scriptPublicKey;return{txId:e.outpoint.transactionId,outputIndex:e.outpoint.index,address:e.address,amount:BigInt(e.utxoEntry.amount),scriptPublicKey:n,scriptVersion:t,scriptClass:$0(t,n),blockDaaScore:BigInt(e.utxoEntry.blockDaaScore),isCoinbase:e.utxoEntry.isCoinbase}}async function gm(e,t,n=new Set,r=0n){const i=(await f0(e,t)).map(V0),s=i.reduce((c,d)=>c+d.amount,0n),u={address:e.toLowerCase(),utxos:i,confirmedBalance:s,pendingOutbound:r,lastSyncAt:Date.now()};return Au.set(e.toLowerCase(),u),u}async function Tu(e,t,n,r){const o=K0(e);return o||gm(e,t,n,r)}function od(e,t,n,r=new Set){const o=e.filter(d=>!r.has(`${d.txId}:${d.outputIndex}`)),i=o.filter(d=>(d.scriptClass??"standard")==="standard").sort((d,g)=>g.amount>d.amount?1:g.amount<d.amount?-1:0),s=t+n;let u=0n;const c=[];for(const d of i)if(c.push(d),u+=d.amount,u>=s)break;if(u<s)throw o.reduce((g,m)=>g+m.amount,0n)>=s?new Error("COVENANT_ONLY_FUNDS"):new Error("INSUFFICIENT_FUNDS");return{selected:c,total:u}}function Bn(e){return Number(e)/1e8}function H0(e){return BigInt(Math.floor(e*1e8))}const aa="forgeos.pending.txs.v1",G0=7*24*60*60*1e3;let Qt=[],id=!1;function ym(e){return["CONFIRMED","FAILED","CANCELLED"].includes(e.state)}async function vm(){return new Promise(e=>{const t=Qt.map(Y0);chrome.storage.local.set({[aa]:JSON.stringify(t)},e)})}async function Iu(){return id?Qt:(id=!0,new Promise(e=>{chrome.storage.local.get(aa,t=>{try{const n=t[aa];if(!n){e([]);return}const r=JSON.parse(n).map(Z0),o=Date.now()-G0;Qt=r.filter(i=>!(ym(i)&&i.builtAt<o))}catch{Qt=[]}e(Qt)})}))}async function Sm(e){await Iu(),Qt.push(e),await vm()}async function ht(e){await Iu();const t=Qt.findIndex(n=>n.id===e.id);t>=0?Qt[t]=e:Qt.push(e),await vm()}async function X0(e){return await Iu(),Qt.filter(t=>t.fromAddress.toLowerCase()===e.toLowerCase()&&!ym(t))}async function Q0(e){const t=await X0(e),n=new Set;for(const r of t)for(const o of r.inputs)n.add(`${o.txId}:${o.outputIndex}`);return n}function Y0(e){return{...e,fee:e.fee.toString(),changeOutput:e.changeOutput?{...e.changeOutput,amount:e.changeOutput.amount.toString()}:null,outputs:e.outputs.map(t=>({...t,amount:t.amount.toString()})),inputs:e.inputs.map(t=>({...t,amount:t.amount.toString(),blockDaaScore:t.blockDaaScore.toString()}))}}function Z0(e){return{...e,fee:BigInt(e.fee),changeOutput:e.changeOutput?{...e.changeOutput,amount:BigInt(e.changeOutput.amount)}:null,outputs:e.outputs.map(t=>({...t,amount:BigInt(t.amount)})),inputs:e.inputs.map(t=>({...t,amount:BigInt(t.amount),blockDaaScore:BigInt(t.blockDaaScore),scriptClass:t.scriptClass==="covenant"?"covenant":"standard"}))}}var Pd;const nl=((Pd=import.meta)==null?void 0:Pd.env)??{};function _u(e,t,n,r){const o=Number(nl==null?void 0:nl[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}const J0=_u("VITE_EXT_TX_FEE_SAFETY_BPS",11500,1e4,3e4),sd=BigInt(_u("VITE_EXT_TX_FEE_MIN_SOMPI",1e3,1,1e9)),ld=BigInt(_u("VITE_EXT_TX_FEE_MAX_SOMPI",2e8,1e3,5e9));function ad(e){const t=(e*BigInt(J0)+9999n)/10000n;return t<sd?sd:t>ld?ld:t}function q0(e){return null}const ev=Su;async function xm(e,t,n,r){const o=H0(n);if(o<=0n)throw new Error("AMOUNT_TOO_SMALL");const i=q0(),s=o+(i??0n),u=i?3:2,c=await Q0(e),d=await Tu(e,r),g=ad(await sa(1,u,r)),{selected:m,total:h}=od(d.utxos,s,g,c),v=ad(await sa(m.length,u,r));let k=m,E=h;if(h<s+v){const S=od(d.utxos,s,v,c);k=S.selected,E=S.total}const w=E-s-v,f=[{address:t,amount:o}],p=w>0n?{address:e,amount:w}:null;return{id:crypto.randomUUID(),state:"BUILDING",fromAddress:e,network:r,inputs:k,outputs:f,changeOutput:p,fee:v,platformFee:i??void 0,builtAt:Date.now()}}async function tv(e){const t=await ev(),n=t.UtxoEntry,r=e.inputs.map(d=>{const g={address:d.address,outpoint:{transactionId:d.txId,index:d.outputIndex},amount:d.amount,scriptPublicKey:{version:d.scriptVersion,scriptPublicKey:d.scriptPublicKey},blockDaaScore:d.blockDaaScore,isCoinbase:d.isCoinbase};if(n)try{return new n(g)}catch{return g}return g}),o=e.outputs.map(d=>({address:d.address,amount:d.amount})),i={entries:r,outputs:o,changeAddress:e.fromAddress,priorityFee:{sompi:e.fee},networkId:e.network},s=t.Generator;if(!s)throw new Error("WASM_GENERATOR_UNAVAILABLE: kaspa-wasm Generator class not found. Ensure kaspa-wasm  0.13.0 is installed.");const c=new s(i).next();if(!c)throw new Error("GENERATOR_EMPTY: Generator produced no transaction. Check UTXO availability.");return c}const nv={mainnet:"kaspa:","testnet-10":"kaspatest:","testnet-11":"kaspatest:","testnet-12":"kaspatest:"};async function wm(e){var c,d;const t=[];let n;try{const g=e.inputs.filter(h=>(h.scriptClass??"standard")==="covenant");g.length>0&&t.push(`COVENANT_INPUT_UNSUPPORTED: ${g.length} covenant UTXO(s) require covenant-aware spend logic`),n=await Tu(e.fromAddress,e.network);const m=new Set(n.utxos.map(h=>`${h.txId}:${h.outputIndex}`));for(const h of e.inputs){const v=`${h.txId}:${h.outputIndex}`;m.has(v)||t.push(`UTXO_SPENT: input ${v} no longer available`)}}catch{t.push("UTXO_FETCH_FAILED: could not verify input availability")}let r;try{r=await sa(e.inputs.length,e.outputs.length+(e.changeOutput?1:0),e.network),e.fee<r&&t.push(`FEE_TOO_LOW: estimated ${e.fee.toString()} sompi, network requires ${r.toString()} sompi`)}catch{r=e.fee}const o=e.inputs.reduce((g,m)=>g+m.amount,0n),i=e.outputs.reduce((g,m)=>g+m.amount,0n),s=((c=e.changeOutput)==null?void 0:c.amount)??0n;o!==i+s+e.fee&&t.push(`BALANCE_MISMATCH: inputs=${o} != outputs=${i} + change=${s} + fee=${e.fee}`);for(const g of e.outputs)Ro(g.address)||t.push(`INVALID_ADDRESS: "${g.address}" is not a valid Kaspa address`);e.changeOutput&&!Ro(e.changeOutput.address)&&t.push(`INVALID_CHANGE_ADDRESS: "${e.changeOutput.address}"`);const u=nv[e.network];if(u){for(const g of e.outputs)g.address.toLowerCase().startsWith(u)||t.push(`NETWORK_MISMATCH: output address "${g.address}" does not match network "${e.network}"`);e.changeOutput&&!e.changeOutput.address.toLowerCase().startsWith(u)&&t.push(`NETWORK_MISMATCH: change address "${e.changeOutput.address}" does not match network "${e.network}"`)}return{valid:t.length===0,estimatedFee:r??e.fee,changeAmount:((d=e.changeOutput)==null?void 0:d.amount)??0n,errors:t}}const rv=Su;async function Em(e){const t=jn();if(!t||!t.mnemonic)throw new Error("WALLET_LOCKED");const n=await rv(),{Mnemonic:r,XPrv:o,XPrivateKey:i}=n;let s=null;try{const u=lt(t.derivation??qe),d=new r(t.mnemonic).toSeed(t.mnemonicPassphrase||void 0),g=new o(d);let m=g;try{m=g.derivePath(u.path)}catch(y){if(u.path.startsWith("m/"))m=g.derivePath(u.path.slice(2));else throw y}const h=m.intoString("kprv"),v=new i(h,!1,BigInt(u.account)),k=u.chain===1?v.changeKey(u.index):v.receiveKey(u.index),E=k.toKeypair();if(s=E.privateKey??(typeof E.toPrivateKey=="function"?E.toPrivateKey():null),!s){const y=n.PrivateKey,S=typeof k.toString=="function"?k.toString("hex"):null;y&&S&&(s=new y(S))}if(!s)throw new Error("PRIVKEY_UNAVAILABLE: Could not extract PrivateKey from keypair. Verify kaspa-wasm version compatibility.");const w=await tv(e);await w.sign([s]);let f;typeof w.serializeToObject=="function"?f=JSON.stringify({transaction:w.serializeToObject()}):typeof w.toJSON=="function"?f=w.toJSON():f=JSON.stringify({transaction:w});const p=w.id;return{...e,state:"SIGNED",signedTxPayload:f,txId:p,signedAt:Date.now()}}catch(u){const c=u instanceof Error?u.message:String(u);throw new Error(`SIGN_FAILED: ${c}`)}finally{s=null}}const ov=1e3,iv=5*6e4;async function km(e){if(e.txId)return console.info(`[broadcast] tx ${e.id} already has txId=${e.txId}; skipping re-broadcast`),{...e,state:"CONFIRMING"};if(!e.signedTxPayload)throw new Error("NOT_SIGNED");let t;try{t=JSON.parse(e.signedTxPayload)}catch{throw new Error("BROADCAST_FAILED: signedTxPayload is not valid JSON")}let n;try{n=await g0(t,e.network)}catch(o){const i=o instanceof Error?o.message:String(o),s={...e,state:"FAILED",error:`BROADCAST_FAILED: ${i}`};throw await ht(s),new Error(`BROADCAST_FAILED: ${i}`)}const r={...e,state:"BROADCASTING",txId:n,broadcastAt:Date.now(),signedTxPayload:void 0};return await ht(r),W0(e.fromAddress),{...r,state:"CONFIRMING"}}async function sv(e,t=()=>{}){if(!e.txId)throw new Error("NO_TXID: cannot poll without txId");const n=Date.now()+iv;let r={...e,state:"CONFIRMING"};for(;Date.now()<n;){await lv(ov);try{const o=await om(e.txId,e.network);if(o!=null&&o.acceptingBlockHash)return r={...r,state:"CONFIRMED",confirmations:1,confirmedAt:Date.now(),signedTxPayload:void 0},await ht(r),t(r),r}catch{}}throw r={...r,state:"FAILED",error:"CONFIRM_TIMEOUT: transaction not confirmed within 5 minutes"},await ht(r),t(r),new Error(r.error)}function lv(e){return new Promise(t=>setTimeout(t,e))}async function av(e,t){const n=await km(e);return t(n),sv(n,t).catch(()=>{}),n}const ud=!0,uv=!1,Am={tokens:{KAS:{id:"KAS",symbol:"KAS",name:"Kaspa",decimals:8,assetId:null,enabled:!0,disabledReason:null},USDT:{id:"USDT",symbol:"USDT",name:"Tether USD",decimals:6,assetId:null,enabled:ud,disabledReason:null},USDC:{id:"USDC",symbol:"USDC",name:"USD Coin",decimals:6,assetId:null,enabled:ud,disabledReason:null},ZRX:{id:"ZRX",symbol:"0x",name:"0x Protocol",decimals:18,assetId:null,enabled:uv,disabledReason:"0x route is disabled in this wallet build."}}};function cd(e){var t;return((t=Am.tokens[e])==null?void 0:t.enabled)??!1}function Tm(){return Object.values(Am.tokens)}const cv={default:a.border,accent:a.accent,warn:a.warn,danger:a.danger,purple:a.purple,success:a.ok},dv={default:"rgba(143,160,181,0.08)",accent:"rgba(57,221,182,0.12)",warn:"rgba(247,178,103,0.12)",danger:"rgba(255,93,122,0.12)",purple:"rgba(143,123,255,0.12)",success:"rgba(57,221,182,0.1)"},$n={padding:"13px 15px 15px",display:"flex",flexDirection:"column",gap:11,minWidth:0};function Lr(){return{backgroundColor:a.bg,backgroundImage:["radial-gradient(120% 95% at 50% -8%, rgba(57,221,182,0.18) 0%, rgba(57,221,182,0.05) 40%, transparent 72%)","radial-gradient(88% 86% at 92% 100%, rgba(57,221,182,0.12) 0%, transparent 70%)","radial-gradient(80% 90% at 8% 88%, rgba(23,64,74,0.3) 0%, transparent 74%)","linear-gradient(165deg, #0b141f 0%, #070e16 52%, #05090f 100%)","repeating-linear-gradient(0deg, transparent 0px, transparent 31px, rgba(57,221,182,0.06) 32px)","repeating-linear-gradient(90deg, transparent 0px, transparent 31px, rgba(57,221,182,0.05) 32px)"].join(", "),backgroundSize:"auto, auto, auto, auto, 32px 32px, 32px 32px",backgroundPosition:"center, center, center, center, center, center"}}function $e(e="default",t=!1){const n=cv[e],r=dv[e];return{background:"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)",border:`1px solid ${e==="default"?a.border:`${n}32`}`,borderRadius:12,padding:t?"10px 12px":"12px 14px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.04), 0 10px 22px rgba(0,0,0,0.22)",position:"relative",overflow:"hidden",minWidth:0,overflowWrap:"anywhere",backgroundImage:[`radial-gradient(circle at 100% 0%, ${r}, transparent 46%)`,"linear-gradient(155deg, rgba(11,17,24,0.92) 0%, rgba(8,13,20,0.86) 100%)"].join(", ")}}function je(){return{background:"linear-gradient(180deg, rgba(5,7,10,0.62), rgba(7,11,16,0.72))",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0,overflowWrap:"anywhere"}}const yt={fontSize:8,color:a.dim,letterSpacing:"0.14em",fontWeight:700,...R},Hn={fontSize:10,color:a.text,fontWeight:700,letterSpacing:"0.08em",...R};function Im(e=1){return{height:1,background:`rgba(33,48,67,${.9*e})`}}function ne(e=a.dim,t=!1){return{background:t?"linear-gradient(180deg, rgba(14,22,32,0.9), rgba(9,14,20,0.9))":"rgba(16,25,35,0.55)",border:`1px solid ${e===a.dim?a.border:`${e}40`}`,borderRadius:8,color:e,cursor:"pointer",fontSize:10,fontWeight:700,letterSpacing:"0.08em",...R,boxShadow:t?"0 6px 14px rgba(0,0,0,0.18)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function Kn(e=!0){return{background:e?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:"rgba(33,48,67,0.55)",color:e?"#04110E":a.dim,border:"none",borderRadius:8,cursor:e?"pointer":"not-allowed",fontSize:10,fontWeight:700,letterSpacing:"0.08em",...R,boxShadow:e?"0 8px 18px rgba(57,221,182,0.16)":void 0,whiteSpace:"normal",lineHeight:1.2,textAlign:"center"}}function _m(e=!1){return{width:"100%",boxSizing:"border-box",background:"linear-gradient(180deg, rgba(8,13,20,0.82), rgba(9,14,21,0.9))",border:`1px solid ${e?a.danger:a.border}`,borderRadius:8,padding:"9px 11px",color:a.text,fontSize:10,...R,outline:"none",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.02)",minWidth:0}}const dd={mainnet:"https://explorer.kaspa.org","testnet-10":"https://explorer-tn10.kaspa.org","testnet-11":"https://explorer-tn11.kaspa.org","testnet-12":"https://explorer-tn12.kaspa.org"};function fv({address:e,balance:t,usdPrice:n,network:r,hideBalances:o=!1,onOpenSwap:i,mode:s,onModeConsumed:u,onBalanceInvalidated:c}){const[d,g]=x.useState("idle"),[m,h]=x.useState(!1),[v,k]=x.useState(""),[E,w]=x.useState(""),[f,p]=x.useState(null),[y,S]=x.useState([]),[C,_]=x.useState(null),[O,N]=x.useState(null),[H,V]=x.useState(!1),[J,he]=x.useState([]),[ce,_e]=x.useState(!1),[Me,Y]=x.useState(null),[de,P]=x.useState(null),[z,F]=x.useState(0);x.useEffect(()=>{s==="send"&&(g("form"),h(!1),u==null||u()),s==="receive"&&(h(!0),g("idle"),u==null||u())},[s]),x.useEffect(()=>{let j=!0;const M=async(He=!1)=>{if(!e){if(!j)return;he([]),Y(null),P(null),_e(!1);return}if(j){_e(!0),He&&Y(null);try{const Le=He?await gm(e,r):await Tu(e,r);if(!j)return;const T=[...Le.utxos].sort((K,re)=>K.amount===re.amount?0:K.amount>re.amount?-1:1);he(T),P(Date.now()),Y(null)}catch(Le){if(!j)return;Y(Le instanceof Error?Le.message:"Failed to load UTXOs.")}finally{j&&_e(!1)}}};M(!0).catch(()=>{});const le=window.setInterval(()=>{M(!1).catch(()=>{})},25e3);return()=>{j=!1,clearInterval(le)}},[e,r,z]);const $=jn(),X=!!($!=null&&$.mnemonic),oe=r==="mainnet"?"kaspa:":"kaspatest:",ie=Ro(v)&&v.toLowerCase().startsWith(oe),Q=parseFloat(E),Pe=Q>0&&(t===null||Q<=t),U=ie&&Pe,fe=async()=>{if(!e||!U)return;g("building"),S([]),N(null);let j;try{j=await xm(e,v.trim(),Q,r),await Sm(j),p(j)}catch(M){const le=M instanceof Error?M.message:String(M);N(le==="INSUFFICIENT_FUNDS"?"Insufficient balance including fees.":le==="COVENANT_ONLY_FUNDS"?"Funds are currently locked in covenant outputs. Standard send only spends standard UTXOs.":`Build failed: ${le}`),g("error");return}g("dry_run");try{const M=await wm(j);if(!M.valid){S(M.errors),g("error"),await ht({...j,state:"DRY_RUN_FAIL",error:M.errors.join("; ")});return}const le={...j,state:"DRY_RUN_OK",fee:M.estimatedFee};p(le),await ht(le)}catch(M){N(`Validation failed: ${M instanceof Error?M.message:String(M)}`),g("error");return}g("confirm")},ke=async()=>{if(!f||!X)return;g("signing");let j;try{j=await Em(f),p(j),await ht(j)}catch(M){const le=M instanceof Error?M.message:String(M);N(le==="WALLET_LOCKED"?"Wallet locked  please unlock first.":`Signing failed: ${le}`),g("error");return}g("broadcast");try{await av(j,async M=>{p(M),await ht(M),M.state==="CONFIRMED"&&(_(M.txId??null),g("done"),F(le=>le+1),c==null||c()),M.state==="FAILED"&&(N(M.error??"Transaction failed."),g("error"))})}catch(M){N(M instanceof Error?M.message:"Transaction timed out awaiting confirmation."),g("error")}},W=async()=>{f&&await ht({...f,state:"CANCELLED"}),Et()},Et=()=>{g("idle"),p(null),S([]),N(null),_(null)},Kt=async()=>{if(e)try{await navigator.clipboard.writeText(e),V(!0),setTimeout(()=>V(!1),2e3)}catch{}},ot=[...Tm()].sort((j,M)=>j.id==="KAS"?-1:M.id==="KAS"?1:0),ft={KAS:"../icons/kaspa-logo.png",USDT:"../icons/usdt.png",USDC:"../icons/usdc.png"},Ce={KAS:t??0,USDT:0,USDC:0,ZRX:0},Fe=dd[r]??dd.mainnet,kt=e?`${Fe}/addresses/${e}`:Fe,Wt=J.reduce((j,M)=>j+M.amount,0n),Lt=Bn(Wt),Ve=J.length?Bn(J[0].amount):0,At=J.filter(j=>(j.scriptClass??"standard")==="covenant").length,B=J.length-At,A=de?new Date(de).toLocaleTimeString([],{hour12:!1}):"",D=j=>o?"":j,q=(j,M)=>o?" KAS":`${Ct(j,M)} KAS`,ye=(j,M)=>o?"$":`$${Ct(j,M)}`;return l.jsxs("div",{style:$n,children:[l.jsxs("div",{style:{...$e("purple"),background:"linear-gradient(165deg, rgba(10,18,28,0.96) 0%, rgba(7,13,22,0.93) 52%, rgba(5,10,18,0.94) 100%)",border:`1px solid ${a.accent}3A`,boxShadow:"inset 0 1px 0 rgba(255,255,255,0.06), 0 12px 26px rgba(0,0,0,0.28), 0 0 24px rgba(57,221,182,0.09)"},children:[l.jsx("div",{style:{position:"absolute",top:-32,right:-26,width:130,height:130,borderRadius:"50%",background:"radial-gradient(circle, rgba(57,221,182,0.26) 0%, rgba(57,221,182,0.05) 48%, transparent 75%)",pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",inset:0,pointerEvents:"none",backgroundImage:"repeating-linear-gradient(0deg, transparent 0px, transparent 23px, rgba(57,221,182,0.05) 24px), repeating-linear-gradient(90deg, transparent 0px, transparent 23px, rgba(57,221,182,0.04) 24px)",opacity:.45}}),l.jsx("div",{style:{marginBottom:11,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,position:"relative"},children:l.jsx("div",{style:yt,children:"TOKEN BALANCES"})}),ot.map((j,M)=>{const le=ft[j.id]??ft.KAS,He=j.id==="KAS",Le=He?48:30,T=He?40:20,K=Ce[j.id]??0,re=j.id==="KAS"?Ct(K,4):Ct(K,2),Jt=D(re);return l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",background:"linear-gradient(160deg, rgba(15,24,36,0.86), rgba(8,14,22,0.88))",border:`1px solid ${a.border}`,borderRadius:12,padding:"10px 11px",marginTop:M>0?8:0,opacity:He||j.enabled?1:.58,position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:Le,height:Le,borderRadius:"50%",flexShrink:0,background:"transparent",display:"flex",alignItems:"center",justifyContent:"center",border:"none",boxShadow:"none",overflow:"hidden"},children:l.jsx("img",{src:le,alt:`${j.symbol} logo`,style:{width:T,height:T,objectFit:"contain",borderRadius:"50%",filter:"none"}})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,letterSpacing:"0.05em",...R},children:j.symbol}),l.jsx("div",{style:{fontSize:9,color:a.dim,letterSpacing:"0.03em"},children:j.name})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:18,fontWeight:700,color:a.text},children:Jt}),!j.enabled&&j.disabledReason&&l.jsx("div",{style:{fontSize:8,color:a.dim,maxWidth:140,lineHeight:1.35,marginTop:3},children:j.disabledReason})]})]},j.id)}),e&&l.jsx("div",{style:{marginTop:11,textAlign:"right",position:"relative",zIndex:1},children:l.jsx("button",{onClick:()=>chrome.tabs.create({url:kt}),style:{...ne(a.accent,!0),padding:"6px 9px",fontSize:9,color:a.accent},children:"EXPLORER "})})]}),l.jsxs("div",{style:$e("default"),children:[l.jsxs("div",{style:{marginBottom:9,display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsx("div",{style:yt,children:"UTXO SET"}),l.jsx("button",{onClick:()=>F(j=>j+1),disabled:ce,style:{...ne(a.accent,!0),padding:"5px 8px",fontSize:8,color:a.accent},children:ce?"SYNC":"REFRESH"})]}),l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:9},children:[l.jsxs("div",{style:{...je(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"COUNT"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...R},children:J.length})]}),l.jsxs("div",{style:{...je(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"TOTAL"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...R},children:q(Lt,4)})]}),l.jsxs("div",{style:{...je(),flex:1,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.08em"},children:"LARGEST"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:700,...R},children:q(Ve,4)})]})]}),At>0&&l.jsxs("div",{style:{...je(),fontSize:8,color:a.warn,padding:"8px 10px",marginBottom:8,lineHeight:1.45},children:["Covenant outputs detected: ",At,". Standard send currently uses spendable UTXOs only (",B," available)."]}),ce&&J.length===0&&l.jsxs("div",{style:{...je(),fontSize:8,color:a.dim,padding:"9px 10px"},children:["Fetching UTXOs from ",r,""]}),!ce&&J.length===0&&!Me&&l.jsxs("div",{style:{...je(),fontSize:8,color:a.dim,padding:"9px 10px"},children:["No UTXOs found for this wallet on ",r,"."]}),Me&&l.jsx("div",{style:{...je(),fontSize:8,color:a.danger,padding:"9px 10px",marginBottom:J.length?8:0},children:Me}),J.length>0&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[J.slice(0,6).map((j,M)=>{const le=Bn(j.amount);return l.jsx("div",{style:{...je(),padding:"8px 9px"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8},children:[l.jsxs("div",{style:{minWidth:0},children:[l.jsxs("div",{style:{fontSize:8,color:a.dim,...R,letterSpacing:"0.04em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:["#",M+1," ",j.txId.slice(0,16),":",j.outputIndex]}),l.jsxs("div",{style:{fontSize:8,color:a.muted,marginTop:2},children:["DAA ",j.blockDaaScore.toString()," ",j.isCoinbase?" COINBASE":""," ",(j.scriptClass??"standard")==="covenant"?" COVENANT":""]})]}),l.jsx("div",{style:{fontSize:11,color:a.accent,fontWeight:700,...R},children:q(le,4)})]})},`${j.txId}:${j.outputIndex}`)}),J.length>6&&l.jsxs("div",{style:{fontSize:8,color:a.dim,textAlign:"right",paddingTop:1},children:["+",J.length-6," more UTXOs"]})]}),l.jsx("div",{style:{...Im(),margin:"9px 0 6px"}}),l.jsxs("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.06em",textAlign:"right"},children:["UPDATED ",A]})]}),d==="idle"&&!m&&e&&l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:()=>g("form"),style:rl(),children:"SEND"}),l.jsx("button",{onClick:()=>h(!0),style:rl(),children:"RECEIVE"}),l.jsx("button",{onClick:()=>i?i():chrome.tabs.create({url:"https://forge-os.xyz"}),style:rl(),children:"SWAP"})]}),d==="form"&&l.jsxs("div",{style:vr(),children:[l.jsxs("div",{style:{display:"flex",alignItems:"baseline",justifyContent:"space-between",marginBottom:6},children:[l.jsx("div",{style:Hn,children:"SEND KAS"}),l.jsxs("div",{style:{display:"flex",gap:8},children:[t!==null&&l.jsxs("div",{style:{fontSize:8,color:a.dim},children:["Bal: ",q(t,2),n>0?`  ${ye(t*n,2)}`:""]}),l.jsx("button",{onClick:()=>g("idle"),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...R},children:""})]})]}),!X&&l.jsx("div",{style:{...je(),fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.4},children:"External wallet: signing opens in Forge-OS."}),l.jsx("input",{value:v,onChange:j=>k(j.target.value),placeholder:`Recipient ${oe}qp`,style:fd(!!(v&&!ie))}),v&&!ie&&l.jsx("div",{style:{fontSize:8,color:a.danger},children:v.toLowerCase().startsWith(oe)?"Invalid Kaspa address":`Must start with "${oe}" on ${r}`}),l.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[l.jsx("input",{value:E,onChange:j=>w(j.target.value),placeholder:"Amount (KAS)",type:"number",min:"0",style:{...fd(!1),paddingRight:48}}),t!==null&&t>0&&l.jsx("button",{onClick:()=>{const j=Math.max(0,t-.01);w(j>0?String(parseFloat(j.toFixed(4))):"")},style:{position:"absolute",right:6,background:`${a.accent}20`,border:`1px solid ${a.accent}50`,borderRadius:4,padding:"2px 6px",color:a.accent,fontSize:8,fontWeight:700,cursor:"pointer",...R,letterSpacing:"0.06em"},children:"MAX"})]}),Q>0&&n>0&&l.jsxs("div",{style:{fontSize:8,color:a.dim},children:[" ",ye(Q*n,2)]}),l.jsx("button",{onClick:X?fe:()=>chrome.tabs.create({url:`https://forge-os.xyz?send=1&to=${encodeURIComponent(v)}&amount=${encodeURIComponent(E)}`}),disabled:!U,style:ol(U),children:X?"PREVIEW SEND ":"OPEN IN FORGE-OS "})]}),(d==="building"||d==="dry_run")&&l.jsx(il,{icon:"",title:d==="building"?"SELECTING INPUTS":"VALIDATING",sub:d==="building"?"Fetching UTXOs and estimating network fee.":"Running 5 security checks.",color:a.accent}),d==="confirm"&&f&&l.jsx(pv,{tx:f,usdPrice:n,onConfirm:ke,onCancel:W}),d==="signing"&&l.jsx(il,{icon:"",title:"SIGNING",sub:"Deriving key and signing inputs with kaspa-wasm.",color:a.warn}),d==="broadcast"&&l.jsx(il,{icon:"",title:"BROADCASTING",sub:`Polling for confirmation. TxID: ${f!=null&&f.txId?f.txId.slice(0,20)+"":"pending"}`,color:a.accent}),d==="done"&&l.jsxs("div",{style:{...vr(),background:`${a.ok}0A`,borderColor:`${a.ok}30`},children:[l.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700,marginBottom:6},children:" TRANSACTION CONFIRMED"}),C&&l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"Transaction ID"}),l.jsx("div",{style:{fontSize:8,color:a.text,wordBreak:"break-all",marginBottom:8},children:C}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`${Fe}/txs/${C}`}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...R},children:"View on Explorer "})]}),l.jsx("button",{onClick:Et,style:{...ol(!0),marginTop:10,background:`${a.ok}20`,color:a.ok},children:"DONE"})]}),d==="error"&&l.jsxs("div",{style:{...vr(),background:a.dLow,borderColor:`${a.danger}40`},children:[l.jsx("div",{style:{fontSize:9,color:a.danger,fontWeight:700,marginBottom:6},children:"TRANSACTION FAILED"}),O&&l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:O}),y.map((j,M)=>l.jsxs("div",{style:{fontSize:8,color:a.danger,marginBottom:2},children:[" ",j]},M)),l.jsx("button",{onClick:Et,style:{...ol(!0),marginTop:8,background:a.dLow,border:`1px solid ${a.danger}50`,color:a.danger},children:"TRY AGAIN"})]}),m&&e&&l.jsxs("div",{style:vr(),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6},children:[l.jsx("div",{style:Hn,children:"RECEIVE KAS"}),l.jsx("button",{onClick:()=>h(!1),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...R},children:""})]}),l.jsx("div",{style:{...je(),fontSize:8,color:a.dim,lineHeight:1.6,wordBreak:"break-all",marginBottom:6},children:e}),l.jsx("button",{onClick:Kt,style:{...ne(H?a.ok:a.dim,!0),padding:"7px 8px",color:H?a.ok:a.dim,width:"100%"},children:H?" COPIED":"COPY ADDRESS"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:4},children:"Send KAS to this address from any Kaspa wallet. Transactions confirm at BlockDAG speed."})]})]})}const vr=()=>({...$e("default"),display:"flex",flexDirection:"column",gap:7}),fd=e=>({..._m(e)}),rl=e=>({...ne(a.dim,!0),flex:1,padding:"8px 0",textTransform:"uppercase",letterSpacing:"0.1em"}),ol=e=>({...Kn(e),padding:"9px",width:"100%"});function il({icon:e,title:t,sub:n,color:r}){return l.jsxs("div",{style:{...vr(),textAlign:"center"},children:[l.jsx("div",{style:{fontSize:20},children:e}),l.jsx("div",{style:{fontSize:9,color:r,fontWeight:700,letterSpacing:"0.1em"},children:t}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:n})]})}function pv({tx:e,usdPrice:t,onConfirm:n,onCancel:r}){var m;const o=e.outputs[0],i=o?Bn(o.amount):0,s=Bn(e.fee),u=e.platformFee?Bn(e.platformFee):0,c=e.changeOutput?Bn(e.changeOutput.amount):0,d=i+s+u,g=(h,v,k=a.text,E)=>l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",marginBottom:5},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim},children:[h,E&&l.jsx("span",{style:{fontSize:8,color:a.muted,marginLeft:4},children:E})]}),l.jsx("span",{style:{fontSize:9,color:k,fontWeight:700},children:v})]});return l.jsxs("div",{style:{...vr(),borderColor:`${a.accent}30`},children:[l.jsx("div",{style:{...Hn,color:a.accent},children:"CONFIRM TRANSACTION"}),l.jsxs("div",{style:je(),children:[g("TO",(m=e.outputs[0])!=null&&m.address?e.outputs[0].address.slice(0,22)+"":""),g("AMOUNT",`${Ct(i,4)} KAS${t>0?`  $${Ct(i*t,2)}`:""}`),g("NETWORK FEE",`${Ct(s,8)} KAS`,a.warn," miners"),u>0&&g("PLATFORM FEE",`${Ct(u,6)} KAS`,a.dim," treasury"),c>0&&g("CHANGE",`${Ct(c,4)} KAS`,a.dim),l.jsx("div",{style:{...Im(),margin:"6px 0"}}),g("TOTAL COST",`${Ct(d,4)} KAS`,a.accent)]}),l.jsx("div",{style:{fontSize:8,color:a.warn,lineHeight:1.5},children:" Kaspa transactions are irreversible once confirmed."}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:r,style:{...ne(a.dim,!0),flex:1,padding:"8px 0"},children:"CANCEL"}),l.jsx("button",{onClick:n,style:{...Kn(!0),flex:2,padding:"8px 0"},children:"SIGN & SEND "})]})]})}function po(e){return e&&typeof e=="object"?e:{}}function en(...e){for(const t of e)if(typeof t=="string"&&t.trim())return t.trim();return""}function pd(e){if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=e.replace(/[$,\s]/g,""),n=Number(t);if(Number.isFinite(n))return n}return 0}function rr(e){if(typeof e=="number"&&Number.isFinite(e)&&e>0)return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t)&&t>0)return t}return 0}function mv(e){if(typeof e!="string")return null;const t=e.trim().toLowerCase();return t.startsWith("kaspa:")?"mainnet":t.startsWith("kaspatest:")?"testnet":null}function mo(e,t="unknown"){const n=String(e??"").trim().toLowerCase().replace(/_/g,"-");if(n.includes("mainnet")||n==="main"||n==="livenet")return"mainnet";if(n.includes("testnet-12")||n==="tn12")return"testnet-12";if(n.includes("testnet-11")||n==="tn11")return"testnet-11";if(n.includes("testnet-10")||n==="tn10")return"testnet-10";if(n==="testnet"||n.startsWith("tn")||n.startsWith("testnet"))return"testnet";if(n==="kaspa")return"mainnet";if(n==="kaspatest")return"testnet";const r=String(t??"").trim().toLowerCase().replace(/_/g,"-");return r==="mainnet"?"mainnet":r==="testnet-12"||r==="tn12"?"testnet-12":r==="testnet-10"||r==="tn10"?"testnet-10":r==="testnet-11"||r==="tn11"?"testnet-11":r.startsWith("testnet")||r.startsWith("tn")?"testnet":"unknown"}function hv(e,t){const n=po(e.wallet),r=po(e.deployTx),o=po(e.meta),i=en(e.network,n.network,r.network,o.network);if(i)return mo(i,"unknown");const s=en(n.address,e.address,r.from,r.to),u=mv(s);return mo(u||t,"unknown")}function gv(e){const t=e.toLowerCase();return t==="autonomous"||t==="auto"||t==="bot"}function yv(e){const t=e.toLowerCase();return t==="active"||t==="running"||t==="live"}function vv(e,t){const n=po(e),r=po(n.wallet),o=Date.now(),i=en(n.agentId,n.id,n.name)||`agent_${o}_${Math.random().toString(36).slice(2,8)}`,s=en(n.name,n.agentName)||"Agent",u=en(n.strategyLabel,n.strategy,n.strategyTemplate)||"",c=en(n.risk)||"",g=en(n.capitalLimit,n.capital_limit)||null,m=en(n.execMode,n.mode)||"manual",h=en(n.status)||"idle",v=hv(n,t),k=pd(n.pnlUsd)||pd(n.pnl),E=Math.max(rr(n.updatedAt),rr(n.lastActionTime),rr(n.lastDecisionTs),rr(n.lastSeenAt),rr(n.deployedAt),rr(r.updatedAt)),w=E>0&&o-E<=5*60*1e3,f=gv(m),p=yv(h)||f||w;return{id:i,name:s,strategy:u,risk:c,capitalLimitKas:g,execMode:m,status:h,isBot:f,isActive:p,pnlUsd:k,network:v,updatedAt:E,raw:n}}function Sv(e,t){const n=[];for(const r of e){const o=vv(r,t);if(o&&n.push(o),n.length>=64)break}return n.sort((r,o)=>r.isActive!==o.isActive?r.isActive?-1:1:o.updatedAt-r.updatedAt),n}function xv(e,t,n){if(t==="all")return!0;if(t==="mainnet")return e==="mainnet";if(t==="testnet-12")return e==="testnet-12"||e==="testnet";if(t==="testnet-10")return e==="testnet-10"||e==="testnet";if(t==="testnet-11")return e==="testnet-11"||e==="testnet";const r=mo(n,"unknown");return r==="mainnet"?e==="mainnet":r==="testnet-12"?e==="testnet-12"||e==="testnet":r==="testnet-10"?e==="testnet-10"||e==="testnet":r==="testnet-11"?e==="testnet-11"||e==="testnet":r==="testnet"?e==="testnet"||e==="testnet-10"||e==="testnet-11"||e==="testnet-12":!0}function wv(e,t,n,r){return e.filter(o=>!(!xv(o.network,t,r)||n==="bots"&&!o.isBot||n==="manual"&&o.isBot))}function Cm(e){return e==="mainnet"?"MAINNET":e==="testnet-12"?"TN12":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet"?"TESTNET":"UNKNOWN"}const Ev="forgeos.session.agents.v2";function sl(e,t){if(!e||e<=0)return"No recent heartbeat";const n=Math.max(0,t-e);return n<1e3?"just now":n<6e4?`${Math.floor(n/1e3)}s ago`:n<36e5?`${Math.floor(n/6e4)}m ago`:n<864e5?`${Math.floor(n/36e5)}h ago`:`${Math.floor(n/864e5)}d ago`}function md(e,t){if(e==="current"){const n=mo(t,"unknown");return`CURRENT (${Cm(n)})`}return e==="mainnet"?"MAINNET":e==="testnet-12"?"TN12":e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":"ALL"}function hd(e){return e==="all"?"ALL MODES":e==="bots"?"BOTS":"MANUAL"}function kv({network:e}){const[t,n]=x.useState([]),[r,o]=x.useState(!0),[i,s]=x.useState("current"),[u,c]=x.useState("all"),[d,g]=x.useState(0),[m,h]=x.useState(Date.now()),v=x.useCallback(async()=>{const w=await Ky();n(Sv(w,e)),g(Date.now()),o(!1)},[e]);x.useEffect(()=>{v().catch(()=>o(!1))},[v]),x.useEffect(()=>{const w=setInterval(()=>{v().catch(()=>{}),h(Date.now())},5e3);return()=>clearInterval(w)},[v]),x.useEffect(()=>{const w=(f,p)=>{p==="local"&&Ev in f&&v().catch(()=>{})};return chrome.storage.onChanged.addListener(w),()=>chrome.storage.onChanged.removeListener(w)},[v]),x.useEffect(()=>{const w=f=>{(f==null?void 0:f.type)==="FORGEOS_AGENTS_UPDATED"&&v().catch(()=>{})};return chrome.runtime.onMessage.addListener(w),()=>chrome.runtime.onMessage.removeListener(w)},[v]);const k=x.useMemo(()=>wv(t,i,u,e),[t,u,e,i]),E=x.useMemo(()=>{const w=k.length,f=k.filter(S=>S.isBot).length,p=k.filter(S=>S.isActive).length,y=k.reduce((S,C)=>S+C.pnlUsd,0);return{total:w,bots:f,active:p,pnlUsd:y}},[k]);return r?l.jsx("div",{style:{...$n,paddingTop:20,fontSize:9,color:a.dim,textAlign:"center"},children:"Loading agents"}):k.length===0?l.jsxs("div",{style:{...$n,gap:10},children:[l.jsxs("div",{style:$e("default",!0),children:[l.jsx("div",{style:{...yt,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET FILTERS"}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","testnet-12","all"].map(w=>{const f=w===i;return l.jsx("button",{onClick:()=>s(w),style:{...ne(f?a.accent:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.accent}55`:a.border},children:md(w,e)},w)})}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(w=>{const f=w===u;return l.jsx("button",{onClick:()=>c(w),style:{...ne(f?a.ok:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.ok}55`:a.border},children:hd(w)},w)})})]}),l.jsxs("div",{style:{...$n,...$e("accent"),padding:"20px 18px",textAlign:"center",gap:14,alignItems:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}14`,border:`1px solid ${a.accent}35`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:22,boxShadow:"0 8px 18px rgba(57,221,182,0.12)"},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{...Hn,fontSize:11,marginBottom:6},children:"No Agents In This Filter"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6,maxWidth:220},children:"Live refresh runs every 5 seconds. Switch filters or deploy a new bot on Forge-OS."}),l.jsxs("div",{style:{fontSize:8,color:a.muted,marginTop:7},children:["Last sync ",d>0?sl(d,m):"never"]})]}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:10,padding:"10px 20px",color:"#04110E",fontSize:9,fontWeight:700,cursor:"pointer",...R,letterSpacing:"0.1em",boxShadow:"0 8px 18px rgba(57,221,182,0.16)"},children:"OPEN FORGE-OS "})]})]}):l.jsxs("div",{style:{...$n,paddingTop:10,gap:8},children:[l.jsxs("div",{style:$e("default",!0),children:[l.jsx("div",{style:{...yt,marginBottom:7},children:"LIVE AGENT FEED  TESTNET/MAINNET OPTIONS"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, minmax(0, 1fr))",gap:6,marginBottom:8},children:[l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"VISIBLE"}),l.jsx("div",{style:{fontSize:10,color:a.text,fontWeight:700},children:E.total})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"BOTS"}),l.jsx("div",{style:{fontSize:10,color:a.accent,fontWeight:700},children:E.bots})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"ACTIVE"}),l.jsx("div",{style:{fontSize:10,color:a.ok,fontWeight:700},children:E.active})]}),l.jsxs("div",{style:{background:"rgba(16,25,35,0.45)",border:`1px solid ${a.border}`,borderRadius:7,padding:"6px 7px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim},children:"P&L USD"}),l.jsxs("div",{style:{fontSize:10,color:E.pnlUsd>=0?a.ok:a.danger,fontWeight:700},children:[E.pnlUsd>=0?"+":"-","$",Ct(Math.abs(E.pnlUsd),2)]})]})]}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:7},children:["current","mainnet","testnet-10","testnet-11","testnet-12","all"].map(w=>{const f=w===i;return l.jsx("button",{onClick:()=>s(w),style:{...ne(f?a.accent:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.accent}55`:a.border},children:md(w,e)},w)})}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:["all","bots","manual"].map(w=>{const f=w===u;return l.jsx("button",{onClick:()=>c(w),style:{...ne(f?a.ok:a.dim),padding:"5px 7px",fontSize:8,background:f?`${a.ok}20`:"rgba(16,25,35,0.45)",borderColor:f?`${a.ok}55`:a.border},children:hd(w)},w)})})]}),l.jsxs("div",{style:{...yt,marginBottom:2},children:["LIVE UPDATE  LAST SYNC ",d>0?sl(d,m).toUpperCase():"NEVER"]}),k.map(w=>{const f=w.pnlUsd>=0,p=String(w.execMode||"manual").toUpperCase(),y=w.isActive?a.ok:a.warn;return l.jsxs("div",{style:{...$e(w.isActive?"accent":"default",!0),borderColor:w.isActive?`${a.accent}40`:a.border,padding:"10px 12px"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:6,gap:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,minWidth:0},children:[l.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:y,flexShrink:0}}),l.jsx("span",{style:{fontSize:10,fontWeight:700,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:w.name})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:4,flexWrap:"wrap",justifyContent:"flex-end"},children:[l.jsx("span",{style:{fontSize:8,color:a.dim,...R,background:"rgba(16,25,35,0.65)",border:`1px solid ${a.border}`,borderRadius:3,padding:"2px 5px"},children:Cm(w.network)}),l.jsx("span",{style:{fontSize:8,color:w.isBot?a.accent:a.dim,...R,background:w.isBot?`${a.accent}18`:"rgba(16,25,35,0.65)",border:`1px solid ${w.isBot?`${a.accent}50`:a.border}`,borderRadius:3,padding:"2px 5px"},children:w.isBot?"BOT":"MANUAL"}),l.jsx("span",{style:{fontSize:8,color:w.isActive?a.ok:a.warn,fontWeight:700,...R,background:w.isActive?`${a.ok}15`:`${a.warn}15`,border:`1px solid ${w.isActive?a.ok:a.warn}30`,borderRadius:3,padding:"2px 5px"},children:p})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"STRATEGY"}),l.jsx("div",{style:{fontSize:8,color:a.text,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:w.strategy})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"P&L (USD)"}),l.jsxs("div",{style:{fontSize:8,color:f?a.ok:a.danger,fontWeight:700},children:[f?"+":"","$",Ct(Math.abs(w.pnlUsd),2)]})]}),w.capitalLimitKas&&l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"CAPITAL"}),l.jsxs("div",{style:{fontSize:8,color:a.text},children:[w.capitalLimitKas," KAS"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"LAST HEARTBEAT"}),l.jsx("div",{style:{fontSize:8,color:a.text},children:sl(w.updatedAt,m)})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:1},children:"RISK"}),l.jsx("div",{style:{fontSize:8,color:a.text},children:String(w.risk||"").toUpperCase()})]})]})]},w.id)}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:`https://forge-os.xyz?network=${encodeURIComponent(e)}`}),style:{...ne(a.dim,!0),padding:"8px 10px",marginTop:2},children:"MANAGE LIVE ON FORGE-OS "})]})}function Av({address:e,network:t,isManagedWallet:n,autoLockMinutes:r,persistUnlockSessionEnabled:o,onAutoLockMinutesChange:i,onPersistUnlockSessionChange:s,onLock:u}){const[c,d]=x.useState("none"),[g,m]=x.useState([]),[h,v]=x.useState(""),[k,E]=x.useState(null),[w,f]=x.useState(!1),[p,y]=x.useState(""),[S,C]=x.useState(""),[_,O]=x.useState(""),[N,H]=x.useState(null),[V,J]=x.useState(!1),[he,ce]=x.useState(!1),[_e,Me]=x.useState(!1),[Y,de]=x.useState(!1),[P,z]=x.useState("official"),[F,$]=x.useState(""),[X,oe]=x.useState(!1),[ie,Q]=x.useState(null),[Pe,U]=x.useState(!1),fe={official:"OFFICIAL",igra:"IGRA",kasplex:"KASPLEX",custom:"CUSTOM"},ke=n?"managed":e?"watch-only":"none",W=[{label:"1m",value:1},{label:"15m",value:15},{label:"1h",value:60},{label:"4h",value:240},{label:"Never",value:-1}];x.useEffect(()=>{let B=!0;return oe(!0),Q(null),U(!1),Promise.all([nm(t),em(t)]).then(([A,D])=>{B&&($(A??""),z(D))}).catch(()=>{B&&Q("Failed to load RPC settings.")}).finally(()=>{B&&oe(!1)}),()=>{B=!1}},[t]);const Et=async B=>{B.preventDefault(),E(null),f(!0);try{const A=await Jn(h,r,{persistSession:o});m(A.mnemonic.split(" ")),v("")}catch(A){const D=A instanceof Error?A.message:String(A);E(D==="INVALID_PASSWORD"?"Incorrect password.":"Authentication failed."),v("")}finally{f(!1)}},Kt=()=>{m([]),v(""),E(null),d("none")},ot=async B=>{if(B.preventDefault(),H(null),S.length<8){H("New password must be at least 8 characters.");return}if(S!==_){H("New passwords do not match.");return}if(S===p){H("New password must differ from current password.");return}ce(!0);try{await dm(p,S),J(!0),y(""),C(""),O("")}catch(A){const D=A instanceof Error?A.message:String(A);H(D==="INVALID_PASSWORD"?"Current password is incorrect.":D==="WEAK_PASSWORD"?"New password is too short (min 8 chars).":"Failed to change password. Try again.")}finally{ce(!1)}},ft=async()=>{if(!_e){Me(!0);return}await fm(),u()},Ce=(B=!1)=>({..._m(B)}),Fe=()=>{d("none"),m([]),v(""),E(null),y(""),C(""),O(""),H(null),J(!1),Me(!1)},kt=async B=>{de(!0);try{await i(B)}finally{de(!1)}},Wt=async()=>{de(!0);try{await s(!o)}finally{de(!1)}},Lt=async B=>{oe(!0),Q(null),U(!1);try{await Zs(t,B),z(B),U(!0)}catch{Q("Failed to save RPC provider preset.")}finally{oe(!1)}},Ve=async()=>{oe(!0),Q(null),U(!1);try{await qc(t,F.trim()||null),await Zs(t,"custom"),z("custom"),U(!0),F.trim()||$("")}catch(B){const A=B instanceof Error?B.message:String(B);Q(A==="INVALID_RPC_ENDPOINT"?"Invalid endpoint URL. Use http(s)://...":"Failed to save custom RPC endpoint.")}finally{oe(!1)}},At=async()=>{oe(!0),Q(null),U(!1);try{await qc(t,null),await Zs(t,"official"),z("official"),$(""),U(!0)}catch{Q("Failed to clear custom RPC endpoint.")}finally{oe(!1)}};return l.jsxs("div",{style:$n,children:[l.jsxs("div",{style:$e("default"),children:[l.jsx("div",{style:{...yt,marginBottom:8},children:"CONNECTION STATUS"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"PROVIDER"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5},children:[l.jsx("div",{style:{width:5,height:5,borderRadius:"50%",background:e?a.ok:a.warn}}),l.jsx("span",{style:{fontSize:9,color:a.text,fontWeight:700},children:ke.toUpperCase()})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"NETWORK"}),l.jsx("span",{style:{fontSize:8,color:t==="mainnet"?a.warn:a.ok,fontWeight:700,background:t==="mainnet"?`${a.warn}15`:`${a.ok}15`,border:`1px solid ${t==="mainnet"?a.warn:a.ok}30`,borderRadius:3,padding:"2px 6px"},children:t.toUpperCase()})]}),e&&l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:3},children:"ADDRESS"}),l.jsx("div",{style:{...je(),fontSize:8,color:a.text,padding:"7px 9px"},children:Uo(e)})]})]})]}),l.jsxs("div",{style:$e("default"),children:[l.jsx("div",{style:{...yt,marginBottom:8},children:"KASPA RPC ENDPOINT"}),l.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:7},children:["Active network: ",l.jsx("span",{style:{color:a.text,fontWeight:700},children:t.toUpperCase()})]}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:8},children:Object.keys(fe).map(B=>{const A=P===B;return l.jsx("button",{onClick:()=>{Lt(B)},disabled:X,style:{...ne(A?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:A?a.accent:a.dim,opacity:X?.7:1},children:fe[B]},B)})}),l.jsx("input",{value:F,onChange:B=>{$(B.target.value),U(!1),Q(null)},placeholder:t==="mainnet"?"https://your-mainnet-kaspa-rpc.example":"https://your-kaspa-rpc.example",disabled:X||P!=="custom",style:{...Ce(!!ie),marginBottom:7}}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:()=>{Ve()},disabled:X||P!=="custom",style:{...ne(a.accent,!0),flex:1,padding:"7px 8px",color:a.accent,opacity:X?.7:1},children:X?"SAVING":"SAVE RPC"}),l.jsx("button",{onClick:()=>{At()},disabled:X,style:{...ne(a.dim,!0),flex:1,padding:"7px 8px",color:a.dim,opacity:X?.7:1},children:"CLEAR"})]}),ie&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:ie}),!ie&&Pe&&l.jsx("div",{style:{fontSize:8,color:a.ok,marginTop:6},children:"Saved RPC settings for this network."}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:6},children:"Presets are stored per network. Igra/Kasplex pools read from env (`VITE_KASPA_IGRA_*` / `VITE_KASPA_KASPLEX_*`) and fall back to Official if unset."})]}),n&&l.jsxs("div",{style:$e("default"),children:[l.jsx("div",{style:{...yt,marginBottom:8},children:"SESSION SETTINGS"}),l.jsxs("div",{style:{marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5,letterSpacing:"0.08em"},children:"AUTO-LOCK"}),l.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:W.map(B=>l.jsx("button",{disabled:Y,onClick:()=>{kt(B.value)},style:{...ne(r===B.value?a.accent:a.dim,!0),padding:"6px 8px",fontSize:8,color:r===B.value?a.accent:a.dim,opacity:Y?.7:1},children:B.label},B.value))})]}),l.jsx("button",{onClick:()=>{Wt()},disabled:Y,style:{...ne(o?a.ok:a.dim,!0),width:"100%",padding:"8px 10px",color:o?a.ok:a.dim,textAlign:"left",opacity:Y?.7:1},children:o?" KEEP UNLOCKED WHEN POPUP CLOSES":"KEEP UNLOCKED WHEN POPUP CLOSES"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginTop:6},children:"Stores an unlocked session only in browser session memory; lock manually on shared devices."})]}),n&&l.jsxs(l.Fragment,{children:[c==="none"&&l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:7},children:[l.jsx("button",{onClick:()=>d("reveal"),style:ll(a.accent),children:" REVEAL SEED PHRASE"}),l.jsx("button",{onClick:()=>d("change_pw"),style:ll(a.dim),children:" CHANGE PASSWORD"}),l.jsx("button",{onClick:()=>d("reset"),style:ll(a.danger),children:" RESET WALLET"})]}),c==="reveal"&&l.jsxs("div",{style:{...$e("warn")},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:{...Hn,color:a.warn},children:"SEED PHRASE"}),l.jsx("button",{onClick:Kt,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...R},children:" close"})]}),g.length===0?l.jsxs("form",{onSubmit:Et,children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:6,lineHeight:1.5},children:"Enter your password to view your seed phrase. Never share it  anyone with this phrase controls your wallet."}),l.jsx("input",{type:"password",value:h,onChange:B=>v(B.target.value),placeholder:"Your password",disabled:w,style:{...Ce(!!k),marginBottom:6}}),k&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:6},children:k}),l.jsx("button",{type:"submit",disabled:!h||w,style:{...ne(h&&!w?a.warn:a.dim,!0),width:"100%",padding:"7px 0",color:h&&!w?a.warn:a.dim,cursor:h&&!w?"pointer":"not-allowed"},children:w?"AUTHENTICATING":"SHOW SEED PHRASE"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{style:{...je(),display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:8},children:g.map((B,A)=>l.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:4,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim,flexShrink:0},children:[A+1,"."]}),l.jsx("span",{style:{fontSize:8,color:a.text,fontWeight:600},children:B})]},A))}),l.jsx("div",{style:{fontSize:8,color:a.warn,lineHeight:1.4},children:" Store offline. Never photograph or share digitally."})]})]}),c==="change_pw"&&l.jsxs("div",{style:$e("default"),children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:Hn,children:"CHANGE PASSWORD"}),l.jsx("button",{onClick:Fe,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...R},children:" close"})]}),V?l.jsx("div",{style:{fontSize:8,color:a.ok,textAlign:"center",padding:"8px 0"},children:" Password updated successfully."}):l.jsxs("form",{onSubmit:ot,style:{display:"flex",flexDirection:"column",gap:7},children:[l.jsx("input",{type:"password",value:p,onChange:B=>y(B.target.value),placeholder:"Current password",disabled:he,style:Ce()}),l.jsx("input",{type:"password",value:S,onChange:B=>C(B.target.value),placeholder:"New password (min 8 chars)",disabled:he,style:Ce()}),l.jsx("input",{type:"password",value:_,onChange:B=>O(B.target.value),placeholder:"Confirm new password",disabled:he,style:Ce()}),N&&l.jsx("div",{style:{fontSize:8,color:a.danger},children:N}),l.jsx("button",{type:"submit",disabled:!p||!S||!_||he,style:{...Kn(p&&S&&_&&!he),padding:"8px 0",cursor:p&&S&&_&&!he?"pointer":"not-allowed"},children:he?"RE-ENCRYPTING":"UPDATE PASSWORD"})]})]}),c==="reset"&&l.jsxs("div",{style:{...$e("danger"),backgroundColor:a.dLow},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("span",{style:{...Hn,color:a.danger},children:" RESET WALLET"}),l.jsx("button",{onClick:Fe,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...R},children:" cancel"})]}),l.jsxs("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:10},children:["This will permanently delete your encrypted vault from this extension. Your on-chain funds are NOT affected. You can re-import using your seed phrase.",l.jsx("strong",{style:{color:a.warn},children:" Make sure your seed phrase is backed up before proceeding."})]}),l.jsx("button",{onClick:ft,style:{...ne(a.danger,!0),width:"100%",padding:"8px 0",background:_e?a.danger:"rgba(49,21,32,0.65)",border:`1px solid ${a.danger}${_e?"90":"50"}`,color:_e?"#fff":a.danger},children:_e?" CONFIRM  PERMANENTLY DELETE VAULT":"RESET WALLET"}),_e&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:5,textAlign:"center"},children:"This cannot be undone. Your seed phrase is your only recovery option."})]})]}),l.jsxs("div",{style:{...je(),padding:"10px 12px"},children:[l.jsx("div",{style:{...yt,marginBottom:6},children:"SECURITY NOTES"}),["Seed phrase encrypted with AES-256-GCM before storage.","Password derived with PBKDF2-SHA256 (600,000 iterations).","Plaintext secrets never touch chrome.storage.","All signing happens locally  nothing is transmitted to servers."].map((B,A,D)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:A<D.length-1?4:0},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:B})]},A))]}),n&&c==="none"&&l.jsx("button",{onClick:u,style:{...ne(a.dim,!0),padding:"8px 0"},children:" LOCK WALLET"})]})}function ll(e){return{...ne(e,!0),padding:"10px 12px",color:e,textAlign:"left",letterSpacing:"0.08em"}}var jd;const ae=((jd=import.meta)==null?void 0:jd.env)??{};function gd(e,t){const n=ae==null?void 0:ae[e];return typeof n!="string"?t:n.trim().toLowerCase()==="true"?!0:n.trim().toLowerCase()==="false"?!1:t}function Xr(e,t,n,r){const o=ae==null?void 0:ae[e],i=Number(o);return Number.isFinite(i)?Math.min(r,Math.max(n,Math.floor(i))):t}function Tv(e,t){const n=String((ae==null?void 0:ae[e])??"").trim();if(!n)return t;const r=n.split(/[,\s]+/).map(i=>Number(i)).filter(i=>Number.isInteger(i)&&i>0),o=[...new Set(r)];return o.length?o:t}function Iv(e,t){const n=String((ae==null?void 0:ae[e])??"").trim().toLowerCase();return n==="kaspa_native"||n==="evm_0x"||n==="blocked"?n:t}const ee={enabled:gd("VITE_SWAP_ENABLED",!0),routeSource:Iv("VITE_SWAP_ROUTE_SOURCE","kaspa_native"),maxSlippageBps:Xr("VITE_SWAP_MAX_SLIPPAGE_BPS",500,1,2e3),defaultSlippageBps:Xr("VITE_SWAP_DEFAULT_SLIPPAGE_BPS",50,1,2e3),dexEndpoint:String((ae==null?void 0:ae.VITE_SWAP_DEX_ENDPOINT)??"").trim()||null,evmChainIdAllowlist:Tv("VITE_SWAP_EVM_CHAIN_IDS",[1]),requireExternalEvmSigner:gd("VITE_SWAP_REQUIRE_EXTERNAL_EVM_SIGNER",!0),zeroExQuoteEndpoint:String((ae==null?void 0:ae.VITE_SWAP_ZEROX_QUOTE_ENDPOINT)??"https://api.0x.org/swap/allowance-holder/quote").trim()||null,zeroExApiKey:String((ae==null?void 0:ae.VITE_SWAP_ZEROX_API_KEY)??"").trim(),zeroExExpectedSettlerTo:String((ae==null?void 0:ae.VITE_SWAP_ZEROX_EXPECTED_SETTLER_TO)??"").trim(),zeroExExpectedAllowanceSpender:String((ae==null?void 0:ae.VITE_SWAP_ZEROX_EXPECTED_ALLOWANCE_SPENDER)??"").trim(),settlementRequiredConfirmations:Xr("VITE_SWAP_SETTLEMENT_CONFIRMATIONS",2,1,128),settlementPollIntervalMs:Xr("VITE_SWAP_SETTLEMENT_POLL_MS",4e3,500,6e4),settlementTimeoutMs:Xr("VITE_SWAP_SETTLEMENT_TIMEOUT_MS",24e4,15e3,36e5)};function Qr(e){switch(e){case"kaspa_native":return"Kaspa Native";case"evm_0x":return"0x EVM";case"blocked":default:return"Blocked"}}function _v(e,t){return e==="KAS"||t==="KAS"}function Cv(e,t){return e==="ZRX"||t==="ZRX"}function Nm(e,t,n=ee.routeSource){return n==="blocked"?{source:n,label:Qr(n),allowed:!1,reason:"Swap routes are currently disabled on Kaspa.",requiresEvmSigner:!1}:n==="kaspa_native"?Cv(e,t)?{source:n,label:Qr(n),allowed:!1,reason:"0x token routes are not enabled on Kaspa-native swap.",requiresEvmSigner:!1}:{source:n,label:Qr(n),allowed:!0,reason:null,requiresEvmSigner:!1}:_v(e,t)?{source:n,label:Qr(n),allowed:!1,reason:"0x routes are EVM-domain only and cannot use native Kaspa balances directly.",requiresEvmSigner:!0}:{source:n,label:Qr(n),allowed:!0,reason:null,requiresEvmSigner:!0}}function yd(e){return e.trim().toLowerCase()}function Nv(e,t){return!e||!t?!1:yd(e)===yd(t)}const Cu="forgeos.swap.evm.sidecar.v1";function Pv(e){if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Pm(e){if(typeof e!="string")return"";const t=e.trim();return/^0x[a-fA-F0-9]{40}$/.test(t)?t:""}function ws(e){if(typeof e=="number"&&Number.isInteger(e)&&e>0)return e;if(typeof e=="string"){const t=e.trim().toLowerCase();if(!t)return 0;if(t.startsWith("0x")){const r=Number.parseInt(t.slice(2),16);return Number.isInteger(r)&&r>0?r:0}const n=Number(t);return Number.isInteger(n)&&n>0?n:0}return 0}function Nu(){return typeof window<"u"&&typeof window.localStorage<"u"}function jm(e){const t=e;if(!t)return null;const n=Pm(t.address),r=ws(t.chainId),o=t.walletType==="metamask"?"metamask":null,i=typeof t.connectedAt=="number"&&Number.isFinite(t.connectedAt)?t.connectedAt:0,s=typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:i;return!o||!n||r<=0?null:{walletType:o,address:n,chainId:r,connectedAt:i||Date.now(),updatedAt:s||Date.now()}}function ua(){if(!Nu())return null;const e=Pv(window.localStorage.getItem(Cu));return jm(e)}function jv(e){const t=Date.now(),n=jm({...e,connectedAt:e.connectedAt??t,updatedAt:e.updatedAt??t});if(!n)throw new Error("EVM_SIDECAR_INVALID_SESSION");return Nu()&&window.localStorage.setItem(Cu,JSON.stringify(n)),n}function Ov(){Nu()&&window.localStorage.removeItem(Cu)}function Om(e){return ee.evmChainIdAllowlist.includes(e)}function Es(){const e=globalThis==null?void 0:globalThis.ethereum;return e&&typeof e.request=="function"?e:null}async function Rv(){const e=Es();if(!e)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const t=await e.request({method:"eth_requestAccounts"}),n=Array.isArray(t)?t:[],r=Pm(n[0]);if(!r)throw new Error("EVM_SIDECAR_CONNECT_FAILED: No EVM account returned.");const o=await e.request({method:"eth_chainId"}),i=ws(o);if(i<=0)throw new Error("EVM_SIDECAR_CHAIN_INVALID: Could not determine chain ID.");if(!Om(i))throw new Error(`EVM_SIDECAR_CHAIN_NOT_ALLOWED: chainId ${i} not allowed.`);return jv({walletType:"metamask",address:r,chainId:i})}async function Lv(e){const t=Es();if(!t)throw new Error("EVM_SIDECAR_UNAVAILABLE: No injected EVM provider found.");const n=await t.request({method:"eth_sendTransaction",params:[e]});if(typeof n!="string"||!n.startsWith("0x"))throw new Error("EVM_TX_HASH_INVALID");return n}async function bv(e){const t=Es();if(!t)return null;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]});return!n||typeof n!="object"?null:n}async function Dv(){const e=Es();if(!e)return null;const t=await e.request({method:"eth_blockNumber"}),n=ws(t);return n>0?n:null}function zv(e){const t=e.status;if(typeof t=="number")return t===1?"success":"revert";if(typeof t=="string"){const n=t.trim().toLowerCase();if(n==="0x1"||n==="1")return"success";if(n==="0x0"||n==="0")return"revert"}return"unknown"}function Mv(e){return ws(e.blockNumber)}function ci(e){return e.trim().toLowerCase()}const Fv={1:{USDC:"0xA0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",USDT:"0xdAC17F958D2ee523a2206206994597C13D831ec7",ZRX:"0xE41d2489571d322189246DaFA5ebDe1F4699F498"}};function vd(e,t){if(e==="KAS")return null;const r=(Fv[t]??{})[e];return typeof r=="string"&&r?r:null}function Uv(e,t,n){const r=vd(e.tokenIn,t.chainId),o=vd(e.tokenOut,t.chainId);if(!r||!o)throw new Error("ZEROX_TOKEN_UNSUPPORTED: token pair is not mapped for selected EVM chain.");return{endpoint:n.endpoint,apiKey:n.apiKey,expectedSettlerTo:n.expectedSettlerTo,expectedAllowanceSpender:n.expectedAllowanceSpender,slippageBps:e.slippageBps,sellTokenAddress:r,buyTokenAddress:o,sellAmount:e.amountIn.toString()}}async function Bv(e,t,n){var d;const r=new URLSearchParams({sellToken:e.sellTokenAddress,buyToken:e.buyTokenAddress,sellAmount:e.sellAmount,slippageBps:String(e.slippageBps)}),o=`${e.endpoint}?${r.toString()}`,i={Accept:"application/json","Content-Type":"application/json"};e.apiKey&&(i["0x-api-key"]=e.apiKey);const s=await fetch(o,{method:"GET",headers:i}),u=await s.json().catch(()=>({}));if(!s.ok){const g=typeof(u==null?void 0:u.reason)=="string"?u.reason:`HTTP ${s.status}`;throw new Error(`ZEROX_QUOTE_FAILED: ${g}`)}const c=$v(u,{allowedChainIds:t,expectedChainId:n,expectedSettlerTo:e.expectedSettlerTo,expectedAllowanceSpender:e.expectedAllowanceSpender});if((d=u.issues)!=null&&d.simulationIncomplete&&c.push("ZEROX_SIMULATION_INCOMPLETE"),c.length>0)throw new Error(`ZEROX_POLICY_REJECTED: ${c.join(", ")}`);return u}function $v(e,t){var i,s,u;const n=[],r=Number(e.chainId??0);(!Number.isFinite(r)||!t.allowedChainIds.includes(r))&&n.push("ZEROX_CHAIN_NOT_ALLOWED"),t.expectedChainId&&r!==t.expectedChainId&&n.push("ZEROX_CHAIN_SESSION_MISMATCH"),e.liquidityAvailable||n.push("ZEROX_NO_LIQUIDITY");const o=typeof((i=e.transaction)==null?void 0:i.to)=="string"?e.transaction.to:"";if((!o||ci(o)!==ci(t.expectedSettlerTo))&&n.push("ZEROX_SETTLER_MISMATCH"),t.expectedAllowanceSpender){const c=typeof((u=(s=e.issues)==null?void 0:s.allowance)==null?void 0:u.spender)=="string"?e.issues.allowance.spender:"";(!c||ci(c)!==ci(t.expectedAllowanceSpender))&&n.push("ZEROX_ALLOWANCE_SPENDER_MISMATCH")}return(!e.minBuyAmount||!/^\d+$/.test(String(e.minBuyAmount)))&&n.push("ZEROX_MIN_BUY_AMOUNT_INVALID"),n}var Od;const Ir=((Od=import.meta)==null?void 0:Od.env)??{},Kv=12e3,Wv="/quote",Vv="/execute",Hv="/status";function Gv(e,t,n,r){const o=Number(Ir==null?void 0:Ir[e]);return Number.isFinite(o)?Math.min(r,Math.max(n,Math.floor(o))):t}function Pu(e,t){return String((Ir==null?void 0:Ir[e])??"").trim()||t}const Xv=Gv("VITE_SWAP_KASPA_NATIVE_TIMEOUT_MS",Kv,1e3,6e4),Qv=Pu("VITE_SWAP_KASPA_NATIVE_QUOTE_PATH",Wv),Yv=Pu("VITE_SWAP_KASPA_NATIVE_EXECUTE_PATH",Vv),Zv=Pu("VITE_SWAP_KASPA_NATIVE_STATUS_PATH",Hv);function Rm(e){return String(e||"").trim().replace(/\/+$/,"")}function Jv(e){const t=String(e||"").trim();return t?t.startsWith("/")?t:`/${t}`:"/"}function ju(e,t){const n=Rm(e);if(!n)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");return`${n}${Jv(t)}`}async function Ou(e,t){const n=new AbortController,r=setTimeout(()=>n.abort(),t.timeoutMs??Xv);try{const o=await fetch(e,{method:t.method,headers:{"Content-Type":"application/json"},...t.body?{body:JSON.stringify(t.body)}:{},signal:n.signal}),i=await o.text().catch(()=>"");let s=null;if(i)try{s=JSON.parse(i)}catch{throw new Error(`KASPA_NATIVE_HTTP_${o.status}: invalid JSON response`)}if(!o.ok){const u=typeof(s==null?void 0:s.error)=="string"?s.error:`HTTP ${o.status}`;throw new Error(`KASPA_NATIVE_HTTP_${o.status}: ${u}`)}return{status:o.status,data:s}}catch(o){throw(o==null?void 0:o.name)==="AbortError"?new Error("KASPA_NATIVE_TIMEOUT: request timed out"):o instanceof Error?o:new Error(String(o))}finally{clearTimeout(r)}}function qv(e){return typeof e=="bigint"?e.toString():typeof e=="number"&&Number.isFinite(e)&&e>=0?String(Math.floor(e)):typeof e=="string"&&/^\d+$/.test(e.trim())?e.trim():""}function Sd(e,t){const n=qv(e);if(!n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be an integer string`);const r=BigInt(n);if(r<0n)throw new Error(`KASPA_NATIVE_QUOTE_INVALID: "${t}" must be >= 0`);return r}function qi(e){const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?t:null}function eS(e){const t=qi(e.priceImpactBps);if(t!==null&&t>=0)return t/1e4;const n=qi(e.priceImpact);if(n!==null&&n>=0&&n<=1)return n;throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing price impact")}function tS(e){if(!Array.isArray(e))return[];const t=e.map(n=>String(n||"").trim()).filter(Boolean);return t.length?t:[]}function nS(e){return e==="mainnet"?"kaspa:":"kaspatest:"}function rS(e,t){const n=String(e||"").trim().toLowerCase();if(!Ro(n))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address is invalid");const r=nS(t);if(!n.startsWith(r))throw new Error("KASPA_NATIVE_QUOTE_INVALID: settlement address network mismatch")}function oS(e,t,n,r){const o=e??{},i=typeof o.quoteId=="string"?o.quoteId.trim():"";if(!i)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing quoteId");const s=typeof o.settlementAddress=="string"?o.settlementAddress.trim():"";if(!s)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing settlementAddress");rS(s,r);const u=Sd(o.minAmountOut??o.amountOut,"amountOut"),c=Sd(o.feeAmount??o.fee??"0","feeAmount"),d=eS(o),g=tS(o.route),m=qi(o.validUntil);if(m===null||m<=Date.now())throw new Error("KASPA_NATIVE_QUOTE_INVALID: quote is missing or expired");if(g.length===0)throw new Error("KASPA_NATIVE_QUOTE_INVALID: missing route");return{tokenIn:t.tokenIn,tokenOut:t.tokenOut,amountIn:t.amountIn,amountOut:u,priceImpact:d,fee:c,route:g,validUntil:m,dexEndpoint:n,routeSource:"kaspa_native",rawQuote:{...o,quoteId:i,settlementAddress:s,network:r}}}function iS(e){const t=e.rawQuote??{},n=typeof t.quoteId=="string"?t.quoteId.trim():"",r=typeof t.settlementAddress=="string"?t.settlementAddress.trim():"";if(!n||!r)throw new Error("KASPA_NATIVE_QUOTE_META_INVALID");return{quoteId:n,settlementAddress:r}}async function sS(e,t){const n=ju(t.endpoint,Qv),r={tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn.toString(),slippageBps:e.slippageBps,network:t.network,walletAddress:t.walletAddress};e.customTokenOut&&(r.tokenOutAddress=e.customTokenOut.address,r.tokenOutStandard=e.customTokenOut.standard,r.tokenOutSymbol=e.customTokenOut.symbol,r.tokenOutName=e.customTokenOut.name,r.tokenOutDecimals=e.customTokenOut.decimals);const{data:o}=await Ou(n,{method:"POST",body:r});return oS(o,e,Rm(t.endpoint),t.network)}async function lS(e){const t=ju(e.endpoint,Yv),n={quoteId:e.quoteId,network:e.network,depositTxId:e.depositTxId,walletAddress:e.walletAddress,amountIn:e.amountIn.toString()},{data:r}=await Ou(t,{method:"POST",body:n}),o=r??{};if(o.accepted===!1)throw new Error(typeof o.error=="string"?o.error:"KASPA_NATIVE_EXECUTION_REJECTED");const i=typeof o.state=="string"?o.state.toLowerCase().trim():"";if(["failed","rejected","error"].includes(i))throw new Error(typeof o.error=="string"?o.error:`KASPA_NATIVE_EXECUTION_${i.toUpperCase()}`)}function aS(e){const t=e.toLowerCase().trim();return["confirmed","completed","success","settled"].includes(t)?"confirmed":["failed","reverted","rejected","expired","error"].includes(t)?"failed":"pending"}async function uS(e){const t=ju(e.endpoint,Zv),n=new URLSearchParams({quoteId:e.quoteId,depositTxId:e.depositTxId,network:e.network}),r=`${t}?${n.toString()}`;try{const{status:o,data:i}=await Ou(r,{method:"GET"});if(o===404)return{state:"pending",confirmations:0,error:null,settlementTxId:null};const s=i??{},u=String(s.state??s.status??"pending"),c=aS(u),d=Math.max(0,Math.floor(qi(s.confirmations)??0)),g=typeof s.error=="string"?s.error:null,m=typeof s.settlementTxId=="string"?s.settlementTxId:typeof s.txId=="string"?s.txId:null;return{state:c,confirmations:d,error:g,settlementTxId:m}}catch(o){if(String((o==null?void 0:o.message)||"").includes("HTTP 404"))return{state:"pending",confirmations:0,error:null,settlementTxId:null};throw o}}const cS={REQUESTED:["QUOTED","FAILED_TIMEOUT"],QUOTED:["SIGNED","FAILED_TIMEOUT","FAILED_BRIDGE"],SIGNED:["SUBMITTED","FAILED_TIMEOUT","FAILED_BRIDGE"],SUBMITTED:["SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT"],PENDING_CONFIRMATION:["PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"],CONFIRMED:[],FAILED_REVERT:[],FAILED_TIMEOUT:[],FAILED_BRIDGE:[]};function Lm(e,t,n=Date.now()){return{id:e,routeSource:t,state:"REQUESTED",createdAt:n,updatedAt:n,txHash:null,bridgeTransferId:null,confirmations:0,error:null}}function Ye(e,t,n={},r=Date.now()){if(!cS[e.state].includes(t))throw new Error(`INVALID_SETTLEMENT_TRANSITION: ${e.state} -> ${t}`);return{...e,...n,state:t,updatedAt:r}}const ca="forgeos.swap.settlements.v1",bm=200;function Dm(){return chrome.storage.local}async function dS(){return new Promise(e=>{Dm().get(ca,t=>e((t==null?void 0:t[ca])??null))})}async function fS(e){return new Promise(t=>{Dm().set({[ca]:e},t)})}function pS(e){return["REQUESTED","QUOTED","SIGNED","SUBMITTED","PENDING_CONFIRMATION","CONFIRMED","FAILED_REVERT","FAILED_TIMEOUT","FAILED_BRIDGE"].includes(String(e))}function mS(e){const t=e;if(!t)return null;const n=typeof t.id=="string"?t.id:"",r=typeof t.routeSource=="string"?t.routeSource:"",o=t.state;return!n||!pS(o)||r!=="blocked"&&r!=="kaspa_native"&&r!=="evm_0x"?null:{id:n,routeSource:r,state:o,createdAt:typeof t.createdAt=="number"&&Number.isFinite(t.createdAt)?t.createdAt:Date.now(),updatedAt:typeof t.updatedAt=="number"&&Number.isFinite(t.updatedAt)?t.updatedAt:Date.now(),txHash:typeof t.txHash=="string"?t.txHash:null,bridgeTransferId:typeof t.bridgeTransferId=="string"?t.bridgeTransferId:null,confirmations:typeof t.confirmations=="number"&&Number.isFinite(t.confirmations)?t.confirmations:0,error:typeof t.error=="string"?t.error:null}}function hS(e){if(!Array.isArray(e))return[];const t=[];for(const n of e){const r=mS(n);r&&t.push(r)}return t.sort((n,r)=>r.updatedAt-n.updatedAt),t.slice(0,bm)}async function ho(){const e=await dS();return hS(e)}async function Te(e){const t=await ho(),n=[e,...t.filter(r=>r.id!==e.id)].sort((r,o)=>o.updatedAt-r.updatedAt).slice(0,bm);await fS(n)}function Ru(e){return e.state==="SUBMITTED"||e.state==="PENDING_CONFIRMATION"}function zm(e){return`${e}_${Date.now()}_${Math.random().toString(36).slice(2,8)}`}function Mm(){const e=ua();return e&&Om(e.chainId)?e:null}const gS=["mainnet","testnet-10","testnet-11","testnet-12"],yS=1e8;function vS(e){const t=Number(e)/yS;if(!Number.isFinite(t)||t<=0)throw new Error("KASPA_NATIVE_EXECUTION_INVALID_AMOUNT");return t}async function Lu(){const e=await cu().catch(()=>"mainnet");return e==="mainnet"||e==="testnet-10"||e==="testnet-11"||e==="testnet-12"?e:"mainnet"}function Sr(e,t,n="FAILED_BRIDGE"){return Ye(e,n,{error:t})}async function SS(e){for(const t of gS){const n=await om(e,t).catch(()=>null);if(n!=null&&n.acceptingBlockHash)return!0}return!1}function Fm(){return ee.zeroExQuoteEndpoint?ee.zeroExExpectedSettlerTo?{ok:!0,reason:null}:{ok:!1,reason:"0x settler target is not configured."}:{ok:!1,reason:"0x quote endpoint is not configured."}}function Um(){if(!ee.enabled)return{enabled:!1,reason:"Swap functionality not yet active on Kaspa."};if(ee.routeSource==="blocked")return{enabled:!1,reason:"Swap routes are currently disabled on Kaspa."};if(ee.routeSource==="kaspa_native")return{enabled:!0,reason:null};const e=Fm();return e.ok?{enabled:!0,reason:null}:{enabled:!1,reason:e.reason}}function xS(e){const t=[],n=e.customTokenOut??null,r=!!n,o=r?"USDC":e.tokenOut;!r&&e.tokenIn===e.tokenOut&&t.push("Token in and token out must be different.");const i=Nm(e.tokenIn,o,ee.routeSource);if(!i.allowed&&i.reason&&t.push(i.reason),cd(e.tokenIn)||t.push(`${e.tokenIn} is not currently available.`),!r&&!cd(e.tokenOut)&&t.push(`${e.tokenOut} is not currently available.`),r&&(String((n==null?void 0:n.address)??"").trim()||t.push("Custom token address is required."),(n==null?void 0:n.standard)!=="krc20"&&(n==null?void 0:n.standard)!=="krc721"&&t.push("Custom token standard must be KRC20 or KRC721.")),e.amountIn<=0n&&t.push("Amount must be greater than zero."),(e.slippageBps<0||e.slippageBps>ee.maxSlippageBps)&&t.push(`Slippage must be between 0 and ${ee.maxSlippageBps} bps (${ee.maxSlippageBps/100}%).`),i.source==="evm_0x"){const s=Fm();!s.ok&&s.reason&&t.push(s.reason)}return i.source==="kaspa_native"?(ee.dexEndpoint||t.push("Kaspa-native DEX endpoint is not configured."),e.tokenIn!=="KAS"&&t.push("Kaspa-native swap currently supports KAS as the input token.")):r&&t.push("Custom KRC token output requires kaspa-native swap route."),t}async function wS(e){var i,s,u,c,d,g,m;if(!Um().enabled)return null;const n=xS(e);if(n.length>0)throw new Error(`SWAP_VALIDATION: ${n.join("; ")}`);const r=e.customTokenOut?"USDC":e.tokenOut,o=Nm(e.tokenIn,r,ee.routeSource);if(o.source==="kaspa_native"){const h=ee.dexEndpoint;if(!h)throw new Error("KASPA_NATIVE_ROUTE_UNAVAILABLE: dex endpoint is not configured.");const v=jn();if(!(v!=null&&v.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const k=await Lu(),E=co(v.address,k);return{...await sS(e,{endpoint:h,network:k,walletAddress:E}),customTokenOut:e.customTokenOut??null}}if(o.source==="evm_0x"){const h=Mm();if(!h)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");const v=Uv(e,h,{endpoint:ee.zeroExQuoteEndpoint||"",apiKey:ee.zeroExApiKey||void 0,expectedSettlerTo:ee.zeroExExpectedSettlerTo,expectedAllowanceSpender:ee.zeroExExpectedAllowanceSpender||void 0}),k=await Bv(v,ee.evmChainIdAllowlist,h.chainId),E=BigInt(k.minBuyAmount||k.buyAmount||"0"),w=typeof((i=k.transaction)==null?void 0:i.to)=="string"?k.transaction.to:"",f=typeof((s=k.transaction)==null?void 0:s.data)=="string"?k.transaction.data:"";if(!w||!f)throw new Error("ZEROX_QUOTE_INVALID: missing transaction payload.");return{tokenIn:e.tokenIn,tokenOut:e.tokenOut,amountIn:e.amountIn,amountOut:E,priceImpact:0,fee:0n,route:((c=(u=k.route)==null?void 0:u.fills)==null?void 0:c.map(p=>String((p==null?void 0:p.source)||"0x")))||["0x"],validUntil:Date.now()+3e4,dexEndpoint:ee.zeroExQuoteEndpoint||"https://api.0x.org",routeSource:"evm_0x",transaction:{to:w,data:f,value:typeof((d=k.transaction)==null?void 0:d.value)=="string"?k.transaction.value:"0x0"},allowanceSpender:(m=(g=k.issues)==null?void 0:g.allowance)==null?void 0:m.spender,rawQuote:k,customTokenOut:e.customTokenOut??null}}throw new Error(`SWAP_ROUTE_UNSUPPORTED: ${o.source}`)}async function ES(e){if(!e.txHash||e.routeSource!=="evm_0x"||!Ru(e))return e;if(e.createdAt+ee.settlementTimeoutMs<=Date.now()){const u=Ye(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Te(u),u}const t=await bv(e.txHash).catch(()=>null);if(!t)return e;if(zv(t)==="revert"){const u=Ye(e,"FAILED_REVERT",{error:"EVM transaction reverted."});return await Te(u),u}const r=Mv(t),o=await Dv().catch(()=>null),i=r&&o&&o>=r?o-r+1:e.confirmations||1;if(i>=ee.settlementRequiredConfirmations){const u=Ye(e,"CONFIRMED",{confirmations:i,error:null});return await Te(u),u}const s=Ye(e,"PENDING_CONFIRMATION",{confirmations:i});return await Te(s),s}async function Bm(e){if(!e.txHash||e.routeSource!=="kaspa_native"||!Ru(e))return e;if(e.createdAt+ee.settlementTimeoutMs<=Date.now()){const s=Ye(e,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Te(s),s}const t=e.bridgeTransferId||"";if(!t){const s=Sr(e,"KASPA_NATIVE_SETTLEMENT_MISSING_QUOTE_ID");return await Te(s),s}const n=ee.dexEndpoint;if(!n)return e;let r;try{const s=await Lu();r=await uS({endpoint:n,network:s,quoteId:t,depositTxId:e.txHash})}catch{return e}if(r.state==="failed"){const s=Sr(e,r.error||"KASPA_NATIVE_EXECUTION_FAILED");return await Te(s),s}const o=await SS(e.txHash);if(o&&r.state==="confirmed"){const s=Ye(e,"CONFIRMED",{confirmations:Math.max(1,r.confirmations||1),error:null});return await Te(s),s}const i=Ye(e,"PENDING_CONFIRMATION",{confirmations:o?1:0});return await Te(i),i}async function $m(e){return e.routeSource==="evm_0x"?ES(e):e.routeSource==="kaspa_native"?Bm(e):e}async function xd(){const t=(await ho()).filter(r=>Ru(r)&&(r.routeSource==="evm_0x"||r.routeSource==="kaspa_native")),n=[];for(const r of t)n.push(await $m(r));return n}async function kS(){return Rv()}async function AS(e){if(!e.transaction)throw new Error("SWAP_EXECUTION_UNSUPPORTED: missing EVM transaction payload.");const t=Mm();if(!t)throw new Error("EVM_SIDECAR_REQUIRED: connect external EVM signer first.");if(!Nv(e.transaction.to,ee.zeroExExpectedSettlerTo))throw new Error("ZEROX_SETTLER_MISMATCH: refusing to execute unexpected transaction target.");const n=zm("swap");let r=Lm(n,"evm_0x");r=Ye(r,"QUOTED"),await Te(r),r=Ye(r,"SIGNED"),await Te(r);let o="";try{o=await Lv({from:t.address,to:e.transaction.to,data:e.transaction.data,value:e.transaction.value||"0x0"})}catch(u){const c=Ye(r,"FAILED_BRIDGE",{error:u instanceof Error?u.message:String(u)});return await Te(c),c}r=Ye(r,"SUBMITTED",{txHash:o,confirmations:0,error:null}),await Te(r);const i=Date.now()+ee.settlementTimeoutMs;for(;Date.now()<i;){if(r=await $m(r),r.state==="CONFIRMED"||r.state==="FAILED_REVERT"||r.state==="FAILED_BRIDGE")return r;await new Promise(c=>setTimeout(c,ee.settlementPollIntervalMs))}const s=Ye(r,"FAILED_TIMEOUT",{error:"Swap timed out waiting for confirmations."});return await Te(s),s}async function TS(e){if(e.routeSource!=="kaspa_native")throw new Error("KASPA_NATIVE_ROUTE_REQUIRED");if(e.tokenIn!=="KAS")throw new Error("KASPA_NATIVE_INPUT_UNSUPPORTED: only KAS input is supported.");if(Date.now()>e.validUntil)throw new Error("KASPA_NATIVE_QUOTE_EXPIRED");const t=ee.dexEndpoint;if(!t)throw new Error("KASPA_NATIVE_ENDPOINT_MISSING");const n=jn();if(!(n!=null&&n.mnemonic))throw new Error("KASPA_NATIVE_SIGNER_REQUIRED: unlock managed Kaspa wallet.");const r=await Lu(),o=co(n.address,r),i=iS(e),s=vS(e.amountIn),u=zm("swap");let c=Lm(u,"kaspa_native");c=Ye(c,"QUOTED"),await Te(c),c=Ye(c,"SIGNED"),await Te(c);let d="";try{let h=await xm(o,i.settlementAddress,s,r);await Sm(h);const v=await wm(h);if(!v.valid){const w=v.errors.join("; ");await ht({...h,state:"DRY_RUN_FAIL",error:w});const f=Sr(c,`KASPA_NATIVE_DRY_RUN_FAILED: ${w}`);return await Te(f),f}h={...h,state:"DRY_RUN_OK",fee:v.estimatedFee},await ht(h);const k=await Em(h);await ht(k);const E=await km(k);await ht(E),d=E.txId||k.txId||""}catch(h){const v=Sr(c,h instanceof Error?h.message:String(h));return await Te(v),v}if(!d){const h=Sr(c,"KASPA_NATIVE_EXECUTION_NO_TXID");return await Te(h),h}c=Ye(c,"SUBMITTED",{txHash:d,bridgeTransferId:i.quoteId,confirmations:0,error:null}),await Te(c);try{await lS({endpoint:t,network:r,quoteId:i.quoteId,depositTxId:d,walletAddress:o,amountIn:e.amountIn})}catch{}const g=Date.now()+ee.settlementTimeoutMs;for(;Date.now()<g;){if(c=await Bm(c),c.state==="CONFIRMED"||c.state==="FAILED_REVERT"||c.state==="FAILED_BRIDGE"||c.state==="FAILED_TIMEOUT")return c;await new Promise(h=>setTimeout(h,ee.settlementPollIntervalMs))}const m=Sr(c,"Swap timed out waiting for confirmations.","FAILED_TIMEOUT");return await Te(m),m}async function IS(e){if(e.routeSource==="kaspa_native")return TS(e);if(e.routeSource==="evm_0x")return AS(e);throw new Error(`SWAP_EXECUTION_UNSUPPORTED: ${e.routeSource||"unknown route"}`)}var Rd;const sn=((Rd=import.meta)==null?void 0:Rd.env)??{},_S=3500,CS=2e4,NS=512,Gt=new Map,wd=100,PS=0,jS=200,OS=12,RS=35,LS=55,bS=8,DS=2,zS=12e4,MS=1500,FS=3e4,Ed=new Map;function al(e){const t=String((sn==null?void 0:sn[e])??"").trim();if(!t)return[];const n=t.split(/[,\s]+/).map(r=>r.trim().replace(/\/+$/,"")).filter(Boolean);return[...new Set(n)]}function Bo(e,t){const n=String((sn==null?void 0:sn[e])??"").trim();if(!n)return t;const r=Number(n);return Number.isFinite(r)?Math.max(0,Math.floor(r)):t}function $o(e,t){const n=String((sn==null?void 0:sn[e])??"").trim();if(!n)return t;const r=Number(n);return Number.isFinite(r)?Math.max(0,r):t}function US(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_CACHE_TTL_MS",CS)}function BS(){return Math.max(1,Bo("VITE_SWAP_KRC_TOKEN_METADATA_CACHE_MAX_ENTRIES",NS))}function $S(){return $o("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_SUCCESS_REWARD",OS)}function KS(){return $o("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_FAILURE_PENALTY",RS)}function WS(){return $o("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_TIMEOUT_PENALTY",LS)}function VS(){return $o("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_MISS_PENALTY",bS)}function HS(){return $o("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_LATENCY_PENALTY_PER_100MS",DS)}function GS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_DECAY_TAU_MS",zS)}function XS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_BACKOFF_BASE_MS",MS)}function QS(){return Bo("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINT_BACKOFF_MAX_MS",FS)}function YS(e){return e==="testnet-10"?"TN10":e==="testnet-11"?"TN11":e==="testnet-12"?"TN12":"MAINNET"}function ZS(e){const t=YS(e),n=al("VITE_SWAP_KRC_TOKEN_METADATA_ENDPOINTS"),r=al(`VITE_KASPA_KASPLEX_${t}_API_ENDPOINTS`),o=al("VITE_KASPA_KASPLEX_API_ENDPOINTS");return[...new Set([...n,...r,...o])]}function JS(e,t={},n=_S){const r=new AbortController,o=setTimeout(()=>r.abort(),n);return fetch(e,{...t,signal:r.signal}).finally(()=>clearTimeout(o))}function da(e){return e&&typeof e=="object"&&!Array.isArray(e)?e:null}function qS(e){const t=["token","data","result","item","collection","metadata"];for(const n of t){const r=da(e[n]);if(r)return r}return null}function ir(e,t){for(const n of t){const r=e[n];if(typeof r=="string"&&r.trim())return r.trim()}return""}function ex(e,t){for(const n of t){const r=e[n],o=typeof r=="number"?r:Number(r);if(Number.isFinite(o))return o}return null}function es(e){return String(e||"").trim().toLowerCase()}function tx(e,t,n){return`${n}|${t}|${es(e)}`}function ts(e){return{...e}}function nx(e){const t=Gt.get(e);return t?t.expiresAt<=Date.now()?(Gt.delete(e),null):(Gt.delete(e),Gt.set(e,t),ts(t.token)):null}function kd(e,t){const n=US();if(n<=0)return;Gt.has(e)&&Gt.delete(e),Gt.set(e,{token:ts(t),expiresAt:Date.now()+n});const r=BS();for(;Gt.size>r;){const o=Gt.keys().next().value;if(typeof o!="string")break;Gt.delete(o)}}function Ai(e){return Math.max(PS,Math.min(jS,e))}function Km(e,t=Date.now()){let n=Ed.get(e);if(!n)return n={score:wd,consecutiveFailures:0,backoffUntil:0,lastUpdatedAt:t},Ed.set(e,n),n;const r=Math.max(0,t-n.lastUpdatedAt),o=GS();if(o>0&&r>0){const i=1-Math.exp(-r/o);n.score=Ai(n.score+(wd-n.score)*i)}return n.lastUpdatedAt=t,n}function rx(e){const t=HS();return t<=0?0:Math.max(0,e)/100*t}function ox(e,t,n,r=Date.now()){const o=Km(e,r),i=rx(n);if(t==="success"){o.consecutiveFailures=0,o.backoffUntil=0,o.score=Ai(o.score+$S()-i);return}if(t==="miss"){o.score=Ai(o.score-VS()-i*.5),o.consecutiveFailures=Math.max(0,o.consecutiveFailures-1);return}const s=t==="timeout"?WS():KS();o.consecutiveFailures+=1,o.score=Ai(o.score-s-i);const u=XS(),c=QS(),d=Math.min(c,u*Math.pow(2,Math.max(0,o.consecutiveFailures-1)));o.backoffUntil=r+d}function ix(e,t=Date.now()){const n=[],r=[];for(const o of e){const i=Km(o,t);i.backoffUntil>t?r.push({endpoint:o,score:i.score,backoffUntil:i.backoffUntil}):n.push({endpoint:o,score:i.score})}return n.sort((o,i)=>i.score-o.score),n.length>0?n.map(o=>o.endpoint):(r.sort((o,i)=>o.backoffUntil-i.backoffUntil||i.score-o.score),r.length>0?[r[0].endpoint]:[])}function sx(e,t){const n=t==="krc721"?0:8;return Number.isFinite(e)?Math.max(0,Math.min(18,Math.floor(e))):n}function lx(e){let t=2166136261;for(let n=0;n<e.length;n+=1)t^=e.charCodeAt(n),t=Math.imul(t,16777619);return t>>>0}function Ad(e,t=64,n=52){return`hsl(${e%360} ${t}% ${n}%)`}function Wm(e,t){const n=es(e),r=lx(`${t}:${n}`),o=Ad(r),i=Ad(r>>3),s=t==="krc721"?"721":"20",u=n.slice(0,6).toUpperCase(),c=`<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 120 120'><defs><linearGradient id='g' x1='0' y1='0' x2='1' y2='1'><stop offset='0%' stop-color='${o}'/><stop offset='100%' stop-color='${i}'/></linearGradient></defs><rect width='120' height='120' rx='24' fill='url(#g)'/><text x='60' y='56' text-anchor='middle' font-family='IBM Plex Mono, monospace' font-size='18' fill='white'>${s}</text><text x='60' y='78' text-anchor='middle' font-family='IBM Plex Mono, monospace' font-size='10' fill='white'>${u}</text></svg>`;return`data:image/svg+xml;utf8,${encodeURIComponent(c)}`}function ax(e,t){const n=String(e??"").trim().toLowerCase();return n.includes("721")?"krc721":n.includes("20")?"krc20":n==="nft"?"krc721":n==="ft"?"krc20":t}function ux(e,t,n){const o=ir(e,["address","tokenAddress","contractAddress","contract","id","assetId"])||t,i=ax(ir(e,["standard","type","tokenType","protocol"]),n),s=ir(e,["symbol","ticker","tick","tokenSymbol"])||o.slice(0,6).toUpperCase(),u=ir(e,["name","collectionName","tokenName","title"])||s,c=ex(e,["decimals","decimal","precision"]),d=sx(c??(i==="krc721"?0:8),i),g=ir(e,["logo","logoUrl","image","imageUrl","icon","iconUrl"])||Wm(o,i);return{address:o,standard:i,symbol:s,name:u,decimals:d,logoUri:g}}function cx(e){const t=[],n=da(e);if(!n)return t;t.push(n);const r=qS(n);r&&t.push(r);for(const o of["tokens","items","results","data"]){const i=n[o];if(Array.isArray(i))for(const s of i){const u=da(s);u&&t.push(u)}}return t}function dx(e,t){const n=es(t);if(!n)return e[0]??null;for(const r of e){const o=es(ir(r,["address","tokenAddress","contractAddress","contract","id","assetId"]));if(o&&o===n)return r}return e[0]??null}function fx(e,t){const n=encodeURIComponent(e);return t==="krc721"?[`/krc721/tokens/${n}`,`/krc721/collections/${n}`,`/krc721/${n}`,`/tokens/${n}`,`/token/${n}`,`/v1/krc721/${n}`]:[`/krc20/tokens/${n}`,`/krc20/token/${n}`,`/krc20/${n}`,`/tokens/${n}`,`/token/${n}`,`/v1/krc20/${n}`]}async function px(e,t,n){const r=Date.now(),o=e.replace(/\/+$/,""),i=fx(t,n);let s=!1,u=!1;for(const c of i)try{const d=await JS(`${o}${c}`,{method:"GET"});if(!d.ok){(d.status>=500||d.status===429)&&(s=!0);continue}const g=await d.json().catch(()=>null);if(!g){s=!0;continue}const m=cx(g);if(m.length===0)continue;const h=dx(m,t);if(!h)continue;return{token:ux(h,t,n),outcome:"success",elapsedMs:Math.max(0,Date.now()-r)}}catch(d){d instanceof Error&&d.name==="AbortError"?u=!0:s=!0}return{token:null,outcome:u?"timeout":s?"failure":"miss",elapsedMs:Math.max(0,Date.now()-r)}}async function mx(e,t,n){const r=String(e||"").trim();if(!r)throw new Error("Token address is required.");const o=tx(r,t,n),i=nx(o);if(i)return i;const s=ix(ZS(n));for(const c of s){const d=await px(c,r,t);if(ox(c,d.outcome,d.elapsedMs),d.token)return kd(o,d.token),ts(d.token)}const u={address:r,standard:t,symbol:r.slice(0,6).toUpperCase(),name:t==="krc721"?"KRC721 Token":"KRC20 Token",decimals:t==="krc721"?0:8,logoUri:Wm(r,t)};return kd(o,u),ts(u)}const hx={KAS:"../icons/kaspa-logo.png",USDC:"../icons/usdc.png",USDT:"../icons/usdt.png"};function ul({symbol:e,logoUri:t,size:n=22}){const r=t??hx[e];return r?l.jsx("img",{src:r,alt:e,style:{width:n,height:n,borderRadius:"50%",objectFit:"contain",flexShrink:0,background:"rgba(57,221,182,0.08)"},onError:o=>{o.currentTarget.style.display="none"}}):l.jsx("div",{style:{width:n,height:n,borderRadius:"50%",background:"rgba(57,221,182,0.18)",border:"1px solid rgba(57,221,182,0.35)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:l.jsx("span",{style:{color:"#39DDB6",fontSize:n*.45,fontWeight:800},children:e.slice(0,1)})})}function gx(e,t){const n=String(e||"").trim();if(!n||!/^\d+(\.\d+)?$/.test(n))return null;const[r,o=""]=n.split("."),i=r.replace(/^0+(?=\d)/,"")||"0",s=o.slice(0,t).padEnd(t,"0"),u=`${i}${s}`.replace(/^0+(?=\d)/,"")||"0";try{return BigInt(u)}catch{return null}}function yx(){const[e,t]=x.useState(()=>ua()),[n,r]=x.useState(null),[o,i]=x.useState([]),[s,u]=x.useState(null),[c,d]=x.useState(!1),[g,m]=x.useState(!1),[h,v]=x.useState(!1),[k,E]=x.useState(!1),[w,f]=x.useState(!1),p=Um(),y=Tm(),[S,C]=x.useState("KAS"),[_,O]=x.useState("USDC"),[N,H]=x.useState(""),[V,J]=x.useState(ee.defaultSlippageBps),[he,ce]=x.useState(""),[_e,Me]=x.useState("krc20"),[Y,de]=x.useState(null),[P,z]=x.useState(!1),[F,$]=x.useState(null),[X,oe]=x.useState(!1),[ie,Q]=x.useState(!1),[Pe,U]=x.useState(0),[fe,ke]=x.useState(!1),W=!p.enabled,Et=ee.routeSource==="evm_0x",Kt=he.trim().toLowerCase(),ot=Kt?y.filter(T=>`${T.symbol} ${T.name} ${T.id}`.toLowerCase().includes(Kt)).slice(0,8):[],ft=y.find(T=>T.id===_)??null;x.useEffect(()=>{t(ua()),xd().catch(()=>{}),ho().then(i).catch(()=>{})},[]),x.useEffect(()=>{const T=setInterval(()=>{xd().then(()=>ho().then(K=>i(K.slice(0,4)))).catch(()=>{})},ee.settlementPollIntervalMs);return()=>clearInterval(T)},[]);const Ce=async()=>{const T=await ho();i(T.slice(0,4))},Fe=()=>{r(null),u(null),f(!1)},kt=async()=>{u(null);const T=y.find(re=>re.id===S),K=gx(N,(T==null?void 0:T.decimals)??8);if(!K||K<=0n){u("Enter a valid amount.");return}m(!0);try{const re=await wS({tokenIn:S,tokenOut:_,amountIn:K,slippageBps:V,customTokenOut:Y});if(!re){u(p.reason??"Swap is currently unavailable.");return}r(re)}catch(re){u(re instanceof Error?re.message:String(re))}finally{m(!1)}},Wt=async T=>{$(null),u(null);const K=String(T||"").trim();if(!K){$("Paste a token address first.");return}z(!0);try{const re=await cu().catch(()=>"mainnet"),Jt=await mx(K,_e,re);ce(K),de(Jt),O("USDC"),Q(!1),Fe()}catch(re){de(null),$(re instanceof Error?re.message:String(re))}finally{z(!1)}},Lt=()=>{de(null),$(null),Q(!1),Fe()},Ve=async()=>{var T;if($(null),u(null),!((T=navigator==null?void 0:navigator.clipboard)!=null&&T.readText)){$("Clipboard read is unavailable in this browser.");return}oe(!0);try{const re=(await navigator.clipboard.readText()).trim();if(!re){$("Clipboard is empty.");return}ke(!0),await Wt(re)}catch(K){$(K instanceof Error?K.message:"Failed to read clipboard.")}finally{oe(!1)}},At=T=>{O(T),de(null),$(null),Q(!1),ce(""),Fe()},B=async()=>{$(null),u(null);const T=he.trim();if(!T){$("Type a token name/symbol or paste a token address.");return}const K=T.toLowerCase(),re=y.find(Jt=>Jt.id.toLowerCase()===K||Jt.symbol.toLowerCase()===K||Jt.name.toLowerCase()===K);if(re){if(!re.enabled){$(re.disabledReason??`${re.symbol} is not currently available.`);return}At(re.id);return}await Wt(T)},A=async()=>{var T;if(Y!=null&&Y.address&&(T=navigator==null?void 0:navigator.clipboard)!=null&&T.writeText)try{await navigator.clipboard.writeText(Y.address),Q(!0),setTimeout(()=>Q(!1),1400)}catch{}},D=async()=>{u(null),d(!0);try{const T=await kS();t(T),E(!1)}catch(T){u(T instanceof Error?T.message:String(T))}finally{d(!1)}},q=()=>{Ov(),t(null)},ye=async()=>{if(n){u(null),v(!0);try{await IS(n),f(!1),await Ce()}catch(T){u(T instanceof Error?T.message:String(T))}finally{v(!1)}}},j=()=>{if(!new Set(y.filter(K=>K.enabled).map(K=>K.id)).has(_)){u(`Cannot flip while ${_} is disabled for input.`);return}C(_),O(S),Lt(),Fe()},M=y.find(T=>T.id===S),le=Y?{symbol:Y.symbol,name:Y.name}:ft??null,He={background:"linear-gradient(155deg, rgba(14,20,29,0.96) 0%, rgba(10,15,22,0.92) 100%)",border:`1px solid ${a.border}`,borderRadius:16,padding:"14px 16px",boxShadow:"inset 0 1px 0 rgba(255,255,255,0.04), 0 8px 20px rgba(0,0,0,0.28)"},Le=(T,K=!1)=>({display:"flex",alignItems:"center",gap:6,background:"rgba(22,32,45,0.9)",border:`1px solid ${a.border}`,borderRadius:999,padding:"6px 10px 6px 7px",color:K?a.dim:a.text,fontSize:12,fontWeight:600,cursor:W?"not-allowed":"pointer",flexShrink:0,whiteSpace:"nowrap",...R});return l.jsxs("div",{style:{...$n,gap:8},children:[W&&l.jsxs("div",{style:{...$e("purple"),display:"flex",alignItems:"flex-start",gap:10},children:[l.jsx("span",{style:{fontSize:16,flexShrink:0},children:""}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:9,color:a.purple,fontWeight:700,letterSpacing:"0.1em",marginBottom:3},children:"SWAP UNAVAILABLE"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:p.reason??"Swap functionality not yet active on Kaspa."})]})]}),Et&&l.jsxs("div",{style:$e("default",!0),children:[l.jsx("div",{style:{...yt,marginBottom:6},children:"EVM SIDECAR SIGNER"}),e?l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Connected: ",e.address.slice(0,8),"",e.address.slice(-6)," (chain ",e.chainId,")"]}),l.jsx("button",{onClick:q,style:{...ne(a.warn),width:"100%",padding:"8px 0"},children:"DISCONNECT EVM SIGNER"})]}):k?l.jsxs("div",{style:{...je(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:6},children:"Connecting an EVM signer. Forge-OS Kaspa keys are not shared."}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:D,style:{...Kn(!0),flex:1,padding:"7px 0"},disabled:c,children:c?"CONNECTING":"I AGREE, CONNECT"}),l.jsx("button",{onClick:()=>E(!1),style:{...ne(a.dim),flex:1,padding:"7px 0"},disabled:c,children:"CANCEL"})]})]}):l.jsx("button",{onClick:()=>E(!0),style:{...ne(a.accent),width:"100%",padding:"8px 0"},disabled:c,children:"CONNECT METAMASK SIDECAR"})]}),l.jsxs("div",{style:He,children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[l.jsx("span",{style:{fontSize:11,color:a.dim,letterSpacing:"0.04em"},children:"from"}),l.jsxs("span",{style:{fontSize:11,color:a.dim},children:[Pe,"%"]})]}),l.jsx("input",{type:"range",min:0,max:100,value:Pe,disabled:W,onChange:T=>U(Number(T.target.value)),style:{width:"100%",marginBottom:14,accentColor:a.accent,cursor:W?"not-allowed":"pointer",height:3}}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[l.jsxs("div",{style:{position:"relative",flexShrink:0},children:[l.jsxs("div",{style:Le((M==null?void 0:M.symbol)??"KAS"),children:[l.jsx(ul,{symbol:(M==null?void 0:M.symbol)??"KAS"}),l.jsx("span",{children:(M==null?void 0:M.symbol)??"KAS"}),l.jsx("span",{style:{color:a.dim,fontSize:10},children:""})]}),l.jsx("select",{value:S,onChange:T=>{C(T.target.value),Fe()},disabled:W,style:{position:"absolute",inset:0,opacity:0,width:"100%",height:"100%",cursor:W?"not-allowed":"pointer"},children:y.filter(T=>T.enabled).map(T=>l.jsx("option",{value:T.id,children:T.symbol},T.id))})]}),l.jsx("input",{type:"number",min:"0",value:N,onChange:T=>H(T.target.value),placeholder:"0",disabled:W,style:{flex:1,background:"none",border:"none",outline:"none",color:W?a.dim:a.text,fontSize:26,fontWeight:600,textAlign:"right",cursor:W?"not-allowed":"text",...R}})]}),l.jsxs("div",{style:{fontSize:10,color:a.dim,marginTop:10,display:"flex",alignItems:"center",gap:4},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"0"})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"center",margin:"-4px 0"},children:l.jsx("button",{disabled:W,onClick:j,style:{background:"rgba(18,26,37,0.95)",border:`1px solid ${a.border}`,borderRadius:"50%",width:32,height:32,color:W?a.muted:a.text,fontSize:15,cursor:W?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0,0,0,0.35)"},children:""})}),l.jsxs("div",{style:He,children:[l.jsx("div",{style:{marginBottom:12},children:l.jsx("span",{style:{fontSize:11,color:a.dim,letterSpacing:"0.04em"},children:"to"})}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[le?l.jsxs("button",{onClick:()=>ke(T=>!T),disabled:W,style:Le(le.symbol),children:[l.jsx(ul,{symbol:le.symbol,logoUri:Y==null?void 0:Y.logoUri}),l.jsx("span",{children:le.symbol}),l.jsx("span",{style:{color:a.dim,fontSize:10},children:""})]}):l.jsxs("button",{onClick:()=>ke(!0),disabled:W,style:Le("",!0),children:[l.jsx("span",{children:"Select Token"}),l.jsx("span",{style:{fontSize:10},children:""})]}),l.jsx("div",{style:{flex:1,textAlign:"right",color:a.dim,fontSize:26,fontWeight:600,...R},children:n?n.amountOut.toString():"0"})]}),l.jsxs("div",{style:{fontSize:10,color:a.dim,marginTop:10,display:"flex",alignItems:"center",gap:4},children:[l.jsx("span",{children:""}),l.jsx("span",{children:"0"})]})]}),fe&&l.jsxs("div",{style:{...je(),padding:"10px 12px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:8},children:"SELECT TOKEN"}),l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:8},children:[l.jsx("input",{value:he,onChange:T=>{ce(T.target.value),Y&&(de(null),Q(!1)),$(null),Fe()},onKeyDown:T=>{T.key==="Enter"&&(T.preventDefault(),!W&&!P&&B().catch(()=>{}))},placeholder:"Name, symbol, or paste address",disabled:W,style:{flex:1,background:"rgba(8,13,20,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",color:a.text,fontSize:10,outline:"none",...R}}),l.jsx("button",{onClick:Ve,disabled:W||X||P,style:{...ne(a.dim),padding:"0 9px",fontSize:8},children:X?"":"PASTE"}),l.jsx("button",{onClick:()=>B(),disabled:W||P,style:{...ne(a.accent),padding:"0 9px",fontSize:8},children:P?"":"GO"})]}),l.jsx("div",{style:{display:"flex",gap:6,marginBottom:8},children:["krc20","krc721"].map(T=>{const K=_e===T;return l.jsx("button",{onClick:()=>Me(T),disabled:W,style:{...ne(K?a.accent:a.dim),flex:1,padding:"5px 0",fontSize:8,background:K?`${a.accent}20`:"rgba(16,25,35,0.45)",borderColor:K?`${a.accent}55`:a.border,color:K?a.accent:a.dim},children:T.toUpperCase()},T)})}),ot.length>0&&ot.map(T=>l.jsxs("button",{onClick:()=>{At(T.id),ke(!1)},disabled:!T.enabled,style:{width:"100%",textAlign:"left",background:"none",border:"none",color:T.enabled?a.text:a.dim,padding:"7px 2px",fontSize:9,cursor:T.enabled?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:8,borderBottom:`1px solid ${a.border}`,...R},children:[l.jsx(ul,{symbol:T.symbol,size:20}),l.jsxs("span",{style:{flex:1},children:[T.symbol," ",l.jsxs("span",{style:{color:a.dim,fontSize:8},children:[" ",T.name]})]}),l.jsx("span",{style:{color:T.enabled?a.ok:a.warn,fontSize:7},children:T.enabled?"":"SOON"})]},T.id)),F&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:F}),Y&&l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,marginTop:8},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,minWidth:0},children:[l.jsx("img",{src:Y.logoUri,alt:Y.symbol,style:{width:24,height:24,borderRadius:6,objectFit:"cover",flexShrink:0}}),l.jsxs("div",{style:{minWidth:0},children:[l.jsxs("div",{style:{fontSize:9,color:a.text,fontWeight:700},children:[Y.symbol,"  ",Y.standard.toUpperCase()]}),l.jsx("div",{style:{fontSize:8,color:a.dim,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Y.address})]})]}),l.jsx("button",{onClick:A,style:{...ne(ie?a.ok:a.dim),padding:"4px 7px",fontSize:8},children:ie?"COPIED":"COPY"}),l.jsx("button",{onClick:Lt,style:{...ne(a.dim),padding:"4px 7px",fontSize:8},children:"CLEAR"})]})]}),l.jsxs("div",{style:{...$e("default",!0)},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8},children:[l.jsx("div",{style:yt,children:"SLIPPAGE"}),l.jsxs("div",{style:{fontSize:9,color:W?a.muted:a.text,fontWeight:700},children:[(V/100).toFixed(1),"%"]})]}),l.jsx("div",{style:{display:"flex",gap:6},children:[25,50,100].map(T=>{const K=V===T&&!W;return l.jsxs("button",{onClick:()=>J(T),disabled:W,style:{...ne(K?a.accent:a.dim),flex:1,padding:"5px 0",borderRadius:6,background:K?`${a.accent}20`:"rgba(33,48,67,0.4)",border:`1px solid ${K?a.accent:a.border}`,color:K?a.accent:a.dim,fontSize:8,fontWeight:700,cursor:W?"not-allowed":"pointer"},children:[(T/100).toFixed(1),"%"]},T)})})]}),W?l.jsx("div",{style:{textAlign:"center",padding:"4px 0"},children:l.jsx("div",{style:{fontSize:8,color:a.muted,letterSpacing:"0.1em"},children:"SWAP COMING SOON"})}):l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:kt,style:{...Kn(!0),width:"100%",padding:"13px 0",fontSize:11,letterSpacing:"0.1em"},disabled:g,children:g?"REQUESTING QUOTE":"GET QUOTE "}),n&&l.jsxs("div",{style:$e("default",!0),children:[l.jsx("div",{style:{...yt,marginBottom:6},children:"QUOTE PREVIEW"}),n.customTokenOut&&l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:6},children:["Output: ",n.customTokenOut.symbol," (",n.customTokenOut.standard.toUpperCase(),")"]}),l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:4},children:["Route: ",n.route.join("  "),"  Valid ~30s"]}),l.jsxs("div",{style:{fontSize:8,color:a.text,marginBottom:8},children:["Min output: ",n.amountOut.toString()," units"]}),w?l.jsxs("div",{style:{...je(),padding:"8px 10px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:6},children:"Confirm in the external EVM signer. Settlement persisted across restarts."}),l.jsxs("div",{style:{display:"flex",gap:6},children:[l.jsx("button",{onClick:ye,style:{...Kn(!0),flex:1,padding:"7px 0"},disabled:h,children:h?"EXECUTING":"CONFIRM"}),l.jsx("button",{onClick:()=>f(!1),style:{...ne(a.dim),flex:1,padding:"7px 0"},disabled:h,children:"CANCEL"})]})]}):l.jsx("button",{onClick:()=>f(!0),style:{...Kn(!0),width:"100%",padding:"8px 0"},disabled:h,children:"SIGN & EXECUTE SWAP"})]})]}),s&&l.jsx("div",{style:{...je(),border:`1px solid ${a.danger}60`,color:a.danger,fontSize:8},children:s}),o.length>0&&l.jsxs("div",{style:{...je(),padding:"9px 12px"},children:[l.jsx("div",{style:{...yt,marginBottom:6},children:"SETTLEMENTS"}),o.map((T,K)=>l.jsxs("div",{style:{marginBottom:K<o.length-1?4:0,fontSize:8,color:a.dim},children:[l.jsx("span",{style:{color:a.text},children:T.state}),"  ",T.txHash?`${T.txHash.slice(0,10)}`:"tx pending","  ",new Date(T.updatedAt).toLocaleTimeString()]},T.id))]})]})}const br=1,ns=440,rs=720,Vm=420,Hm=620;function vx({autoLockMinutes:e,persistSession:t,onUnlock:n,onReset:r,walletAddress:o}){const[i,s]=x.useState(""),[u,c]=x.useState(null),[d,g]=x.useState(!1),[m,h]=x.useState(!1),v=x.useRef(null);x.useEffect(()=>{var E;(E=v.current)==null||E.focus()},[]);const k=async E=>{var w;if(E.preventDefault(),!(!i||d)){g(!0),c(null);try{const f=await Jn(i,e,{persistSession:t});n(f)}catch(f){const p=f instanceof Error?f.message:String(f);c(p==="INVALID_PASSWORD"?"Incorrect password.":"Failed to unlock. Try again."),s(""),(w=v.current)==null||w.focus()}finally{g(!1)}}};return l.jsxs("div",{style:{width:ns,minHeight:rs,...Lr(),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",padding:"28px 30px 24px",...R,position:"relative",overflow:"hidden",overflowX:"hidden",overflowY:"auto",zoom:br},children:[l.jsx("div",{style:{position:"absolute",top:"-12%",left:"50%",transform:"translateX(-50%)",width:360,height:360,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}18 0%, transparent 70%)`,pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:"-10%",right:"-32%",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0A 0%, transparent 72%)`,pointerEvents:"none"}}),l.jsxs("div",{style:{position:"relative",zIndex:1,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",marginTop:4},children:[l.jsxs("div",{style:{marginBottom:o?14:22,textAlign:"center"},children:[l.jsx("img",{src:"../icons/icon128.png",alt:"Forge-OS",style:{width:58,height:58,objectFit:"contain",imageRendering:"auto",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.52))",marginBottom:12}}),l.jsxs("div",{style:{fontSize:17,fontWeight:700,letterSpacing:"0.12em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]}),l.jsx("div",{style:{fontSize:10,color:a.dim,marginTop:5,letterSpacing:"0.12em"},children:o?"WELCOME BACK":"WALLET LOCKED"})]}),o&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6,marginBottom:16,background:`${a.accent}0A`,border:`1px solid ${a.accent}25`,borderRadius:20,padding:"6px 14px"},children:[l.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsx("span",{style:{fontSize:11,color:a.text,fontWeight:600},children:Uo(o)})]}),l.jsx("div",{style:{width:48,height:48,borderRadius:"50%",background:`${a.accent}15`,border:`1px solid ${a.accent}30`,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:18},children:l.jsx("span",{style:{fontSize:22},children:""})}),l.jsxs("form",{onSubmit:k,style:{width:"100%"},children:[l.jsxs("div",{style:{marginBottom:12},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:6},children:o?"ENTER PASSWORD TO SIGN IN":"PASSWORD"}),l.jsx("input",{ref:v,type:"password",value:i,onChange:E=>s(E.target.value),placeholder:"Enter your password",disabled:d,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.7)",border:`1px solid ${u?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...R,outline:"none"}})]}),u&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10,textAlign:"center"},children:u}),l.jsx("button",{type:"submit",disabled:!i||d,style:{width:"100%",padding:"10px 0",background:i&&!d?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}30`,border:"none",borderRadius:8,color:i&&!d?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:i&&!d?"pointer":"not-allowed",letterSpacing:"0.1em",...R,transition:"background 0.15s, color 0.15s"},children:d?"UNLOCKING":"UNLOCK WALLET"})]}),l.jsx("div",{style:{marginTop:20,textAlign:"center"},children:m?l.jsxs("div",{style:{background:a.dLow,border:`1px solid ${a.danger}40`,borderRadius:8,padding:"12px 14px",marginTop:4},children:[l.jsx("div",{style:{fontSize:9,color:a.warn,fontWeight:700,marginBottom:6,letterSpacing:"0.08em"},children:" RESET WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5,marginBottom:10},children:"This will permanently delete your encrypted vault. Make sure you have your seed phrase backed up before proceeding."}),l.jsxs("div",{style:{display:"flex",gap:8},children:[l.jsx("button",{onClick:()=>h(!1),style:{flex:1,padding:"7px 0",background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:6,color:a.dim,fontSize:8,cursor:"pointer",...R},children:"CANCEL"}),l.jsx("button",{onClick:r,style:{flex:1,padding:"7px 0",background:a.dLow,border:`1px solid ${a.danger}60`,borderRadius:6,color:a.danger,fontSize:8,fontWeight:700,cursor:"pointer",...R},children:"RESET WALLET"})]})]}):l.jsx("button",{onClick:()=>h(!0),style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...R},children:"Forgot password?"})})]})]})}const Gm="forgeos.import.addressbook.v1",Td="forgeos.import.addressbook.salt.v1",Sx=32,xx=240;function Xm(){return chrome.storage.local}function wx(e){return String(e||"").trim().toLowerCase().split(/\s+/).join(" ")}function Ex(e){return String(e||"").trim()}function fa(e){return Array.from(e,t=>t.toString(16).padStart(2,"0")).join("")}function kx(e){const t=e.trim();if(!t||t.length%2!==0)return new Uint8Array;const n=new Uint8Array(t.length/2);for(let r=0;r<t.length;r+=2)n[r/2]=parseInt(t.slice(r,r+2),16);return n}async function Qm(e){return new Promise(t=>{Xm().get(e,n=>t((n==null?void 0:n[e])??null))})}async function Ym(e,t){return new Promise(n=>{Xm().set({[e]:t},n)})}async function Ax(){const e=await Qm(Td);if(e&&typeof e=="string"){const n=kx(e);if(n.length>0)return n}const t=crypto.getRandomValues(new Uint8Array(16));return await Ym(Td,fa(t)),t}async function Zm(){const e=await Qm(Gm);return!e||typeof e!="object"?{}:e}async function Tx(e){await Ym(Gm,e)}async function Jm(e,t){const n=await Ax(),r=wx(e),o=Ex(t);if(!r)return"";const i=new TextEncoder().encode(`${fa(n)}
${r}
${o}`),s=await crypto.subtle.digest("SHA-256",i);return fa(new Uint8Array(s))}function Ix(e){const t=lt(e.derivation);return{address:e.address,derivation:t,derivationPath:zt(t),chainLabel:fu(t.chain)}}function _x(e,t,n){const r=lt(e.derivation);return{address:e.address,network:t,derivation:r,derivationPath:zt(r),chainLabel:fu(r.chain),createdAt:n,lastUsedAt:n}}function Cx(e){const t=new Map;for(const n of e){const r=`${n.network.toLowerCase()}|${n.address.toLowerCase()}|${n.derivationPath}`,o=t.get(r);if(!o){t.set(r,n);continue}t.set(r,{...o,lastUsedAt:Math.max(o.lastUsedAt,n.lastUsedAt),createdAt:Math.min(o.createdAt,n.createdAt)})}return[...t.values()].sort((n,r)=>r.lastUsedAt-n.lastUsedAt)}function Nx(e){const t=Object.entries(e).sort((n,r)=>{var s,u,c,d;const o=((u=(s=n[1])==null?void 0:s[0])==null?void 0:u.lastUsedAt)??0;return(((d=(c=r[1])==null?void 0:c[0])==null?void 0:d.lastUsedAt)??0)-o});return Object.fromEntries(t.slice(0,Sx))}async function Px(e,t,n){const r=await Jm(e,t);return r?((await Zm())[r]??[]).filter(s=>s.network===n).sort((s,u)=>u.lastUsedAt-s.lastUsedAt).map(Ix):[]}async function pa(e,t,n,r){const o=await Jm(e,t);if(!o||!r.length)return;const i=Date.now(),s=await Zm(),u=s[o]??[],c=r.map(g=>_x(g,n,i)),d=Cx([...c,...u]).slice(0,xx);s[o]=d,await Tx(Nx(s))}async function jx(e,t,n,r){await pa(e,t,n,[r])}const Ox=ns,cl=[0,4],dl=[0,9],ma=80,qm=320,Rx=[...du].join(`
`);function Yr(e){return`${e.address.toLowerCase()}|${e.derivationPath}`}function ha(e,t){const n=Number(String(e||"").trim());return!Number.isFinite(n)||n<0?t:Math.floor(n)}function Id(e,t,n){const r=ha(e,n[0]),o=ha(t,n[1]);return[Math.min(r,o),Math.max(r,o)]}function Lx(e){const t=ha(e,ma);return Math.max(1,Math.min(qm,t||ma))}function bx(e){const t=String(e||"").split(/[,\n]+/).map(n=>n.trim()).filter(Boolean);return t.length?t:[...du]}function _d({onSubmit:e,loading:t,submitLabel:n}){const[r,o]=x.useState(""),[i,s]=x.useState(""),[u,c]=x.useState(null),d=m=>{if(m.preventDefault(),c(null),r.length<8){c("Password must be at least 8 characters.");return}if(r!==i){c("Passwords do not match.");return}e(r)},g=(m=!1)=>({width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${m?a.danger:a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:11,...R,outline:"none",marginBottom:8});return l.jsxs("form",{onSubmit:d,children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:8},children:"CREATE PASSWORD"}),l.jsx("input",{type:"password",placeholder:"Password (min 8 characters)",value:r,onChange:m=>o(m.target.value),disabled:t,style:g()}),l.jsx("input",{type:"password",placeholder:"Confirm password",value:i,onChange:m=>s(m.target.value),disabled:t,style:{...g(),marginBottom:0}}),u&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginTop:6},children:u}),l.jsx("button",{type:"submit",disabled:!r||!i||t,style:{width:"100%",marginTop:12,padding:"11px 0",background:r&&i&&!t?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:r&&i&&!t?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:r&&i&&!t?"pointer":"not-allowed",letterSpacing:"0.1em",...R},children:t?"ENCRYPTING":n})]})}function bn({children:e}){return l.jsxs("div",{style:{width:Ox,minHeight:rs,...Lr(),display:"flex",flexDirection:"column",padding:"22px 22px 18px",...R,overflowX:"hidden",overflowY:"auto",position:"relative",zoom:br},children:[l.jsx("div",{style:{position:"absolute",top:-80,right:-50,width:240,height:240,background:`radial-gradient(ellipse, ${a.accent}14 0%, transparent 70%)`,borderRadius:"50%",pointerEvents:"none"}}),l.jsx("div",{style:{position:"absolute",bottom:-60,left:-50,width:180,height:180,background:"radial-gradient(ellipse, rgba(57,221,182,0.10) 0%, transparent 70%)",borderRadius:"50%",pointerEvents:"none"}}),l.jsx("div",{style:{position:"relative",zIndex:1,display:"flex",flexDirection:"column",flex:1},children:e})]})}function or({title:e,sub:t,onBack:n}){return l.jsxs("div",{style:{marginBottom:20},children:[n&&l.jsx("button",{onClick:n,style:{background:"none",border:"none",color:a.dim,fontSize:8,cursor:"pointer",...R,marginBottom:10,padding:0},children:" back"}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:12},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain",filter:"drop-shadow(0 0 10px rgba(57,221,182,0.65))"}}),l.jsxs("span",{style:{fontSize:15,fontWeight:700,letterSpacing:"0.11em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsx("div",{style:{fontSize:13,color:a.text,fontWeight:700,letterSpacing:"0.05em"},children:e}),t&&l.jsx("div",{style:{fontSize:8,color:a.dim,marginTop:5,lineHeight:1.6},children:t})]})}function Dx({network:e,onComplete:t}){const[n,r]=x.useState("choose"),o="mainnet",[i,s]=x.useState(""),[u,c]=x.useState(""),[d,g]=x.useState(qe),[m,h]=x.useState(""),[v,k]=x.useState(""),[E,w]=x.useState(""),[f,p]=x.useState(qe),[y,S]=x.useState([]),[C,_]=x.useState([]),[O,N]=x.useState(Rx),[H,V]=x.useState(String(cl[0])),[J,he]=x.useState(String(cl[1])),[ce,_e]=x.useState(String(dl[0])),[Me,Y]=x.useState(String(dl[1])),[de,P]=x.useState(!0),[z,F]=x.useState(!0),[$,X]=x.useState(String(ma)),[oe,ie]=x.useState(zt(qe)),[Q,Pe]=x.useState(!1),[U,fe]=x.useState(!1),[ke,W]=x.useState(null),Et=(A,D)=>{const q=new Map;for(const ye of[...A,...D]){const j=Yr(ye);q.has(j)||q.set(j,ye)}return[...q.values()]},Kt=()=>{const A=[];return de&&A.push(0),z&&A.push(1),A.length?A:[0]},ot=async()=>{const A=await Px(m,v||void 0,o);return _(A.map(D=>Yr(D))),A},ft=async()=>{fe(!0),W(null);try{const A=await ot();if(!A.length)throw new Error("No remembered candidates found for this phrase/passphrase.");S(A);const D=A[0];w(D.address),p(D.derivation),ie(D.derivationPath),r("import_discover")}catch(A){const D=A instanceof Error?A.message:String(A);W(D||"Failed to load remembered candidates.")}finally{fe(!1)}},Ce=async()=>{var A;fe(!0),W(null);try{const D=w0(oe),q=await rd(m,o,{mnemonicPassphrase:v||void 0,derivation:D}),ye={address:q.address,derivation:lt(q.derivation??D),derivationPath:zt(q.derivation??D),chainLabel:((A=q.derivation)==null?void 0:A.chain)===1?"change":"receive"};w(ye.address),p(ye.derivation),S(j=>Et([ye],j)),await pa(m,v||void 0,o,[ye]),_(j=>{const M=new Set(j);return M.add(Yr(ye)),[...M]}),r("import_password")}catch(D){const q=D instanceof Error?D.message:String(D);W(q||"Failed to validate derivation path.")}finally{fe(!1)}},Fe=async()=>{fe(!0),W(null);try{const A=await D0(o);s(A.phrase),c(A.address),g(lt(A.derivation??qe)),r("create_view")}catch{W("Failed to generate wallet. Please try again.")}finally{fe(!1)}},kt=async A=>{fe(!0),W(null);try{await Ji(i,A,u,o,{derivation:d}),await ia({address:u,network:o});const D=await Jn(A);s(""),t(D)}catch{W("Failed to encrypt vault. Please try again."),fe(!1)}},Wt=async()=>{fe(!0),W(null);try{const A=await rd(m,o,{mnemonicPassphrase:v||void 0}),D=lt(A.derivation??qe),q={address:A.address,derivation:D,derivationPath:zt(D),chainLabel:D.chain===1?"change":"receive"};w(A.address),p(D),S([q]),ie(q.derivationPath),r("import_password")}catch(A){const D=A instanceof Error?A.message:String(A);W(D.toLowerCase().includes("bip39")||D.toLowerCase().includes("checksum")?"Invalid BIP39 phrase. Check word count, spelling, and passphrase.":"Failed to validate phrase.")}finally{fe(!1)}},Lt=async()=>{fe(!0),W(null);let A=[],D=[],q="";try{try{A=await ot()}catch{A=[]}const ye=Id(H,J,cl),j=Id(ce,Me,dl),M=Kt(),le=bx(O),He=Lx($);try{D=await z0(m,o,{mnemonicPassphrase:v||void 0,basePaths:le,accountRange:ye,indexRange:j,chains:M,limit:He})}catch(K){q=K instanceof Error?K.message:String(K)}const Le=Et(D,A);if(!Le.length)throw new Error(q||"No derivation candidates found for the configured scan window.");D.length&&await pa(m,v||void 0,o,D),q&&A.length&&W(`${q} Showing remembered candidates only.`),S(Le),_(Le.map(K=>Yr(K)));const T=Le[0];E||(w(T.address),p(T.derivation)),ie(T.derivationPath),r("import_discover")}catch(ye){const j=ye instanceof Error?ye.message:String(ye);W(j||"Failed to scan import paths.")}finally{fe(!1)}},Ve=A=>{w(A.address),p(lt(A.derivation)),ie(A.derivationPath),r("import_password")},At=async A=>{fe(!0),W(null);try{const D=m.trim().toLowerCase().split(/\s+/).join(" ");await Ji(D,A,E,o,{mnemonicPassphrase:v||void 0,derivation:f}),await ia({address:E,network:o});try{await jx(D,v||void 0,o,{address:E,derivation:f,derivationPath:zt(f),chainLabel:f.chain===1?"change":"receive"})}catch{}const q=await Jn(A);h(""),k(""),S([]),_([]),t(q)}catch{W("Failed to encrypt vault. Please try again."),fe(!1)}},B=i.split(" ");return n==="choose"?l.jsxs(bn,{children:[l.jsx(or,{title:"SET UP YOUR WALLET",sub:"Non-custodial  Your keys never leave your device"}),l.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:14},children:["KASPA L1  L2","NON-CUSTODIAL","BIP44"].map(A=>l.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em",background:`${a.accent}10`,border:`1px solid ${a.accent}22`,borderRadius:4,padding:"3px 7px"},children:A},A))}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:18,padding:"7px 12px",background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8},children:[l.jsx("div",{style:{width:7,height:7,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsx("span",{style:{fontSize:8,color:a.accent,fontWeight:700,letterSpacing:"0.08em"},children:"MAINNET"})]}),ke&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:ke}),l.jsx("button",{onClick:Fe,disabled:U,style:{width:"100%",padding:"18px 16px",textAlign:"left",background:`linear-gradient(145deg, ${a.accent}1A, rgba(11,17,24,0.95))`,border:`1px solid ${a.accent}45`,borderRadius:12,marginBottom:10,cursor:U?"not-allowed":"pointer",...R},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:`${a.accent}18`,border:`1px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{style:{color:a.accent,fontSize:18},children:""})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.accent,marginBottom:4,letterSpacing:"0.06em"},children:U?"GENERATING":"CREATE NEW WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6},children:"Generate a new wallet  24-word seed phrase  fully encrypted locally"})]})]})}),l.jsx("button",{onClick:()=>{W(null),h(""),k(""),w(""),S([]),_([]),p(qe),ie(zt(qe)),r("import_phrase")},style:{width:"100%",padding:"18px 16px",textAlign:"left",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:12,marginBottom:18,cursor:"pointer",...R},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[l.jsx("div",{style:{width:40,height:40,borderRadius:"50%",flexShrink:0,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx("span",{style:{color:a.dim,fontSize:18},children:""})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:11,fontWeight:700,color:a.text,marginBottom:4,letterSpacing:"0.06em"},children:"IMPORT WALLET"}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.6},children:"Restore from a BIP39 seed phrase  supports 12/15/18/21/24 words"})]})]})}),l.jsx("div",{style:{marginTop:"auto",padding:"10px 12px",background:"rgba(5,7,10,0.5)",border:`1px solid ${a.border}`,borderRadius:8},children:["Your keys never leave your device.","Non-custodial  Forge-OS has zero access to your funds."].map((A,D)=>l.jsxs("div",{style:{display:"flex",gap:6,marginBottom:D===0?4:0},children:[l.jsx("span",{style:{color:a.ok,fontSize:8,flexShrink:0},children:""}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:A})]},D))})]}):n==="create_view"?l.jsxs(bn,{children:[l.jsx(or,{title:"YOUR SEED PHRASE",sub:"Write these 24 words down in order and store them offline. Anyone with this phrase controls your wallet.",onBack:()=>{r("choose"),s(""),c(""),g(qe)}}),l.jsx("div",{style:{background:a.wLow,border:`1px solid ${a.warn}40`,borderRadius:8,padding:"8px 12px",marginBottom:12},children:l.jsx("div",{style:{fontSize:8,color:a.warn,fontWeight:700},children:" NEVER share this phrase. Forge-OS will never ask for it."})}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:4,marginBottom:14},children:B.map((A,D)=>l.jsxs("div",{style:{background:"rgba(5,7,10,0.9)",border:`1px solid ${a.border}`,borderRadius:5,padding:"5px 4px",display:"flex",alignItems:"center",gap:3},children:[l.jsxs("span",{style:{fontSize:8,color:a.dim,flexShrink:0},children:[D+1,"."]}),l.jsx("span",{style:{fontSize:8,color:a.text,fontWeight:600},children:A})]},D))}),l.jsxs("label",{style:{display:"flex",gap:8,alignItems:"flex-start",cursor:"pointer",marginBottom:14},children:[l.jsx("input",{type:"checkbox",checked:Q,onChange:A=>Pe(A.target.checked),style:{marginTop:2,accentColor:a.accent,flexShrink:0}}),l.jsx("span",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"I have written down my 24-word seed phrase and stored it securely offline."})]}),l.jsx("button",{onClick:()=>r("create_password"),disabled:!Q,style:{width:"100%",padding:"11px 0",background:Q?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:Q?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:Q?"pointer":"not-allowed",letterSpacing:"0.1em",...R},children:"I'VE SAVED MY PHRASE "})]}):n==="create_password"?l.jsxs(bn,{children:[l.jsx(or,{title:"ENCRYPT YOUR WALLET",sub:"Your seed phrase will be encrypted and stored locally. You'll need this password to unlock your wallet.",onBack:()=>r("create_view")}),ke&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:ke}),l.jsx(_d,{onSubmit:kt,loading:U,submitLabel:"CREATE WALLET"})]}):n==="import_phrase"?l.jsxs(bn,{children:[l.jsx(or,{title:"IMPORT SEED PHRASE",sub:"Enter a BIP39 seed phrase (12/15/18/21/24 words). Optional BIP39 passphrase supported.",onBack:()=>r("choose")}),ke&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:ke}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"SEED PHRASE"}),l.jsx("textarea",{value:m,onChange:A=>{h(A.target.value),S([]),_([]),w(""),W(null)},placeholder:"word1 word2 word3  (space-separated)",rows:4,style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,resize:"vertical",...R,outline:"none",marginBottom:10}}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em",marginBottom:7},children:"BIP39 PASSPHRASE (OPTIONAL)"}),l.jsx("input",{type:"password",value:v,onChange:A=>{k(A.target.value),S([]),_([]),w(""),W(null)},placeholder:"Optional passphrase / 25th word",style:{width:"100%",boxSizing:"border-box",background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 12px",color:a.text,fontSize:10,...R,outline:"none",marginBottom:10}}),m.trim()&&(()=>{const A=m.trim().split(/\s+/).filter(Boolean).length,D=[12,15,18,21,24].includes(A);return l.jsxs("div",{style:{fontSize:8,color:D?a.ok:a.warn,marginBottom:8},children:[A," words ",D?"":"(need 12/15/18/21/24)"]})})(),l.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"DISCOVERY SCAN OPTIONS"}),l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5},children:"BASE PATH ROOTS (ONE PER LINE)"}),l.jsx("textarea",{value:O,onChange:A=>N(A.target.value),rows:2,style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",color:a.text,fontSize:8,resize:"vertical",...R,outline:"none",marginBottom:8}}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8,marginBottom:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"ACCOUNT RANGE"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsx("input",{type:"number",min:0,value:H,onChange:A=>V(A.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...R,outline:"none"}}),l.jsx("input",{type:"number",min:0,value:J,onChange:A=>he(A.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...R,outline:"none"}})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"INDEX RANGE"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:6},children:[l.jsx("input",{type:"number",min:0,value:ce,onChange:A=>_e(A.target.value),placeholder:"start",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...R,outline:"none"}}),l.jsx("input",{type:"number",min:0,value:Me,onChange:A=>Y(A.target.value),placeholder:"end",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...R,outline:"none"}})]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:5},children:"CHAINS"}),l.jsxs("div",{style:{display:"flex",gap:10},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:8,color:a.dim,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:de,onChange:A=>P(A.target.checked),style:{accentColor:a.accent}}),"RECEIVE (0)"]}),l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:5,fontSize:8,color:a.dim,cursor:"pointer"},children:[l.jsx("input",{type:"checkbox",checked:z,onChange:A=>F(A.target.checked),style:{accentColor:a.accent}}),"CHANGE (1)"]})]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4},children:"RESULT LIMIT"}),l.jsx("input",{type:"number",min:1,max:qm,value:$,onChange:A=>X(A.target.value),style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:7,padding:"7px 8px",color:a.text,fontSize:8,...R,outline:"none"}})]})]})]}),l.jsxs("div",{style:{background:"rgba(8,13,20,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.08em",marginBottom:6},children:"MANUAL DERIVATION PATH"}),l.jsx("input",{value:oe,onChange:A=>ie(A.target.value),placeholder:"m/44'/111'/0'/0/0",style:{width:"100%",boxSizing:"border-box",background:"rgba(5,7,10,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"9px 10px",color:a.text,fontSize:8,...R,outline:"none",marginBottom:8}}),l.jsx("button",{onClick:Ce,disabled:!m.trim()||U,style:{width:"100%",padding:"9px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!U?a.text:a.dim,fontSize:8,fontWeight:700,cursor:m.trim()&&!U?"pointer":"not-allowed",letterSpacing:"0.08em",...R},children:U?"VALIDATING":"USE MANUAL PATH"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[l.jsx("button",{onClick:Wt,disabled:!m.trim()||U,style:{width:"100%",padding:"11px 0",background:m.trim()&&!U?`linear-gradient(90deg, ${a.accent}, #7BE9CF)`:`${a.accent}25`,border:"none",borderRadius:8,color:m.trim()&&!U?"#04110E":a.dim,fontSize:10,fontWeight:700,cursor:m.trim()&&!U?"pointer":"not-allowed",letterSpacing:"0.1em",...R},children:U?"VALIDATING":"VALIDATE PHRASE "}),l.jsx("button",{onClick:Lt,disabled:!m.trim()||U,style:{width:"100%",padding:"11px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!U?a.text:a.dim,fontSize:9,fontWeight:700,cursor:m.trim()&&!U?"pointer":"not-allowed",letterSpacing:"0.08em",...R},children:U?"SCANNING":"SCAN PATHS"})]}),l.jsx("button",{onClick:ft,disabled:!m.trim()||U,style:{width:"100%",padding:"10px 0",marginTop:8,background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:m.trim()&&!U?a.text:a.dim,fontSize:8,fontWeight:700,cursor:m.trim()&&!U?"pointer":"not-allowed",letterSpacing:"0.08em",...R},children:U?"LOADING":"LOAD REMEMBERED CANDIDATES"})]}):n==="import_discover"?l.jsxs(bn,{children:[l.jsx(or,{title:"SELECT DERIVATION",sub:"Choose the address/path that matches your existing wallet. This choice will be saved for signing.",onBack:()=>r("import_phrase")}),ke&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:ke}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.65)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.5},children:"Showing common derivation candidates for your phrase/passphrase. If unsure, compare with the address shown in your current wallet app and select the exact match."}),l.jsxs("div",{style:{fontSize:8,color:a.dim,marginTop:6},children:["Remembered candidates for this mnemonic fingerprint: ",C.length]})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6,maxHeight:300,overflowY:"auto",paddingRight:2,marginBottom:12},children:y.map((A,D)=>{const q=A.address.toLowerCase()===E.toLowerCase()&&zt(A.derivation)===zt(f),ye=C.includes(Yr(A));return l.jsxs("button",{onClick:()=>Ve(A),style:{width:"100%",textAlign:"left",background:q?`${a.accent}10`:"rgba(8,13,20,0.8)",border:`1px solid ${q?`${a.accent}55`:a.border}`,borderRadius:8,padding:"9px 10px",cursor:"pointer",...R},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:8,marginBottom:4},children:[l.jsxs("span",{style:{fontSize:8,color:q?a.accent:a.text,fontWeight:700},children:["#",D+1,"  ",A.chainLabel.toUpperCase()]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[ye&&l.jsx("span",{style:{fontSize:8,color:a.accent,border:`1px solid ${a.accent}44`,background:`${a.accent}14`,borderRadius:4,padding:"2px 4px",letterSpacing:"0.06em"},children:"REMEMBERED"}),l.jsx("span",{style:{fontSize:8,color:a.dim},children:A.derivation.account===0?"acct 0":`acct ${A.derivation.account}`})]})]}),l.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.45,wordBreak:"break-all",marginBottom:4},children:A.address}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:A.derivationPath})]},`${A.address}-${A.derivationPath}`)})}),l.jsx("button",{onClick:()=>Lt(),disabled:U,style:{width:"100%",padding:"10px 0",background:"rgba(11,17,24,0.85)",border:`1px solid ${a.border}`,borderRadius:8,color:U?a.dim:a.text,fontSize:9,fontWeight:700,cursor:U?"not-allowed":"pointer",letterSpacing:"0.08em",...R},children:U?"SCANNING":"RESCAN CANDIDATES"})]}):n==="import_password"?l.jsxs(bn,{children:[l.jsx(or,{title:"ENCRYPT YOUR WALLET",sub:"Your imported phrase will be encrypted and stored locally. Choose a strong password.",onBack:()=>r(y.length?"import_discover":"import_phrase")}),l.jsxs("div",{style:{background:"rgba(8,13,20,0.8)",border:`1px solid ${a.border}`,borderRadius:8,padding:"8px 10px",marginBottom:10},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,marginBottom:4,letterSpacing:"0.08em"},children:"SELECTED ADDRESS"}),l.jsx("div",{style:{fontSize:8,color:a.text,lineHeight:1.4,wordBreak:"break-all",marginBottom:4},children:E}),l.jsx("div",{style:{fontSize:8,color:a.dim,lineHeight:1.4,wordBreak:"break-all"},children:zt(f)})]}),ke&&l.jsx("div",{style:{fontSize:8,color:a.danger,marginBottom:10},children:ke}),l.jsx(_d,{onSubmit:At,loading:U,submitLabel:"IMPORT WALLET"})]}):l.jsx(bn,{children:l.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",filter:"drop-shadow(0 0 12px rgba(57,221,182,0.7))",marginBottom:14}}),l.jsx("div",{style:{fontSize:10,color:a.accent,marginBottom:6,letterSpacing:"0.1em",fontWeight:700},children:"ENCRYPTING VAULT"}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:"Deriving key  This may take a moment"})]})})})}function zx({address:e,network:t,origin:n,onApprove:r,onReject:o}){const i=n??"forge-os.xyz";return l.jsxs("div",{style:{width:Vm,minHeight:Hm,...Lr(),display:"flex",flexDirection:"column",...R,overflowX:"hidden",overflowY:"auto",zoom:br},children:[l.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),l.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"24px 16px",gap:16},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.accent}18`,border:`2px solid ${a.accent}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 14px"},children:l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:30,height:30,objectFit:"contain"}})}),l.jsx("div",{style:{fontSize:13,fontWeight:700,color:a.text,marginBottom:4},children:"Connect to Site"}),l.jsx("div",{style:{fontSize:10,color:a.dim,letterSpacing:"0.06em",wordBreak:"break-word",overflowWrap:"anywhere"},children:i})]}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.8)",border:`1px solid ${a.border}`,borderRadius:10,padding:"12px 14px"},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:10},children:"THIS SITE WILL BE ABLE TO"}),[{icon:"",label:"View your wallet address"},{icon:"",label:"Request message signatures"}].map(s=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:6,fontSize:10,color:a.text},children:[l.jsx("span",{style:{color:a.ok,fontSize:9,flexShrink:0},children:s.icon}),s.label]},s.label)),l.jsx("div",{style:{height:1,background:a.border,margin:"10px 0"}}),l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"THIS SITE WILL NOT BE ABLE TO"}),[{icon:"",label:"Access your private keys or seed phrase"},{icon:"",label:"Send transactions without your approval"}].map(s=>l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:4,fontSize:10,color:a.muted},children:[l.jsx("span",{style:{color:a.danger,fontSize:9,flexShrink:0},children:s.icon}),s.label]},s.label))]}),l.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:9,color:a.dim,marginBottom:2},children:"CONNECTING WITH"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:600},children:Uo(e)}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:t})]})]})]}),l.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[l.jsx("button",{onClick:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:10,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...R},children:"REJECT"}),l.jsx("button",{onClick:r,style:{flex:2,background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:"#04110E",fontSize:11,fontWeight:700,cursor:"pointer",letterSpacing:"0.08em",...R},children:"CONNECT "})]})]})}function Mx({address:e,network:t,origin:n,message:r,loading:o=!1,error:i,onApprove:s,onReject:u}){const c=n??"forge-os.xyz";return l.jsxs("div",{style:{width:Vm,minHeight:Hm,...Lr(),display:"flex",flexDirection:"column",...R,overflowX:"hidden",overflowY:"auto",zoom:br},children:[l.jsxs("div",{style:{padding:"12px 14px 10px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",gap:8},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:22,height:22,objectFit:"contain",filter:"drop-shadow(0 0 6px rgba(57,221,182,0.5))"}}),l.jsxs("span",{style:{fontSize:13,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"18px 16px",gap:12},children:[l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("div",{style:{width:52,height:52,borderRadius:"50%",background:`${a.warn}18`,border:`2px solid ${a.warn}40`,display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:l.jsx("span",{style:{fontSize:22},children:""})}),l.jsx("div",{style:{fontSize:12,fontWeight:700,color:a.text,marginBottom:3},children:"Signature Request"}),l.jsx("div",{style:{fontSize:10,color:a.dim,letterSpacing:"0.06em"},children:c})]}),l.jsxs("div",{style:{background:"rgba(11,17,24,0.9)",border:`1px solid ${a.border}`,borderRadius:10,padding:"10px 12px",minWidth:0},children:[l.jsx("div",{style:{fontSize:8,color:a.dim,letterSpacing:"0.12em",marginBottom:6},children:"MESSAGE TO SIGN"}),l.jsx("div",{style:{maxHeight:180,overflowY:"auto",background:"rgba(5,7,10,0.7)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px",fontSize:9,color:a.text,lineHeight:1.5,whiteSpace:"pre-wrap",wordBreak:"break-word",overflowWrap:"anywhere"},children:r})]}),l.jsxs("div",{style:{background:`${a.accent}08`,border:`1px solid ${a.accent}20`,borderRadius:8,padding:"10px 12px",display:"flex",alignItems:"center",gap:10,minWidth:0},children:[l.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:a.ok,flexShrink:0}}),l.jsxs("div",{style:{minWidth:0},children:[l.jsx("div",{style:{fontSize:9,color:a.dim,marginBottom:2},children:"SIGNING WITH"}),l.jsx("div",{style:{fontSize:11,color:a.text,fontWeight:600},children:Uo(e)}),l.jsx("div",{style:{fontSize:8,color:a.dim},children:t})]})]}),i&&l.jsx("div",{style:{fontSize:9,color:a.danger,lineHeight:1.5,textAlign:"center"},children:i})]}),l.jsxs("div",{style:{padding:"12px 16px",borderTop:`1px solid ${a.border}`,display:"flex",gap:10},children:[l.jsx("button",{onClick:u,disabled:o,style:{flex:1,background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:8,padding:"10px 0",color:a.dim,fontSize:10,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...R},children:"REJECT"}),l.jsx("button",{onClick:s,disabled:o,style:{flex:2,background:o?`${a.accent}35`:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,border:"none",borderRadius:8,padding:"10px 0",color:o?a.dim:"#04110E",fontSize:11,fontWeight:700,cursor:o?"not-allowed":"pointer",letterSpacing:"0.08em",...R},children:o?"SIGNING":"SIGN MESSAGE "})]})]})}const Cd="forgeos.connect.pending",Nd="forgeos.sign.pending";function Fx(){const[e,t]=x.useState({type:"loading"}),[n,r]=x.useState(null),[o,i]=x.useState("mainnet"),[s,u]=x.useState(null),[c,d]=x.useState(0),[g,m]=x.useState(!1),[h,v]=x.useState("wallet"),[k,E]=x.useState(),[w,f]=x.useState(15),[p,y]=x.useState(!1),[S,C]=x.useState(!1),[_,O]=x.useState(null),[N,H]=x.useState(null),[V,J]=x.useState(!1),[he,ce]=x.useState(null),[_e,Me]=x.useState(null),[Y,de]=x.useState(null),[P,z]=x.useState(null),[F,$]=x.useState(null),[X,oe]=x.useState(null),[ie,Q]=x.useState(null),[Pe,U]=x.useState(null),fe=["mainnet","testnet-10","testnet-11","testnet-12"],ke={mainnet:"MAINNET","testnet-10":"TN10","testnet-11":"TN11","testnet-12":"TN12"},W=45e3,Et=45e3,Kt=6e4;x.useEffect(()=>{(async()=>{try{const[b,G,Ae,Ue,be]=await Promise.all([lm(),cu(),Vy(),Gy(),Qy()]);if(i(G),f(Ae),y(Ue===!0),C(be===!0),!b){const pt=await Jc();pt!=null&&pt.address?(r({mnemonic:"",address:pt.address,network:G,autoLockAt:1/0}),Ce(pt.address,G),t({type:"unlocked"})):t({type:"first_run"});return}const Tt=jn()??await am();if(Tt)r(Tt),Ce(Tt.address,G),t({type:"unlocked"});else{const pt=await Jc();Me((pt==null?void 0:pt.address)??null),t({type:"locked"})}}catch{t({type:"first_run"})}})()},[]);const ot=x.useCallback(()=>{var G;const b=(G=chrome.storage)==null?void 0:G.session;b!=null&&b.get&&b.get([Cd,Nd]).then(Ae=>{const Ue=Ae==null?void 0:Ae[Cd],be=Ae==null?void 0:Ae[Nd];O(Ue!=null&&Ue.requestId?Ue:null),H(be!=null&&be.requestId&&typeof(be==null?void 0:be.message)=="string"?be:null)}).catch(()=>{})},[]);x.useEffect(()=>{ot()},[ot]),x.useEffect(()=>{const b=(G,Ae)=>{Ae==="session"&&ot()};return chrome.storage.onChanged.addListener(b),()=>chrome.storage.onChanged.removeListener(b)},[ot]),x.useEffect(()=>{ce(null)},[N==null?void 0:N.requestId]),x.useEffect(()=>{const b=G=>{(G==null?void 0:G.type)==="AUTOLOCK_FIRED"&&kt()};return chrome.runtime.onMessage.addListener(b),()=>chrome.runtime.onMessage.removeListener(b)},[]),x.useEffect(()=>{if(e.type!=="unlocked"||!n)return;const b=setInterval(()=>{jn()||kt()},3e4);return()=>clearInterval(b)},[e.type,n]);const ft=x.useCallback(b=>{var Ue;const G=l0(b);if(!Array.isArray(G)||G.length===0){z(null);return}const Ae=[...G].sort((be,Tt)=>be.lastOkAt!==Tt.lastOkAt?Tt.lastOkAt-be.lastOkAt:be.consecutiveFails!==Tt.consecutiveFails?be.consecutiveFails-Tt.consecutiveFails:Tt.lastFailAt-be.lastFailAt);z(((Ue=Ae[0])==null?void 0:Ue.base)??null)},[]);x.useEffect(()=>{if(e.type!=="unlocked")return;const b=async()=>{const Ae=await y0(o);Ae!=null&&Ae.virtualDaaScore?(de(Ae.virtualDaaScore),Q(Date.now()),U(Ue=>Ue!=null&&Ue.startsWith("Live BlockDAG feed")?null:Ue)):U("Live BlockDAG feed unavailable  retrying"),ft(o)};b();const G=setInterval(b,2e4);return()=>clearInterval(G)},[e.type,o,ft]);const Ce=x.useCallback(async(b,G)=>{try{const Ae=co(b,G),[Ue,be]=await Promise.allSettled([v0(Ae,G),S0(G)]),Tt=Date.now();let pt=!1;Ue.status==="fulfilled"?(u(Ue.value),$(Tt)):pt=!0,be.status==="fulfilled"?(d(be.value),oe(Tt)):pt=!0,U(Ko=>pt?"Live balance/price feed degraded  retrying":Ko!=null&&Ko.startsWith("Live balance/price feed")?null:Ko),ft(G)}catch{}},[ft]);x.useEffect(()=>{if(e.type!=="unlocked"||!(n!=null&&n.address))return;const b=()=>{Ce(n.address,o)};b();const G=setInterval(b,15e3);return()=>clearInterval(G)},[e.type,n==null?void 0:n.address,o,Ce]);const Fe=b=>{Me(null),r(b),Ce(b.address,o),t({type:"unlocked"})},kt=()=>{Me((n==null?void 0:n.address)??null),cm(),r(null),u(null),d(0),de(null),z(null),$(null),oe(null),Q(null),U(null),t({type:"locked"})},Wt=async()=>{const{resetWallet:b}=await Xp(async()=>{const{resetWallet:G}=await Promise.resolve().then(()=>P0);return{resetWallet:G}},void 0);await b(),r(null),u(null),d(0),de(null),z(null),$(null),oe(null),Q(null),U(null),t({type:"first_run"})},Lt=b=>{r(b),Ce(b.address,o),t({type:"unlocked"})},Ve=(()=>{if(!(n!=null&&n.address))return null;try{return co(n.address,o)}catch{return n.address}})(),At=async()=>{if(Ve)try{await navigator.clipboard.writeText(Ve),m(!0),setTimeout(()=>m(!1),2e3)}catch{}},B=async()=>{const b=fe.indexOf(o),G=fe[(b+1)%fe.length];if(i(G),await Wy(G),u(null),de(null),z(null),$(null),oe(null),Q(null),U(null),n!=null&&n.address){try{await ia({address:co(n.address,G),network:G})}catch{}Ce(n.address,G)}},A=()=>{e.type==="unlocked"&&ki(w,{persistSession:p})},D=async b=>{f(b),await Hy(b),e.type==="unlocked"&&ki(b,{persistSession:p})},q=async b=>{y(b),await Xy(b),await um(b),e.type==="unlocked"&&ki(w,{persistSession:b})},ye=async()=>{const b=!S;C(b);try{await Yy(b)}catch{}};x.useEffect(()=>{e.type!=="unlocked"||!N||n!=null&&n.mnemonic||(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:N.requestId,error:"Managed wallet is required for site signing"}).catch(()=>{}),H(null))},[e.type,N,n==null?void 0:n.mnemonic]);const j=async()=>{const b=N;if(b){if(!(n!=null&&n.mnemonic)){ce("Wallet is locked. Unlock to sign.");return}J(!0),ce(null);try{const G=await M0(n.mnemonic,b.message,{mnemonicPassphrase:n.mnemonicPassphrase,derivation:n.derivation});await chrome.runtime.sendMessage({type:"FORGEOS_SIGN_APPROVE",requestId:b.requestId,signature:G}),H(null)}catch(G){const Ae=G instanceof Error?G.message:String(G);ce(Ae||"Signing failed")}finally{J(!1)}}},M=()=>{N&&(chrome.runtime.sendMessage({type:"FORGEOS_SIGN_REJECT",requestId:N.requestId,error:"Signing rejected by user"}).catch(()=>{}),window.close())};if(e.type==="loading")return l.jsxs("div",{style:{width:ns,height:rs,...Lr(),display:"flex",alignItems:"center",justifyContent:"center",...R,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:br},children:[l.jsx("div",{style:{position:"absolute",top:"30%",left:"50%",transform:"translate(-50%,-50%)",width:260,height:260,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}12 0%, transparent 70%)`,pointerEvents:"none"}}),l.jsxs("div",{style:{textAlign:"center",position:"relative"},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"",style:{width:36,height:36,objectFit:"contain",opacity:.7,filter:"drop-shadow(0 0 10px rgba(57,221,182,0.5))"}}),l.jsx("div",{style:{fontSize:9,color:a.dim,marginTop:10,letterSpacing:"0.14em"},children:"LOADING"})]})]});if(e.type==="first_run")return l.jsx(Dx,{network:o,onComplete:Lt});if(e.type==="locked")return l.jsx(vx,{walletAddress:_e,autoLockMinutes:w,persistSession:p,onUnlock:Fe,onReset:Wt});const le=!!(n!=null&&n.mnemonic);if(N&&Ve&&le)return l.jsx(Mx,{address:Ve,network:o,origin:N.origin,message:N.message,loading:V,error:he,onApprove:j,onReject:M});if(_&&Ve)return l.jsx(zx,{address:Ve,network:o,origin:_.origin,onApprove:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_APPROVE",requestId:_.requestId,address:Ve,network:o}).catch(()=>{}),O(null)},onReject:()=>{chrome.runtime.sendMessage({type:"FORGEOS_CONNECT_REJECT",requestId:_.requestId}).catch(()=>{}),window.close()}});const He=Ve,Le="USD",T=s!==null&&c>0?s*c:null,K=T!==null?My(T,Le):"",re=S?"":K,Jt=o==="mainnet",eh=Date.now(),ks=(b,G)=>b!==null&&eh-b<=G,bu=ks(F,W),Du=ks(X,Et),zu=ks(ie,Kt),Mu=bu&&Du&&zu,Fu=bu||Du||zu,th=Mu?"LIVE FEED":Fu?"PARTIAL FEED":"FEED OFFLINE",nh=Mu?a.ok:Fu?a.warn:a.danger,Uu=Math.max(F??0,X??0,ie??0),rh=Uu>0?new Date(Uu).toLocaleTimeString([],{hour12:!1}):"never",oh=(()=>{if(!P)return"endpoint unknown";try{return new URL(P).host}catch{return P}})(),As=Jt?a.ok:a.warn;return l.jsxs("div",{onClick:A,style:{width:ns,minHeight:rs,...Lr(),display:"flex",flexDirection:"column",...R,position:"relative",overflowX:"hidden",overflowY:"auto",zoom:br},children:[l.jsx("div",{style:{position:"absolute",top:-60,left:"50%",transform:"translateX(-50%)",width:320,height:320,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}0D 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),l.jsx("div",{style:{position:"absolute",bottom:40,right:-60,width:200,height:200,borderRadius:"50%",background:`radial-gradient(ellipse, ${a.accent}07 0%, transparent 70%)`,pointerEvents:"none",zIndex:0}}),l.jsxs("div",{style:{padding:"13px 16px 11px",borderBottom:`1px solid ${a.border}`,display:"flex",alignItems:"center",justifyContent:"space-between",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:9},children:[l.jsx("img",{src:"../icons/icon48.png",alt:"Forge-OS",style:{width:24,height:24,objectFit:"contain",filter:"drop-shadow(0 0 8px rgba(57,221,182,0.55))"}}),l.jsxs("span",{style:{fontSize:14,fontWeight:700,letterSpacing:"0.1em"},children:[l.jsx("span",{style:{color:a.accent},children:"FORGE"}),l.jsx("span",{style:{color:a.text},children:"-OS"})]})]}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[l.jsx("button",{onClick:B,title:"Click to switch network",style:{fontSize:9,color:As,fontWeight:700,letterSpacing:"0.1em",background:`${As}15`,border:`1px solid ${As}35`,borderRadius:4,padding:"3px 8px",cursor:"pointer",...R},children:ke[o]??o.toUpperCase()}),le&&l.jsx("button",{onClick:kt,title:"Lock wallet",style:{background:"rgba(33,48,67,0.5)",border:`1px solid ${a.border}`,borderRadius:4,padding:"3px 8px",color:a.dim,fontSize:10,cursor:"pointer",...R},children:""})]})]}),He?l.jsxs("div",{style:{padding:"20px 16px 16px",borderBottom:`1px solid ${a.border}`,textAlign:"center",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:16},children:[l.jsx("div",{style:{width:6,height:6,borderRadius:"50%",background:a.ok,flexShrink:0,boxShadow:`0 0 6px ${a.ok}`}}),l.jsx("span",{style:{fontSize:10,color:a.dim,letterSpacing:"0.04em"},children:Uo(He)}),l.jsx("button",{onClick:At,style:{...ne(g?a.ok:a.dim,!0),padding:"3px 8px",fontSize:9,letterSpacing:"0.08em",color:g?a.ok:a.dim,minWidth:56},children:g?"COPIED":"COPY"})]}),l.jsxs("div",{style:{marginBottom:6},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:6,marginBottom:6},children:[l.jsx("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.1em"},children:"TOTAL PORTFOLIO VALUE"}),l.jsx("button",{onClick:ye,"aria-label":S?"Show portfolio balances":"Hide portfolio balances",title:S?"Show portfolio balances":"Hide portfolio balances",style:{...ne(S?a.warn:a.dim,!0),padding:"3px 0",fontSize:9,letterSpacing:"0.08em",color:S?a.warn:a.dim,minWidth:34,width:34,display:"inline-flex",alignItems:"center",justifyContent:"center"},children:l.jsxs("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",style:{flexShrink:0},children:[l.jsx("path",{d:"M1 6C1 6 2.8 3.4 6 3.4C9.2 3.4 11 6 11 6C11 6 9.2 8.6 6 8.6C2.8 8.6 1 6 1 6Z",stroke:"currentColor",strokeWidth:"1"}),l.jsx("circle",{cx:"6",cy:"6",r:"1.3",fill:"currentColor"}),S&&l.jsx("path",{d:"M1.3 1.3L10.7 10.7",stroke:"currentColor",strokeWidth:"1.2"})]})})]}),l.jsx("div",{style:{fontSize:38,fontWeight:700,color:a.text,letterSpacing:"0.005em",lineHeight:1},children:re})]}),l.jsx("div",{style:{display:"flex",gap:8,marginTop:16},children:[{label:"SEND",action:()=>{v("wallet"),E("send")}},{label:"RECEIVE",action:()=>{v("wallet"),E("receive")}},{label:"SWAP",action:()=>v("swap")}].map(b=>l.jsx("button",{onClick:b.action,style:{flex:1,background:`linear-gradient(145deg, ${a.accent}1A, rgba(8,13,20,0.7))`,border:`1px solid ${a.accent}40`,borderRadius:10,padding:"9px 0",color:a.accent,fontSize:10,fontWeight:700,cursor:"pointer",...R,letterSpacing:"0.1em",transition:"background 0.15s, border-color 0.15s"},children:b.label},b.label))})]}):l.jsxs("div",{style:{padding:"28px 16px",textAlign:"center",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:[l.jsx("div",{style:{fontSize:11,color:a.dim,marginBottom:12},children:"No wallet connected"}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:`linear-gradient(90deg, ${a.accent}, #7BE9CF)`,color:"#04110E",border:"none",borderRadius:10,padding:"10px 20px",fontSize:11,fontWeight:700,cursor:"pointer",...R,letterSpacing:"0.08em"},children:"OPEN FORGE-OS "})]}),l.jsx("div",{style:{display:"flex",borderBottom:`1px solid ${a.border}`,position:"relative",zIndex:1},children:["wallet","swap","agents","security"].map(b=>l.jsx("button",{onClick:()=>v(b),style:{flex:1,background:h===b?`${a.accent}08`:"none",border:"none",borderBottom:`2px solid ${h===b?a.accent:"transparent"}`,color:h===b?a.accent:a.dim,fontSize:10,fontWeight:700,cursor:"pointer",padding:"9px 0",letterSpacing:"0.1em",...R,textTransform:"uppercase",transition:"color 0.15s, border-color 0.15s, background 0.15s",boxShadow:h===b?`0 2px 12px ${a.accent}25`:"none"},children:b},b))}),l.jsxs("div",{style:{flex:1,overflow:"auto",position:"relative",zIndex:1},children:[h==="wallet"&&l.jsx(fv,{address:He,balance:s,usdPrice:c,network:o,onOpenSwap:()=>v("swap"),mode:k,onModeConsumed:()=>E(void 0),onBalanceInvalidated:()=>(n==null?void 0:n.address)&&Ce(n.address,o),hideBalances:S}),h==="swap"&&l.jsx(yx,{}),h==="agents"&&l.jsx(kv,{network:o}),h==="security"&&l.jsx(Av,{address:He,network:o,isManagedWallet:le,autoLockMinutes:w,persistUnlockSessionEnabled:p,onAutoLockMinutesChange:D,onPersistUnlockSessionChange:q,onLock:kt})]}),l.jsxs("div",{style:{padding:"7px 16px",borderTop:`1px solid ${a.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",position:"relative",zIndex:1},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:6},children:[l.jsx("span",{style:{fontSize:8,color:a.muted,letterSpacing:"0.06em"},children:"FORGE-OS"}),l.jsxs("span",{style:{fontSize:8,color:nh,letterSpacing:"0.05em",fontWeight:700},children:[" ",th]}),Y&&l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" ",d0[o]??10," BPS  DAA ",(parseInt(Y,10)/1e6).toFixed(1),"M"]}),l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" RPC ",oh]}),l.jsxs("span",{style:{fontSize:8,color:a.dim,letterSpacing:"0.04em"},children:[" UPDATE ",rh]})]}),l.jsx("button",{onClick:()=>chrome.tabs.create({url:"https://forge-os.xyz"}),style:{background:"none",border:"none",color:a.accent,fontSize:8,cursor:"pointer",...R,letterSpacing:"0.06em"},children:"OPEN SITE "})]}),Pe&&l.jsx("div",{style:{padding:"0 16px 7px",fontSize:8,color:a.warn,letterSpacing:"0.03em",position:"relative",zIndex:1},children:Pe})]})}Gp(document.getElementById("root")).render(l.jsx(x.StrictMode,{children:l.jsx(Fx,{})}));
