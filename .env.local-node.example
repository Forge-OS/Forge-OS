# ForgeOS Local Node Mode (kaspad) env template
# Copy to your own file (do not commit secrets):
#   cp .env.local-node.example .env.local-node
#   set -a; source .env.local-node; set +a
#
# Then run:
#   npm run local-node:start

# ── Control service ─────────────────────────────────────────────────────────────
LOCAL_NODE_CONTROL_HOST=127.0.0.1
LOCAL_NODE_CONTROL_PORT=19725
LOCAL_NODE_DEFAULT_PROFILE=mainnet

# Optional explicit data root override.
# Leave empty to use managed OS-native default paths:
# - macOS:   ~/Library/Application Support/ForgeOS/local-node
# - Windows: %LOCALAPPDATA%/ForgeOS/local-node
# - Linux:   $XDG_DATA_HOME/forgeos/local-node or ~/.local/share/forgeos/local-node
LOCAL_NODE_DATA_DIR=

# If false, binary must already exist via LOCAL_NODE_KASPAD_BINARY or PATH.
LOCAL_NODE_AUTO_INSTALL=true

# Preferred: explicit local binary path (if you already installed kaspad).
LOCAL_NODE_KASPAD_BINARY=

# Local kaspad RPC binding defaults (profile ports are adapter-driven).
LOCAL_NODE_RPC_HOST=127.0.0.1
LOCAL_NODE_RPC_BASE_URL=

# ── Local selection policy ──────────────────────────────────────────────────────
# Keep true in production so local node is selected only after sync.
LOCAL_NODE_REQUIRE_SYNC_FOR_SELECTION=true
VITE_LOCAL_NODE_REQUIRE_SYNC_FOR_SELECTION=true

# ── Probe / cache / event cadence ───────────────────────────────────────────────
LOCAL_NODE_RPC_PROBE_TIMEOUT_MS=1500
LOCAL_NODE_RPC_STARTUP_WAIT_MS=8000
LOCAL_NODE_RPC_STARTUP_PROBE_INTERVAL_MS=750
LOCAL_NODE_SYNC_CACHE_TTL_MS=1500
LOCAL_NODE_STATUS_CACHE_TTL_MS=1250
LOCAL_NODE_EVENTS_HEARTBEAT_MS=15000

# Bounded log tail read size for popup responsiveness (bytes).
LOCAL_NODE_LOG_TAIL_MAX_BYTES=262144

# ── Crash restart backoff ───────────────────────────────────────────────────────
LOCAL_NODE_RESTART_BACKOFF_BASE_MS=1000
LOCAL_NODE_RESTART_BACKOFF_MAX_MS=30000

# ── Download-on-first-run (if no LOCAL_NODE_KASPAD_BINARY/PATH) ───────────────
# Keep checksum enforcement enabled for supply-chain safety.
LOCAL_NODE_REQUIRE_CHECKSUM=true

# macOS Apple Silicon
LOCAL_NODE_KASPAD_URL_DARWIN_ARM64=
LOCAL_NODE_KASPAD_SHA256_DARWIN_ARM64=

# Linux x64
LOCAL_NODE_KASPAD_URL_LINUX_X64=
LOCAL_NODE_KASPAD_SHA256_LINUX_X64=

# Windows x64
LOCAL_NODE_KASPAD_URL_WIN32_X64=
LOCAL_NODE_KASPAD_SHA256_WIN32_X64=
